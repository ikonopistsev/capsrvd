#!/usr/bin/node
module.exports=function(e,n){"use strict";var t={};function __webpack_require__(n){if(t[n]){return t[n].exports}var i=t[n]={i:n,l:false,exports:{}};e[n].call(i.exports,i,i.exports,__webpack_require__);i.l=true;return i.exports}__webpack_require__.ab=__dirname+"/";function startup(){return __webpack_require__(798)}return startup()}({5:function(e,n,t){"use strict";e.exports.parse=t(627).parse;e.exports.match=t(773).match;e.exports.build=t(323).build;e.exports.write=t(323).write;e.exports.matcher=e.exports.compile=t(772).compile;e.exports.builder=t(772).compile_builder},9:function(e){"use strict";e.exports=function required(e,n){n=n.split(":")[0];e=+e;if(!e)return false;switch(n){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return false}return e!==0}},16:function(e){e.exports=require("tls")},22:function(e,n,t){"use strict";e.exports=function(e,n,i,r,o){var a=t(302);var c=a.canEvaluate;var f=a.tryCatch;var d=a.errorObj;var h;if(true){if(c){var s=function(e){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,e))};var p=function(e){return new Function("promise","holder","                           \n            'use strict';                                                    \n            holder.pIndex = promise;                                         \n            ".replace(/Index/g,e))};var u=function(n){var t=new Array(n);for(var i=0;i<t.length;++i){t[i]="this.p"+(i+1)}var r=t.join(" = ")+" = null;";var a="var promise;\n"+t.map(function(e){return"                                                         \n                promise = "+e+";                                      \n                if (promise instanceof Promise) {                            \n                    promise.cancel();                                        \n                }                                                            \n            "}).join("\n");var c=t.join(", ");var h="Holder$"+n;var s="return function(tryCatch, errorObj, Promise, async) {    \n            'use strict';                                                    \n            function [TheName](fn) {                                         \n                [TheProperties]                                              \n                this.fn = fn;                                                \n                this.asyncNeeded = true;                                     \n                this.now = 0;                                                \n            }                                                                \n                                                                             \n            [TheName].prototype._callFunction = function(promise) {          \n                promise._pushContext();                                      \n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \n                promise._popContext();                                       \n                if (ret === errorObj) {                                      \n                    promise._rejectCallback(ret.e, false);                   \n                } else {                                                     \n                    promise._resolveCallback(ret);                           \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype.checkFulfillment = function(promise) {       \n                var now = ++this.now;                                        \n                if (now === [TheTotal]) {                                    \n                    if (this.asyncNeeded) {                                  \n                        async.invoke(this._callFunction, this, promise);     \n                    } else {                                                 \n                        this._callFunction(promise);                         \n                    }                                                        \n                                                                             \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype._resultCancelled = function() {              \n                [CancellationCode]                                           \n            };                                                               \n                                                                             \n            return [TheName];                                                \n        }(tryCatch, errorObj, Promise, async);                               \n        ";s=s.replace(/\[TheName\]/g,h).replace(/\[TheTotal\]/g,n).replace(/\[ThePassedArguments\]/g,c).replace(/\[TheProperties\]/g,r).replace(/\[CancellationCode\]/g,a);return new Function("tryCatch","errorObj","Promise","async",s)(f,d,e,o)};var v=[];var l=[];var g=[];for(var y=0;y<8;++y){v.push(u(y+1));l.push(s(y+1));g.push(p(y+1))}h=function(e){this._reject(e)}}}e.join=function(){var t=arguments.length-1;var o;if(t>0&&typeof arguments[t]==="function"){o=arguments[t];if(true){if(t<=8&&c){var f=new e(r);f._captureStackTrace();var d=v[t-1];var s=new d(o);var p=l;for(var u=0;u<t;++u){var y=i(arguments[u],f);if(y instanceof e){y=y._target();var m=y._bitField;if((m&50397184)===0){y._then(p[u],h,undefined,f,s);g[u](y,s);s.asyncNeeded=false}else if((m&33554432)!==0){p[u].call(f,y._value(),s)}else if((m&16777216)!==0){f._reject(y._reason())}else{f._cancel()}}else{p[u].call(f,y,s)}}if(!f._isFateSealed()){if(s.asyncNeeded){var w=e._getContext();s.fn=a.contextBind(w,s.fn)}f._setAsyncGuaranteed();f._setOnCancel(s)}return f}}}var _=arguments.length;var E=new Array(_);for(var b=0;b<_;++b){E[b]=arguments[b]}if(o)E.pop();var f=new n(E).promise();return o!==undefined?f.spread(o):f}}},26:function(e){"use strict";e.exports=function(e,n){var t=e.map;e.prototype.filter=function(e,i){return t(this,e,i,n)};e.filter=function(e,i,r){return t(e,i,r,n)}}},29:function(e,n,t){var i=t(470).Buffer;var r=t(89);e.exports.plain=function(e,n){return{mechanism:"PLAIN",response:function(){return i.from(["",e,n].join(String.fromCharCode(0)))},username:e,password:n}};e.exports.amqplain=function(e,n){return{mechanism:"AMQPLAIN",response:function(){const t=i.alloc(16384);const o=r.encodeTable(t,{LOGIN:e,PASSWORD:n},0);return t.slice(4,o)},username:e,password:n}};e.exports.external=function(){return{mechanism:"EXTERNAL",response:function(){return i.from("")}}}},42:function(e,n,t){"use strict";e.exports=function(e,n,i,r,o){var a=t(302);var c=a.tryCatch;e.method=function(t){if(typeof t!=="function"){throw new e.TypeError("expecting a function but got "+a.classString(t))}return function(){var i=new e(n);i._captureStackTrace();i._pushContext();var r=c(t).apply(this,arguments);var a=i._popContext();o.checkForgottenReturns(r,a,"Promise.method",i);i._resolveFromSyncValue(r);return i}};e.attempt=e["try"]=function(t){if(typeof t!=="function"){return r("expecting a function but got "+a.classString(t))}var i=new e(n);i._captureStackTrace();i._pushContext();var f;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var d=arguments[1];var h=arguments[2];f=a.isArray(d)?c(t).apply(h,d):c(t).call(h,d)}else{f=c(t)()}var s=i._popContext();o.checkForgottenReturns(f,s,"Promise.try",i);i._resolveFromSyncValue(f);return i};e.prototype._resolveFromSyncValue=function(e){if(e===a.errorObj){this._rejectCallback(e.e,false)}else{this._resolveCallback(e,true)}}}},58:function(e,n,t){const i=t(268);const r=t(275);e.exports=class packet{constructor(e,n){this.timestamp=e;this.connId=n;this.method=null;this.exchange=null;this.ready=false;this.error=false;this.data_arr=[];this.data_buf=""}receive(e){this.data_buf=e;const n=JSON.parse(e);if(n.length<4){throw{code:100500,error:"bad packet"}}this.method=n[1];this.exchange=n[2];const t=n.slice(3);this.data_arr=t;const{length:r}=t;const{timestamp:o,method:a,exchange:c,connId:f}=this;i.trace(e=>{e(f,"size="+r,i.js(n))});this.ready=true}set_error(e){this.error=e;if(e){this.ready=false}}toString(){const{data_buf:e}=this;let n=e.toString();return n}}},59:function(e,n,t){try{var i=t(669);if(typeof i.inherits!=="function")throw"";e.exports=i.inherits}catch(n){e.exports=t(386)}},62:function(e,n,t){e.exports=Duplex;var i=Object.keys||function(e){var n=[];for(var t in e)n.push(t);return n};var r=t(452);r.inherits=t(59);var o=t(257);var a=t(192);r.inherits(Duplex,o);forEach(i(a.prototype),function(e){if(!Duplex.prototype[e])Duplex.prototype[e]=a.prototype[e]});function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);o.call(this,e);a.call(this,e);if(e&&e.readable===false)this.readable=false;if(e&&e.writable===false)this.writable=false;this.allowHalfOpen=true;if(e&&e.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",onend)}function onend(){if(this.allowHalfOpen||this._writableState.ended)return;process.nextTick(this.end.bind(this))}function forEach(e,n){for(var t=0,i=e.length;t<i;t++){n(e[t],t)}}},89:function(e,n,t){"use strict";var i=t(473);function isFloatingPoint(e){return e>=0x8000000000000000||Math.abs(e)<0x4000000000000&&Math.floor(e)!==e}function encodeTable(e,n,t){var i=t;t+=4;for(var r in n){if(n[r]!==undefined){var o=Buffer.byteLength(r);e.writeUInt8(o,t);t++;e.write(r,t,"utf8");t+=o;t+=encodeFieldValue(e,n[r],t)}}var a=t-i;e.writeUInt32BE(a-4,i);return a}function encodeArray(e,n,t){var i=t;t+=4;for(var r=0,o=n.length;r<o;r++){t+=encodeFieldValue(e,n[r],t)}var a=t-i;e.writeUInt32BE(a-4,i);return a}function encodeFieldValue(e,n,t){var r=t;var o=typeof n,a=n;if(n&&o==="object"&&n.hasOwnProperty("!")){a=n.value;o=n["!"]}if(o=="number"){if(isFloatingPoint(a)){o="double"}else{if(a<128&&a>=-128){o="byte"}else if(a>=-32768&&a<32768){o="short"}else if(a>=-2147483648&&a<2147483648){o="int"}else{o="long"}}}function tag(n){e.write(n,t);t++}switch(o){case"string":var c=Buffer.byteLength(a,"utf8");tag("S");e.writeUInt32BE(c,t);t+=4;e.write(a,t,"utf8");t+=c;break;case"object":if(a===null){tag("V")}else if(Array.isArray(a)){tag("A");t+=encodeArray(e,a,t)}else if(Buffer.isBuffer(a)){tag("x");e.writeUInt32BE(a.length,t);t+=4;a.copy(e,t);t+=a.length}else{tag("F");t+=encodeTable(e,a,t)}break;case"boolean":tag("t");e.writeUInt8(a?1:0,t);t++;break;case"double":case"float64":tag("d");e.writeDoubleBE(a,t);t+=8;break;case"byte":case"int8":tag("b");e.writeInt8(a,t);t++;break;case"short":case"int16":tag("s");e.writeInt16BE(a,t);t+=2;break;case"int":case"int32":tag("I");e.writeInt32BE(a,t);t+=4;break;case"long":case"int64":tag("l");i.writeInt64BE(e,a,t);t+=8;break;case"timestamp":tag("T");i.writeUInt64BE(e,a,t);t+=8;break;case"float":tag("f");e.writeFloatBE(a,t);t+=4;break;case"decimal":tag("D");if(a.hasOwnProperty("places")&&a.hasOwnProperty("digits")&&a.places>=0&&a.places<256){e[t]=a.places;t++;e.writeUInt32BE(a.digits,t);t+=4}else throw new TypeError("Decimal value must be {'places': 0..255, 'digits': uint32}, "+"got "+JSON.stringify(a));break;default:throw new TypeError("Unknown type to encode: "+o)}return t-r}function decodeFields(e){var n={},t=0,r=e.length;var o,a,c;function decodeFieldValue(){var n=String.fromCharCode(e[t]);t++;switch(n){case"b":c=e.readInt8(t);t++;break;case"S":o=e.readUInt32BE(t);t+=4;c=e.toString("utf8",t,t+o);t+=o;break;case"I":c=e.readInt32BE(t);t+=4;break;case"D":var r=e[t];t++;var a=e.readUInt32BE(t);t+=4;c={"!":"decimal",value:{places:r,digits:a}};break;case"T":c=i.readUInt64BE(e,t);t+=8;c={"!":"timestamp",value:c};break;case"F":o=e.readUInt32BE(t);t+=4;c=decodeFields(e.slice(t,t+o));t+=o;break;case"A":o=e.readUInt32BE(t);t+=4;decodeArray(t+o);break;case"d":c=e.readDoubleBE(t);t+=8;break;case"f":c=e.readFloatBE(t);t+=4;break;case"l":c=i.readInt64BE(e,t);t+=8;break;case"s":c=e.readInt16BE(t);t+=2;break;case"t":c=e[t]!=0;t++;break;case"V":c=null;break;case"x":o=e.readUInt32BE(t);t+=4;c=e.slice(t,t+o);t+=o;break;default:throw new TypeError('Unexpected type tag "'+n+'"')}}function decodeArray(e){var n=[];while(t<e){decodeFieldValue();n.push(c)}c=n}while(t<r){o=e.readUInt8(t);t++;a=e.toString("utf8",t,t+o);t+=o;decodeFieldValue();n[a]=c}return n}e.exports.encodeTable=encodeTable;e.exports.decodeFields=decodeFields},91:function(e,n,t){"use strict";var i=t(9),r=t(255),o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,c="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",f=new RegExp("^"+c+"+");function trimLeft(e){return(e?e:"").toString().replace(f,"")}var d=[["#","hash"],["?","query"],function sanitize(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",undefined,1,1],[/:(\d+)$/,"port",undefined,1],[NaN,"hostname",undefined,1,1]];var h={hash:1,query:1};function lolcation(e){var n;if(typeof window!=="undefined")n=window;else if(typeof global!=="undefined")n=global;else if(typeof self!=="undefined")n=self;else n={};var t=n.location||{};e=e||t;var i={},r=typeof e,a;if("blob:"===e.protocol){i=new Url(unescape(e.pathname),{})}else if("string"===r){i=new Url(e,{});for(a in h)delete i[a]}else if("object"===r){for(a in e){if(a in h)continue;i[a]=e[a]}if(i.slashes===undefined){i.slashes=o.test(e.href)}}return i}function extractProtocol(e){e=trimLeft(e);var n=a.exec(e);return{protocol:n[1]?n[1].toLowerCase():"",slashes:!!n[2],rest:n[3]}}function resolve(e,n){if(e==="")return n;var t=(n||"/").split("/").slice(0,-1).concat(e.split("/")),i=t.length,r=t[i-1],o=false,a=0;while(i--){if(t[i]==="."){t.splice(i,1)}else if(t[i]===".."){t.splice(i,1);a++}else if(a){if(i===0)o=true;t.splice(i,1);a--}}if(o)t.unshift("");if(r==="."||r==="..")t.push("");return t.join("/")}function Url(e,n,t){e=trimLeft(e);if(!(this instanceof Url)){return new Url(e,n,t)}var o,a,c,f,h,s,p=d.slice(),u=typeof n,v=this,l=0;if("object"!==u&&"string"!==u){t=n;n=null}if(t&&"function"!==typeof t)t=r.parse;n=lolcation(n);a=extractProtocol(e||"");o=!a.protocol&&!a.slashes;v.slashes=a.slashes||o&&n.slashes;v.protocol=a.protocol||n.protocol||"";e=a.rest;if(!a.slashes)p[3]=[/(.*)/,"pathname"];for(;l<p.length;l++){f=p[l];if(typeof f==="function"){e=f(e);continue}c=f[0];s=f[1];if(c!==c){v[s]=e}else if("string"===typeof c){if(~(h=e.indexOf(c))){if("number"===typeof f[2]){v[s]=e.slice(0,h);e=e.slice(h+f[2])}else{v[s]=e.slice(h);e=e.slice(0,h)}}}else if(h=c.exec(e)){v[s]=h[1];e=e.slice(0,h.index)}v[s]=v[s]||(o&&f[3]?n[s]||"":"");if(f[4])v[s]=v[s].toLowerCase()}if(t)v.query=t(v.query);if(o&&n.slashes&&v.pathname.charAt(0)!=="/"&&(v.pathname!==""||n.pathname!=="")){v.pathname=resolve(v.pathname,n.pathname)}if(!i(v.port,v.protocol)){v.host=v.hostname;v.port=""}v.username=v.password="";if(v.auth){f=v.auth.split(":");v.username=f[0]||"";v.password=f[1]||""}v.origin=v.protocol&&v.host&&v.protocol!=="file:"?v.protocol+"//"+v.host:"null";v.href=v.toString()}function set(e,n,t){var o=this;switch(e){case"query":if("string"===typeof n&&n.length){n=(t||r.parse)(n)}o[e]=n;break;case"port":o[e]=n;if(!i(n,o.protocol)){o.host=o.hostname;o[e]=""}else if(n){o.host=o.hostname+":"+n}break;case"hostname":o[e]=n;if(o.port)n+=":"+o.port;o.host=n;break;case"host":o[e]=n;if(/:\d+$/.test(n)){n=n.split(":");o.port=n.pop();o.hostname=n.join(":")}else{o.hostname=n;o.port=""}break;case"protocol":o.protocol=n.toLowerCase();o.slashes=!t;break;case"pathname":case"hash":if(n){var a=e==="pathname"?"/":"#";o[e]=n.charAt(0)!==a?a+n:n}else{o[e]=n}break;default:o[e]=n}for(var c=0;c<d.length;c++){var f=d[c];if(f[4])o[f[1]]=o[f[1]].toLowerCase()}o.origin=o.protocol&&o.host&&o.protocol!=="file:"?o.protocol+"//"+o.host:"null";o.href=o.toString();return o}function toString(e){if(!e||"function"!==typeof e)e=r.stringify;var n,t=this,i=t.protocol;if(i&&i.charAt(i.length-1)!==":")i+=":";var o=i+(t.slashes?"//":"");if(t.username){o+=t.username;if(t.password)o+=":"+t.password;o+="@"}o+=t.host+t.pathname;n="object"===typeof t.query?e(t.query):t.query;if(n)o+="?"!==n.charAt(0)?"?"+n:n;if(t.hash)o+=t.hash;return o}Url.prototype={set:set,toString:toString};Url.extractProtocol=extractProtocol;Url.location=lolcation;Url.trimLeft=trimLeft;Url.qs=r;e.exports=Url},93:function(e,n,t){"use strict";e.exports=function(e,n,i,r){var o=t(302);var a=o.tryCatch;var c=o.errorObj;var f=e._async;e.prototype["break"]=e.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");var e=this;var n=e;while(e._isCancellable()){if(!e._cancelBy(n)){if(n._isFollowing()){n._followee().cancel()}else{n._cancelBranched()}break}var t=e._cancellationParent;if(t==null||!t._isCancellable()){if(e._isFollowing()){e._followee().cancel()}else{e._cancelBranched()}break}else{if(e._isFollowing())e._followee().cancel();e._setWillBeCancelled();n=e;e=t}}};e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--};e.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===undefined||this._branchesRemainingToCancel<=0};e.prototype._cancelBy=function(e){if(e===this){this._branchesRemainingToCancel=0;this._invokeOnCancel();return true}else{this._branchHasCancelled();if(this._enoughBranchesHaveCancelled()){this._invokeOnCancel();return true}}return false};e.prototype._cancelBranched=function(){if(this._enoughBranchesHaveCancelled()){this._cancel()}};e.prototype._cancel=function(){if(!this._isCancellable())return;this._setCancelled();f.invoke(this._cancelPromises,this,undefined)};e.prototype._cancelPromises=function(){if(this._length()>0)this._settlePromises()};e.prototype._unsetOnCancel=function(){this._onCancelField=undefined};e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()};e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()};e.prototype._doInvokeOnCancel=function(e,n){if(o.isArray(e)){for(var t=0;t<e.length;++t){this._doInvokeOnCancel(e[t],n)}}else if(e!==undefined){if(typeof e==="function"){if(!n){var i=a(e).call(this._boundValue());if(i===c){this._attachExtraTrace(i.e);f.throwLater(i.e)}}}else{e._resultCancelled(this)}}};e.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel();f.invoke(this._doInvokeOnCancel,this,e)};e.prototype._invokeInternalOnCancel=function(){if(this._isCancellable()){this._doInvokeOnCancel(this._onCancel(),true);this._unsetOnCancel()}};e.prototype._resultCancelled=function(){this.cancel()}}},126:function(e,n,t){"use strict";e.exports=function(){var n=function(){return new w("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")};var i=function(){return new Promise.PromiseInspection(this._target())};var r=function(e){return Promise.reject(new w(e))};function Proxyable(){}var o={};var a=t(302);a.setReflectHandler(i);var c=function(){var e=process.domain;if(e===undefined){return null}return e};var f=function(){return null};var d=function(){return{domain:c(),async:null}};var h=a.isNode&&a.nodeSupportsAsyncResource?t(303).AsyncResource:null;var s=function(){return{domain:c(),async:new h("Bluebird::Promise")}};var p=a.isNode?d:f;a.notEnumerableProp(Promise,"_getContext",p);var u=function(){p=s;a.notEnumerableProp(Promise,"_getContext",s)};var v=function(){p=d;a.notEnumerableProp(Promise,"_getContext",d)};var l=t(846);var g=t(203);var y=new g;l.defineProperty(Promise,"_async",{value:y});var m=t(186);var w=Promise.TypeError=m.TypeError;Promise.RangeError=m.RangeError;var _=Promise.CancellationError=m.CancellationError;Promise.TimeoutError=m.TimeoutError;Promise.OperationalError=m.OperationalError;Promise.RejectionError=m.OperationalError;Promise.AggregateError=m.AggregateError;var E=function(){};var b={};var I={};var C=t(274)(Promise,E);var k=t(825)(Promise,E,C,r,Proxyable);var x=t(961)(Promise);var B=x.create;var U=t(393)(Promise,x,u,v);var T=U.CapturedTrace;var S=t(439)(Promise,C,I);var O=t(906)(I);var A=t(454);var F=a.errorObj;var R=a.tryCatch;function check(e,n){if(e==null||e.constructor!==Promise){throw new w("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}if(typeof n!=="function"){throw new w("expecting a function but got "+a.classString(n))}}function Promise(e){if(e!==E){check(this,e)}this._bitField=0;this._fulfillmentHandler0=undefined;this._rejectionHandler0=undefined;this._promise0=undefined;this._receiver0=undefined;this._resolveFromExecutor(e);this._promiseCreated();this._fireEvent("promiseCreated",this)}Promise.prototype.toString=function(){return"[object Promise]"};Promise.prototype.caught=Promise.prototype["catch"]=function(e){var n=arguments.length;if(n>1){var t=new Array(n-1),i=0,o;for(o=0;o<n-1;++o){var c=arguments[o];if(a.isObject(c)){t[i++]=c}else{return r("Catch statement predicate: "+"expecting an object but got "+a.classString(c))}}t.length=i;e=arguments[o];if(typeof e!=="function"){throw new w("The last argument to .catch() "+"must be a function, got "+a.toString(e))}return this.then(undefined,O(t,e,this))}return this.then(undefined,e)};Promise.prototype.reflect=function(){return this._then(i,i,undefined,this,undefined)};Promise.prototype.then=function(e,n){if(U.warnings()&&arguments.length>0&&typeof e!=="function"&&typeof n!=="function"){var t=".then() only accepts functions but was passed: "+a.classString(e);if(arguments.length>1){t+=", "+a.classString(n)}this._warn(t)}return this._then(e,n,undefined,undefined,undefined)};Promise.prototype.done=function(e,n){var t=this._then(e,n,undefined,undefined,undefined);t._setIsFinal()};Promise.prototype.spread=function(e){if(typeof e!=="function"){return r("expecting a function but got "+a.classString(e))}return this.all()._then(e,undefined,undefined,b,undefined)};Promise.prototype.toJSON=function(){var e={isFulfilled:false,isRejected:false,fulfillmentValue:undefined,rejectionReason:undefined};if(this.isFulfilled()){e.fulfillmentValue=this.value();e.isFulfilled=true}else if(this.isRejected()){e.rejectionReason=this.reason();e.isRejected=true}return e};Promise.prototype.all=function(){if(arguments.length>0){this._warn(".all() was passed arguments but it does not take any")}return new k(this).promise()};Promise.prototype.error=function(e){return this.caught(a.originatesFromRejection,e)};Promise.getNewLibraryCopy=e.exports;Promise.is=function(e){return e instanceof Promise};Promise.fromNode=Promise.fromCallback=function(e){var n=new Promise(E);n._captureStackTrace();var t=arguments.length>1?!!Object(arguments[1]).multiArgs:false;var i=R(e)(A(n,t));if(i===F){n._rejectCallback(i.e,true)}if(!n._isFateSealed())n._setAsyncGuaranteed();return n};Promise.all=function(e){return new k(e).promise()};Promise.cast=function(e){var n=C(e);if(!(n instanceof Promise)){n=new Promise(E);n._captureStackTrace();n._setFulfilled();n._rejectionHandler0=e}return n};Promise.resolve=Promise.fulfilled=Promise.cast;Promise.reject=Promise.rejected=function(e){var n=new Promise(E);n._captureStackTrace();n._rejectCallback(e,true);return n};Promise.setScheduler=function(e){if(typeof e!=="function"){throw new w("expecting a function but got "+a.classString(e))}return y.setScheduler(e)};Promise.prototype._then=function(e,n,t,i,r){var o=r!==undefined;var c=o?r:new Promise(E);var f=this._target();var d=f._bitField;if(!o){c._propagateFrom(this,3);c._captureStackTrace();if(i===undefined&&(this._bitField&2097152)!==0){if(!((d&50397184)===0)){i=this._boundValue()}else{i=f===this?undefined:this._boundTo}}this._fireEvent("promiseChained",this,c)}var h=p();if(!((d&50397184)===0)){var s,u,v=f._settlePromiseCtx;if((d&33554432)!==0){u=f._rejectionHandler0;s=e}else if((d&16777216)!==0){u=f._fulfillmentHandler0;s=n;f._unsetRejectionIsUnhandled()}else{v=f._settlePromiseLateCancellationObserver;u=new _("late cancellation observer");f._attachExtraTrace(u);s=n}y.invoke(v,f,{handler:a.contextBind(h,s),promise:c,receiver:i,value:u})}else{f._addCallbacks(e,n,c,i,h)}return c};Promise.prototype._length=function(){return this._bitField&65535};Promise.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0};Promise.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864};Promise.prototype._setLength=function(e){this._bitField=this._bitField&-65536|e&65535};Promise.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432;this._fireEvent("promiseFulfilled",this)};Promise.prototype._setRejected=function(){this._bitField=this._bitField|16777216;this._fireEvent("promiseRejected",this)};Promise.prototype._setFollowing=function(){this._bitField=this._bitField|67108864;this._fireEvent("promiseResolved",this)};Promise.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304};Promise.prototype._isFinal=function(){return(this._bitField&4194304)>0};Promise.prototype._unsetCancelled=function(){this._bitField=this._bitField&~65536};Promise.prototype._setCancelled=function(){this._bitField=this._bitField|65536;this._fireEvent("promiseCancelled",this)};Promise.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608};Promise.prototype._setAsyncGuaranteed=function(){if(y.hasCustomScheduler())return;var e=this._bitField;this._bitField=e|(e&536870912)>>2^134217728};Promise.prototype._setNoAsyncGuarantee=function(){this._bitField=(this._bitField|536870912)&~134217728};Promise.prototype._receiverAt=function(e){var n=e===0?this._receiver0:this[e*4-4+3];if(n===o){return undefined}else if(n===undefined&&this._isBound()){return this._boundValue()}return n};Promise.prototype._promiseAt=function(e){return this[e*4-4+2]};Promise.prototype._fulfillmentHandlerAt=function(e){return this[e*4-4+0]};Promise.prototype._rejectionHandlerAt=function(e){return this[e*4-4+1]};Promise.prototype._boundValue=function(){};Promise.prototype._migrateCallback0=function(e){var n=e._bitField;var t=e._fulfillmentHandler0;var i=e._rejectionHandler0;var r=e._promise0;var a=e._receiverAt(0);if(a===undefined)a=o;this._addCallbacks(t,i,r,a,null)};Promise.prototype._migrateCallbackAt=function(e,n){var t=e._fulfillmentHandlerAt(n);var i=e._rejectionHandlerAt(n);var r=e._promiseAt(n);var a=e._receiverAt(n);if(a===undefined)a=o;this._addCallbacks(t,i,r,a,null)};Promise.prototype._addCallbacks=function(e,n,t,i,r){var o=this._length();if(o>=65535-4){o=0;this._setLength(0)}if(o===0){this._promise0=t;this._receiver0=i;if(typeof e==="function"){this._fulfillmentHandler0=a.contextBind(r,e)}if(typeof n==="function"){this._rejectionHandler0=a.contextBind(r,n)}}else{var c=o*4-4;this[c+2]=t;this[c+3]=i;if(typeof e==="function"){this[c+0]=a.contextBind(r,e)}if(typeof n==="function"){this[c+1]=a.contextBind(r,n)}}this._setLength(o+1);return o};Promise.prototype._proxy=function(e,n){this._addCallbacks(undefined,undefined,n,e,null)};Promise.prototype._resolveCallback=function(e,t){if((this._bitField&117506048)!==0)return;if(e===this)return this._rejectCallback(n(),false);var i=C(e,this);if(!(i instanceof Promise))return this._fulfill(e);if(t)this._propagateFrom(i,2);var r=i._target();if(r===this){this._reject(n());return}var o=r._bitField;if((o&50397184)===0){var a=this._length();if(a>0)r._migrateCallback0(this);for(var c=1;c<a;++c){r._migrateCallbackAt(this,c)}this._setFollowing();this._setLength(0);this._setFollowee(i)}else if((o&33554432)!==0){this._fulfill(r._value())}else if((o&16777216)!==0){this._reject(r._reason())}else{var f=new _("late cancellation observer");r._attachExtraTrace(f);this._reject(f)}};Promise.prototype._rejectCallback=function(e,n,t){var i=a.ensureErrorObject(e);var r=i===e;if(!r&&!t&&U.warnings()){var o="a promise was rejected with a non-error: "+a.classString(e);this._warn(o,true)}this._attachExtraTrace(i,n?r:false);this._reject(e)};Promise.prototype._resolveFromExecutor=function(e){if(e===E)return;var n=this;this._captureStackTrace();this._pushContext();var t=true;var i=this._execute(e,function(e){n._resolveCallback(e)},function(e){n._rejectCallback(e,t)});t=false;this._popContext();if(i!==undefined){n._rejectCallback(i,true)}};Promise.prototype._settlePromiseFromHandler=function(e,n,t,i){var r=i._bitField;if((r&65536)!==0)return;i._pushContext();var o;if(n===b){if(!t||typeof t.length!=="number"){o=F;o.e=new w("cannot .spread() a non-array: "+a.classString(t))}else{o=R(e).apply(this._boundValue(),t)}}else{o=R(e).call(n,t)}var c=i._popContext();r=i._bitField;if((r&65536)!==0)return;if(o===I){i._reject(t)}else if(o===F){i._rejectCallback(o.e,false)}else{U.checkForgottenReturns(o,c,"",i,this);i._resolveCallback(o)}};Promise.prototype._target=function(){var e=this;while(e._isFollowing())e=e._followee();return e};Promise.prototype._followee=function(){return this._rejectionHandler0};Promise.prototype._setFollowee=function(e){this._rejectionHandler0=e};Promise.prototype._settlePromise=function(e,n,t,r){var o=e instanceof Promise;var a=this._bitField;var c=(a&134217728)!==0;if((a&65536)!==0){if(o)e._invokeInternalOnCancel();if(t instanceof S&&t.isFinallyHandler()){t.cancelPromise=e;if(R(n).call(t,r)===F){e._reject(F.e)}}else if(n===i){e._fulfill(i.call(t))}else if(t instanceof Proxyable){t._promiseCancelled(e)}else if(o||e instanceof k){e._cancel()}else{t.cancel()}}else if(typeof n==="function"){if(!o){n.call(t,r,e)}else{if(c)e._setAsyncGuaranteed();this._settlePromiseFromHandler(n,t,r,e)}}else if(t instanceof Proxyable){if(!t._isResolved()){if((a&33554432)!==0){t._promiseFulfilled(r,e)}else{t._promiseRejected(r,e)}}}else if(o){if(c)e._setAsyncGuaranteed();if((a&33554432)!==0){e._fulfill(r)}else{e._reject(r)}}};Promise.prototype._settlePromiseLateCancellationObserver=function(e){var n=e.handler;var t=e.promise;var i=e.receiver;var r=e.value;if(typeof n==="function"){if(!(t instanceof Promise)){n.call(i,r,t)}else{this._settlePromiseFromHandler(n,i,r,t)}}else if(t instanceof Promise){t._reject(r)}};Promise.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)};Promise.prototype._settlePromise0=function(e,n,t){var i=this._promise0;var r=this._receiverAt(0);this._promise0=undefined;this._receiver0=undefined;this._settlePromise(i,e,r,n)};Promise.prototype._clearCallbackDataAtIndex=function(e){var n=e*4-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=undefined};Promise.prototype._fulfill=function(e){var t=this._bitField;if((t&117506048)>>>16)return;if(e===this){var i=n();this._attachExtraTrace(i);return this._reject(i)}this._setFulfilled();this._rejectionHandler0=e;if((t&65535)>0){if((t&134217728)!==0){this._settlePromises()}else{y.settlePromises(this)}this._dereferenceTrace()}};Promise.prototype._reject=function(e){var n=this._bitField;if((n&117506048)>>>16)return;this._setRejected();this._fulfillmentHandler0=e;if(this._isFinal()){return y.fatalError(e,a.isNode)}if((n&65535)>0){y.settlePromises(this)}else{this._ensurePossibleRejectionHandled()}};Promise.prototype._fulfillPromises=function(e,n){for(var t=1;t<e;t++){var i=this._fulfillmentHandlerAt(t);var r=this._promiseAt(t);var o=this._receiverAt(t);this._clearCallbackDataAtIndex(t);this._settlePromise(r,i,o,n)}};Promise.prototype._rejectPromises=function(e,n){for(var t=1;t<e;t++){var i=this._rejectionHandlerAt(t);var r=this._promiseAt(t);var o=this._receiverAt(t);this._clearCallbackDataAtIndex(t);this._settlePromise(r,i,o,n)}};Promise.prototype._settlePromises=function(){var e=this._bitField;var n=e&65535;if(n>0){if((e&16842752)!==0){var t=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,t,e);this._rejectPromises(n,t)}else{var i=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,i,e);this._fulfillPromises(n,i)}this._setLength(0)}this._clearCancellationData()};Promise.prototype._settledValue=function(){var e=this._bitField;if((e&33554432)!==0){return this._rejectionHandler0}else if((e&16777216)!==0){return this._fulfillmentHandler0}};if(typeof Symbol!=="undefined"&&Symbol.toStringTag){l.defineProperty(Promise.prototype,Symbol.toStringTag,{get:function(){return"Object"}})}function deferResolve(e){this.promise._resolveCallback(e)}function deferReject(e){this.promise._rejectCallback(e,false)}Promise.defer=Promise.pending=function(){U.deprecated("Promise.defer","new Promise");var e=new Promise(E);return{promise:e,resolve:deferResolve,reject:deferReject}};a.notEnumerableProp(Promise,"_makeSelfResolutionError",n);t(42)(Promise,E,C,r,U);t(957)(Promise,E,C,U);t(93)(Promise,k,r,U);t(636)(Promise);t(169)(Promise);t(22)(Promise,k,C,E,y);Promise.Promise=Promise;Promise.version="3.7.2";t(539)(Promise);t(595)(Promise,r,E,C,Proxyable,U);t(738)(Promise,k,r,C,E,U);t(678)(Promise);t(484)(Promise,E);t(494)(Promise,k,C,r);t(584)(Promise,E,C,r);t(590)(Promise,k,r,C,E,U);t(870)(Promise,k,U);t(348)(Promise,k,r);t(784)(Promise,E,U);t(897)(Promise,r,C,B,E,U);t(838)(Promise);t(207)(Promise,E);t(26)(Promise,E);a.toFastProperties(Promise);a.toFastProperties(Promise.prototype);function fillTypes(e){var n=new Promise(E);n._fulfillmentHandler0=e;n._rejectionHandler0=e;n._promise0=e;n._receiver0=e}fillTypes({a:1});fillTypes({b:2});fillTypes({c:3});fillTypes(1);fillTypes(function(){});fillTypes(undefined);fillTypes(false);fillTypes(new Promise(E));U.setBounds(g.firstLineError,a.lastLineError);return Promise}},154:function(e,n,t){"use strict";var i=t(669).inherits;var r=t(357);var o=typeof setImmediate==="function"?setImmediate:process.nextTick;function Mux(e){this.newStreams=[];this.oldStreams=[];this.blocked=false;this.scheduledRead=false;this.out=e;var n=this;e.on("drain",function(){n.blocked=false;n._readIncoming()})}Mux.prototype._readIncoming=function(){if(this.blocked)return;var e=this;var n=true;var t=this.out;function roundrobin(e){var i;if(e.length===1){i=e.shift();while(n){var r=i.read();if(r!==null){n=t.write(r)}else break}if(!n)e.push(i)}else{while(n&&(i=e.shift())){var r=i.read();if(r!==null){n=t.write(r);e.push(i)}}}}roundrobin(this.newStreams);if(n){r.equal(0,this.newStreams.length);roundrobin(this.oldStreams)}else{r(this.newStreams.length>0,"Expect some new streams to remain");this.oldStreams=this.oldStreams.concat(this.newStreams);this.newStreams=[]}this.blocked=!n};Mux.prototype._scheduleRead=function(){var e=this;if(!e.scheduledRead){o(function(){e.scheduledRead=false;e._readIncoming()});e.scheduledRead=true}};Mux.prototype.pipeFrom=function(e){var n=this;function enqueue(){n.newStreams.push(e);n._scheduleRead()}function cleanup(){e.removeListener("readable",enqueue);e.removeListener("error",cleanup);e.removeListener("end",cleanup);e.removeListener("unpipeFrom",cleanupIfMe)}function cleanupIfMe(e){if(e===n)cleanup()}e.on("unpipeFrom",cleanupIfMe);e.on("end",cleanup);e.on("error",cleanup);e.on("readable",enqueue)};Mux.prototype.unpipeFrom=function(e){e.emit("unpipeFrom",this)};e.exports.Mux=Mux},169:function(e){"use strict";e.exports=function(e){function PromiseInspection(e){if(e!==undefined){e=e._target();this._bitField=e._bitField;this._settledValueField=e._isFateSealed()?e._settledValue():undefined}else{this._bitField=0;this._settledValueField=undefined}}PromiseInspection.prototype._settledValue=function(){return this._settledValueField};var n=PromiseInspection.prototype.value=function(){if(!this.isFulfilled()){throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n")}return this._settledValue()};var t=PromiseInspection.prototype.error=PromiseInspection.prototype.reason=function(){if(!this.isRejected()){throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n")}return this._settledValue()};var i=PromiseInspection.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0};var r=PromiseInspection.prototype.isRejected=function(){return(this._bitField&16777216)!==0};var o=PromiseInspection.prototype.isPending=function(){return(this._bitField&50397184)===0};var a=PromiseInspection.prototype.isResolved=function(){return(this._bitField&50331648)!==0};PromiseInspection.prototype.isCancelled=function(){return(this._bitField&8454144)!==0};e.prototype.__isCancelled=function(){return(this._bitField&65536)===65536};e.prototype._isCancelled=function(){return this._target().__isCancelled()};e.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0};e.prototype.isPending=function(){return o.call(this._target())};e.prototype.isRejected=function(){return r.call(this._target())};e.prototype.isFulfilled=function(){return i.call(this._target())};e.prototype.isResolved=function(){return a.call(this._target())};e.prototype.value=function(){return n.call(this._target())};e.prototype.reason=function(){var e=this._target();e._unsetRejectionIsUnhandled();return t.call(e)};e.prototype._value=function(){return this._settledValue()};e.prototype._reason=function(){this._unsetRejectionIsUnhandled();return this._settledValue()};e.PromiseInspection=PromiseInspection}},186:function(e,n,t){"use strict";var i=t(846);var r=i.freeze;var o=t(302);var a=o.inherits;var c=o.notEnumerableProp;function subError(e,n){function SubError(t){if(!(this instanceof SubError))return new SubError(t);c(this,"message",typeof t==="string"?t:n);c(this,"name",e);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}else{Error.call(this)}}a(SubError,Error);return SubError}var f,d;var h=subError("Warning","warning");var s=subError("CancellationError","cancellation error");var p=subError("TimeoutError","timeout error");var u=subError("AggregateError","aggregate error");try{f=TypeError;d=RangeError}catch(e){f=subError("TypeError","type error");d=subError("RangeError","range error")}var v=("join pop push shift unshift slice filter forEach some "+"every map indexOf lastIndexOf reduce reduceRight sort reverse").split(" ");for(var l=0;l<v.length;++l){if(typeof Array.prototype[v[l]]==="function"){u.prototype[v[l]]=Array.prototype[v[l]]}}i.defineProperty(u.prototype,"length",{value:0,configurable:false,writable:true,enumerable:true});u.prototype["isOperational"]=true;var g=0;u.prototype.toString=function(){var e=Array(g*4+1).join(" ");var n="\n"+e+"AggregateError of:"+"\n";g++;e=Array(g*4+1).join(" ");for(var t=0;t<this.length;++t){var i=this[t]===this?"[Circular AggregateError]":this[t]+"";var r=i.split("\n");for(var o=0;o<r.length;++o){r[o]=e+r[o]}i=r.join("\n");n+=i+"\n"}g--;return n};function OperationalError(e){if(!(this instanceof OperationalError))return new OperationalError(e);c(this,"name","OperationalError");c(this,"message",e);this.cause=e;this["isOperational"]=true;if(e instanceof Error){c(this,"message",e.message);c(this,"stack",e.stack)}else if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}}a(OperationalError,Error);var y=Error["__BluebirdErrorTypes__"];if(!y){y=r({CancellationError:s,TimeoutError:p,OperationalError:OperationalError,RejectionError:OperationalError,AggregateError:u});i.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:false,enumerable:false,configurable:false})}e.exports={Error:Error,TypeError:f,RangeError:d,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:h}},188:function(e,n,t){var i=t(536).connect;var r=t(501).ChannelModel;var o=t(262);function connect(e,n){return o.fromCallback(function(t){return i(e,n,t)}).then(function(e){return new r(e)})}e.exports.connect=connect;e.exports.credentials=t(29);e.exports.IllegalOperationError=t(564).IllegalOperationError},189:function(e,n,t){n=e.exports=createDebug.debug=createDebug["default"]=createDebug;n.coerce=coerce;n.disable=disable;n.enable=enable;n.enabled=enabled;n.humanize=t(524);n.names=[];n.skips=[];n.formatters={};var i;function selectColor(e){var t=0,i;for(i in e){t=(t<<5)-t+e.charCodeAt(i);t|=0}return n.colors[Math.abs(t)%n.colors.length]}function createDebug(e){function debug(){if(!debug.enabled)return;var e=debug;var t=+new Date;var r=t-(i||t);e.diff=r;e.prev=i;e.curr=t;i=t;var o=new Array(arguments.length);for(var a=0;a<o.length;a++){o[a]=arguments[a]}o[0]=n.coerce(o[0]);if("string"!==typeof o[0]){o.unshift("%O")}var c=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(t,i){if(t==="%%")return t;c++;var r=n.formatters[i];if("function"===typeof r){var a=o[c];t=r.call(e,a);o.splice(c,1);c--}return t});n.formatArgs.call(e,o);var f=debug.log||n.log||console.log.bind(console);f.apply(e,o)}debug.namespace=e;debug.enabled=n.enabled(e);debug.useColors=n.useColors();debug.color=selectColor(e);if("function"===typeof n.init){n.init(debug)}return debug}function enable(e){n.save(e);n.names=[];n.skips=[];var t=(typeof e==="string"?e:"").split(/[\s,]+/);var i=t.length;for(var r=0;r<i;r++){if(!t[r])continue;e=t[r].replace(/\*/g,".*?");if(e[0]==="-"){n.skips.push(new RegExp("^"+e.substr(1)+"$"))}else{n.names.push(new RegExp("^"+e+"$"))}}}function disable(){n.enable("")}function enabled(e){var t,i;for(t=0,i=n.skips.length;t<i;t++){if(n.skips[t].test(e)){return false}}for(t=0,i=n.names.length;t<i;t++){if(n.names[t].test(e)){return true}}return false}function coerce(e){if(e instanceof Error)return e.stack||e.message;return e}},191:function(e){e.exports=require("querystring")},192:function(e,n,t){e.exports=Writable;var i=t(293).Buffer;Writable.WritableState=WritableState;var r=t(452);r.inherits=t(59);var o=t(413);r.inherits(Writable,o);function WriteReq(e,n,t){this.chunk=e;this.encoding=n;this.callback=t}function WritableState(e,n){var i=t(62);e=e||{};var r=e.highWaterMark;var o=e.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:o;this.objectMode=!!e.objectMode;if(n instanceof i)this.objectMode=this.objectMode||!!e.writableObjectMode;this.highWaterMark=~~this.highWaterMark;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;var a=e.decodeStrings===false;this.decodeStrings=!a;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){onwrite(n,e)};this.writecb=null;this.writelen=0;this.buffer=[];this.pendingcb=0;this.prefinished=false;this.errorEmitted=false}function Writable(e){var n=t(62);if(!(this instanceof Writable)&&!(this instanceof n))return new Writable(e);this._writableState=new WritableState(e,this);this.writable=true;o.call(this)}Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))};function writeAfterEnd(e,n,t){var i=new Error("write after end");e.emit("error",i);process.nextTick(function(){t(i)})}function validChunk(e,n,t,i){var o=true;if(!r.isBuffer(t)&&!r.isString(t)&&!r.isNullOrUndefined(t)&&!n.objectMode){var a=new TypeError("Invalid non-string/buffer chunk");e.emit("error",a);process.nextTick(function(){i(a)});o=false}return o}Writable.prototype.write=function(e,n,t){var i=this._writableState;var o=false;if(r.isFunction(n)){t=n;n=null}if(r.isBuffer(e))n="buffer";else if(!n)n=i.defaultEncoding;if(!r.isFunction(t))t=function(){};if(i.ended)writeAfterEnd(this,i,t);else if(validChunk(this,i,e,t)){i.pendingcb++;o=writeOrBuffer(this,i,e,n,t)}return o};Writable.prototype.cork=function(){var e=this._writableState;e.corked++};Writable.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.buffer.length)clearBuffer(this,e)}};function decodeChunk(e,n,t){if(!e.objectMode&&e.decodeStrings!==false&&r.isString(n)){n=new i(n,t)}return n}function writeOrBuffer(e,n,t,i,o){t=decodeChunk(n,t,i);if(r.isBuffer(t))i="buffer";var a=n.objectMode?1:t.length;n.length+=a;var c=n.length<n.highWaterMark;if(!c)n.needDrain=true;if(n.writing||n.corked)n.buffer.push(new WriteReq(t,i,o));else doWrite(e,n,false,a,t,i,o);return c}function doWrite(e,n,t,i,r,o,a){n.writelen=i;n.writecb=a;n.writing=true;n.sync=true;if(t)e._writev(r,n.onwrite);else e._write(r,o,n.onwrite);n.sync=false}function onwriteError(e,n,t,i,r){if(t)process.nextTick(function(){n.pendingcb--;r(i)});else{n.pendingcb--;r(i)}e._writableState.errorEmitted=true;e.emit("error",i)}function onwriteStateUpdate(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function onwrite(e,n){var t=e._writableState;var i=t.sync;var r=t.writecb;onwriteStateUpdate(t);if(n)onwriteError(e,t,i,n,r);else{var o=needFinish(e,t);if(!o&&!t.corked&&!t.bufferProcessing&&t.buffer.length){clearBuffer(e,t)}if(i){process.nextTick(function(){afterWrite(e,t,o,r)})}else{afterWrite(e,t,o,r)}}}function afterWrite(e,n,t,i){if(!t)onwriteDrain(e,n);n.pendingcb--;i();finishMaybe(e,n)}function onwriteDrain(e,n){if(n.length===0&&n.needDrain){n.needDrain=false;e.emit("drain")}}function clearBuffer(e,n){n.bufferProcessing=true;if(e._writev&&n.buffer.length>1){var t=[];for(var i=0;i<n.buffer.length;i++)t.push(n.buffer[i].callback);n.pendingcb++;doWrite(e,n,true,n.length,n.buffer,"",function(e){for(var i=0;i<t.length;i++){n.pendingcb--;t[i](e)}});n.buffer=[]}else{for(var i=0;i<n.buffer.length;i++){var r=n.buffer[i];var o=r.chunk;var a=r.encoding;var c=r.callback;var f=n.objectMode?1:o.length;doWrite(e,n,false,f,o,a,c);if(n.writing){i++;break}}if(i<n.buffer.length)n.buffer=n.buffer.slice(i);else n.buffer.length=0}n.bufferProcessing=false}Writable.prototype._write=function(e,n,t){t(new Error("not implemented"))};Writable.prototype._writev=null;Writable.prototype.end=function(e,n,t){var i=this._writableState;if(r.isFunction(e)){t=e;e=null;n=null}else if(r.isFunction(n)){t=n;n=null}if(!r.isNullOrUndefined(e))this.write(e,n);if(i.corked){i.corked=1;this.uncork()}if(!i.ending&&!i.finished)endWritable(this,i,t)};function needFinish(e,n){return n.ending&&n.length===0&&!n.finished&&!n.writing}function prefinish(e,n){if(!n.prefinished){n.prefinished=true;e.emit("prefinish")}}function finishMaybe(e,n){var t=needFinish(e,n);if(t){if(n.pendingcb===0){prefinish(e,n);n.finished=true;e.emit("finish")}else prefinish(e,n)}return t}function endWritable(e,n,t){n.ending=true;finishMaybe(e,n);if(t){if(n.finished)process.nextTick(t);else e.once("finish",t)}n.ended=true}},199:function(e,n,t){n=e.exports=t(189);n.log=log;n.formatArgs=formatArgs;n.save=save;n.load=load;n.useColors=useColors;n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:localstorage();n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function useColors(){if(typeof window!=="undefined"&&window.process&&window.process.type==="renderer"){return true}return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}n.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};function formatArgs(e){var t=this.useColors;e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff);if(!t)return;var i="color: "+this.color;e.splice(1,0,i,"color: inherit");var r=0;var o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){if("%%"===e)return;r++;if("%c"===e){o=r}});e.splice(o,0,i)}function log(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(e){try{if(null==e){n.storage.removeItem("debug")}else{n.storage.debug=e}}catch(e){}}function load(){var e;try{e=n.storage.debug}catch(e){}if(!e&&typeof process!=="undefined"&&"env"in process){e=process.env.DEBUG}return e}n.enable(load());function localstorage(){try{return window.localStorage}catch(e){}}},203:function(e,n,t){"use strict";var i;try{throw new Error}catch(e){i=e}var r=t(587);var o=t(285);function Async(){this._customScheduler=false;this._isTickUsed=false;this._lateQueue=new o(16);this._normalQueue=new o(16);this._haveDrainedQueues=false;var e=this;this.drainQueues=function(){e._drainQueues()};this._schedule=r}Async.prototype.setScheduler=function(e){var n=this._schedule;this._schedule=e;this._customScheduler=true;return n};Async.prototype.hasCustomScheduler=function(){return this._customScheduler};Async.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues};Async.prototype.fatalError=function(e,n){if(n){process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n");process.exit(2)}else{this.throwLater(e)}};Async.prototype.throwLater=function(e,n){if(arguments.length===1){n=e;e=function(){throw n}}if(typeof setTimeout!=="undefined"){setTimeout(function(){e(n)},0)}else try{this._schedule(function(){e(n)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}};function AsyncInvokeLater(e,n,t){this._lateQueue.push(e,n,t);this._queueTick()}function AsyncInvoke(e,n,t){this._normalQueue.push(e,n,t);this._queueTick()}function AsyncSettlePromises(e){this._normalQueue._pushOne(e);this._queueTick()}Async.prototype.invokeLater=AsyncInvokeLater;Async.prototype.invoke=AsyncInvoke;Async.prototype.settlePromises=AsyncSettlePromises;function _drainQueue(e){while(e.length()>0){_drainQueueStep(e)}}function _drainQueueStep(e){var n=e.shift();if(typeof n!=="function"){n._settlePromises()}else{var t=e.shift();var i=e.shift();n.call(t,i)}}Async.prototype._drainQueues=function(){_drainQueue(this._normalQueue);this._reset();this._haveDrainedQueues=true;_drainQueue(this._lateQueue)};Async.prototype._queueTick=function(){if(!this._isTickUsed){this._isTickUsed=true;this._schedule(this.drainQueues)}};Async.prototype._reset=function(){this._isTickUsed=false};e.exports=Async;e.exports.firstLineError=i},207:function(e){"use strict";e.exports=function(e,n){var t=e.reduce;var i=e.all;function promiseAllThis(){return i(this)}function PromiseMapSeries(e,i){return t(e,i,n,n)}e.prototype.each=function(e){return t(this,e,n,0)._then(promiseAllThis,undefined,undefined,this,undefined)};e.prototype.mapSeries=function(e){return t(this,e,n,n)};e.each=function(e,i){return t(e,i,n,0)._then(promiseAllThis,undefined,undefined,e,undefined)};e.mapSeries=PromiseMapSeries}},226:function(e,n,t){var i=t(293).Buffer;var r=i.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function assertEncoding(e){if(e&&!r(e)){throw new Error("Unknown encoding: "+e)}}var o=n.StringDecoder=function(e){this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,"");assertEncoding(e);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2;this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3;this.detectIncompleteChar=base64DetectIncompleteChar;break;default:this.write=passThroughWrite;return}this.charBuffer=new i(6);this.charReceived=0;this.charLength=0};o.prototype.write=function(e){var n="";while(this.charLength){var t=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;e.copy(this.charBuffer,this.charReceived,0,t);this.charReceived+=t;if(this.charReceived<this.charLength){return""}e=e.slice(t,e.length);n=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319){this.charLength+=this.surrogateSize;n="";continue}this.charReceived=this.charLength=0;if(e.length===0){return n}break}this.detectIncompleteChar(e);var r=e.length;if(this.charLength){e.copy(this.charBuffer,0,e.length-this.charReceived,r);r-=this.charReceived}n+=e.toString(this.encoding,0,r);var r=n.length-1;var i=n.charCodeAt(r);if(i>=55296&&i<=56319){var o=this.surrogateSize;this.charLength+=o;this.charReceived+=o;this.charBuffer.copy(this.charBuffer,o,0,o);e.copy(this.charBuffer,0,0,o);return n.substring(0,r)}return n};o.prototype.detectIncompleteChar=function(e){var n=e.length>=3?3:e.length;for(;n>0;n--){var t=e[e.length-n];if(n==1&&t>>5==6){this.charLength=2;break}if(n<=2&&t>>4==14){this.charLength=3;break}if(n<=3&&t>>3==30){this.charLength=4;break}}this.charReceived=n};o.prototype.end=function(e){var n="";if(e&&e.length)n=this.write(e);if(this.charReceived){var t=this.charReceived;var i=this.charBuffer;var r=this.encoding;n+=i.slice(0,t).toString(r)}return n};function passThroughWrite(e){return e.toString(this.encoding)}function utf16DetectIncompleteChar(e){this.charReceived=e.length%2;this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(e){this.charReceived=e.length%3;this.charLength=this.charReceived?3:0}},231:function(e,n,t){"use strict";const i=t(268);const r=t(275);const o=t(58);const a=t(631);e.exports=class controller{constructor(e,n,t){let o=0;const c=a.createServer(e=>{new r(this,n,e,++o)});c.on("error",e=>{i.error("server",e.code)});i.log("server",n,"ok");this.packet_arr=[];this.amqp=e;this.srv_name=n;this.conf=t;this.server=c;this.retry=null}run(){const{server:e,conf:n,srv_name:t}=this;const{host:r,port:o}=n;if(r){e.listen(o,r,()=>{i.log(t,"run "+r+":"+o)})}else{e.listen(o,()=>{i.log(t,"run *:"+o)})}}new_packet(e,n){const{packet_arr:t}=this;const i=new o(e,n);t.push(i);return i}receive(){const{retry:e}=this;if(e){clearImmediate(e);this.retry=null}const{amqp:n,srv_name:t,packet_arr:r}=this;while(r.length){let e=r[0];if(e.ready){if(!n.publish(e)){i.error(t,"->",n.conn_name,"cached",e.connId);break}else{r.shift()}}else if(e.error){i.error(t,e.connId,"reject",e.toString());r.shift()}else{this.retry=setImmediate(()=>{this.receive()});break}}}}},255:function(e,n){"use strict";var t=Object.prototype.hasOwnProperty,i;function decode(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function encode(e){try{return encodeURIComponent(e)}catch(e){return null}}function querystring(e){var n=/([^=?&]+)=?([^&]*)/g,t={},i;while(i=n.exec(e)){var r=decode(i[1]),o=decode(i[2]);if(r===null||o===null||r in t)continue;t[r]=o}return t}function querystringify(e,n){n=n||"";var r=[],o,a;if("string"!==typeof n)n="?";for(a in e){if(t.call(e,a)){o=e[a];if(!o&&(o===null||o===i||isNaN(o))){o=""}a=encodeURIComponent(a);o=encodeURIComponent(o);if(a===null||o===null)continue;r.push(a+"="+o)}}return r.length?n+r.join("&"):""}n.stringify=querystringify;n.parse=querystring},257:function(e,n,t){e.exports=Readable;var i=t(976);var r=t(293).Buffer;Readable.ReadableState=ReadableState;var o=t(614).EventEmitter;if(!o.listenerCount)o.listenerCount=function(e,n){return e.listeners(n).length};var a=t(413);var c=t(452);c.inherits=t(59);var f;var d=t(669);if(d&&d.debuglog){d=d.debuglog("stream")}else{d=function(){}}c.inherits(Readable,a);function ReadableState(e,n){var i=t(62);e=e||{};var r=e.highWaterMark;var o=e.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:o;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.objectMode=!!e.objectMode;if(n instanceof i)this.objectMode=this.objectMode||!!e.readableObjectMode;this.defaultEncoding=e.defaultEncoding||"utf8";this.ranOut=false;this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!f)f=t(226).StringDecoder;this.decoder=new f(e.encoding);this.encoding=e.encoding}}function Readable(e){var n=t(62);if(!(this instanceof Readable))return new Readable(e);this._readableState=new ReadableState(e,this);this.readable=true;a.call(this)}Readable.prototype.push=function(e,n){var t=this._readableState;if(c.isString(e)&&!t.objectMode){n=n||t.defaultEncoding;if(n!==t.encoding){e=new r(e,n);n=""}}return readableAddChunk(this,t,e,n,false)};Readable.prototype.unshift=function(e){var n=this._readableState;return readableAddChunk(this,n,e,"",true)};function readableAddChunk(e,n,t,i,r){var o=chunkInvalid(n,t);if(o){e.emit("error",o)}else if(c.isNullOrUndefined(t)){n.reading=false;if(!n.ended)onEofChunk(e,n)}else if(n.objectMode||t&&t.length>0){if(n.ended&&!r){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(n.endEmitted&&r){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else{if(n.decoder&&!r&&!i)t=n.decoder.write(t);if(!r)n.reading=false;if(n.flowing&&n.length===0&&!n.sync){e.emit("data",t);e.read(0)}else{n.length+=n.objectMode?1:t.length;if(r)n.buffer.unshift(t);else n.buffer.push(t);if(n.needReadable)emitReadable(e)}maybeReadMore(e,n)}}else if(!r){n.reading=false}return needMoreData(n)}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}Readable.prototype.setEncoding=function(e){if(!f)f=t(226).StringDecoder;this._readableState.decoder=new f(e);this._readableState.encoding=e;return this};var h=8388608;function roundUpToNextPowerOf2(e){if(e>=h){e=h}else{e--;for(var n=1;n<32;n<<=1)e|=e>>n;e++}return e}function howMuchToRead(e,n){if(n.length===0&&n.ended)return 0;if(n.objectMode)return e===0?0:1;if(isNaN(e)||c.isNull(e)){if(n.flowing&&n.buffer.length)return n.buffer[0].length;else return n.length}if(e<=0)return 0;if(e>n.highWaterMark)n.highWaterMark=roundUpToNextPowerOf2(e);if(e>n.length){if(!n.ended){n.needReadable=true;return 0}else return n.length}return e}Readable.prototype.read=function(e){d("read",e);var n=this._readableState;var t=e;if(!c.isNumber(e)||e>0)n.emittedReadable=false;if(e===0&&n.needReadable&&(n.length>=n.highWaterMark||n.ended)){d("read: emitReadable",n.length,n.ended);if(n.length===0&&n.ended)endReadable(this);else emitReadable(this);return null}e=howMuchToRead(e,n);if(e===0&&n.ended){if(n.length===0)endReadable(this);return null}var i=n.needReadable;d("need readable",i);if(n.length===0||n.length-e<n.highWaterMark){i=true;d("length less than watermark",i)}if(n.ended||n.reading){i=false;d("reading or ended",i)}if(i){d("do read");n.reading=true;n.sync=true;if(n.length===0)n.needReadable=true;this._read(n.highWaterMark);n.sync=false}if(i&&!n.reading)e=howMuchToRead(t,n);var r;if(e>0)r=fromList(e,n);else r=null;if(c.isNull(r)){n.needReadable=true;e=0}n.length-=e;if(n.length===0&&!n.ended)n.needReadable=true;if(t!==e&&n.ended&&n.length===0)endReadable(this);if(!c.isNull(r))this.emit("data",r);return r};function chunkInvalid(e,n){var t=null;if(!c.isBuffer(n)&&!c.isString(n)&&!c.isNullOrUndefined(n)&&!e.objectMode){t=new TypeError("Invalid non-string/buffer chunk")}return t}function onEofChunk(e,n){if(n.decoder&&!n.ended){var t=n.decoder.end();if(t&&t.length){n.buffer.push(t);n.length+=n.objectMode?1:t.length}}n.ended=true;emitReadable(e)}function emitReadable(e){var n=e._readableState;n.needReadable=false;if(!n.emittedReadable){d("emitReadable",n.flowing);n.emittedReadable=true;if(n.sync)process.nextTick(function(){emitReadable_(e)});else emitReadable_(e)}}function emitReadable_(e){d("emit readable");e.emit("readable");flow(e)}function maybeReadMore(e,n){if(!n.readingMore){n.readingMore=true;process.nextTick(function(){maybeReadMore_(e,n)})}}function maybeReadMore_(e,n){var t=n.length;while(!n.reading&&!n.flowing&&!n.ended&&n.length<n.highWaterMark){d("maybeReadMore read 0");e.read(0);if(t===n.length)break;else t=n.length}n.readingMore=false}Readable.prototype._read=function(e){this.emit("error",new Error("not implemented"))};Readable.prototype.pipe=function(e,n){var t=this;var r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e);break}r.pipesCount+=1;d("pipe count=%d opts=%j",r.pipesCount,n);var a=(!n||n.end!==false)&&e!==process.stdout&&e!==process.stderr;var c=a?onend:cleanup;if(r.endEmitted)process.nextTick(c);else t.once("end",c);e.on("unpipe",onunpipe);function onunpipe(e){d("onunpipe");if(e===t){cleanup()}}function onend(){d("onend");e.end()}var f=pipeOnDrain(t);e.on("drain",f);function cleanup(){d("cleanup");e.removeListener("close",onclose);e.removeListener("finish",onfinish);e.removeListener("drain",f);e.removeListener("error",onerror);e.removeListener("unpipe",onunpipe);t.removeListener("end",onend);t.removeListener("end",cleanup);t.removeListener("data",ondata);if(r.awaitDrain&&(!e._writableState||e._writableState.needDrain))f()}t.on("data",ondata);function ondata(n){d("ondata");var i=e.write(n);if(false===i){d("false write response, pause",t._readableState.awaitDrain);t._readableState.awaitDrain++;t.pause()}}function onerror(n){d("onerror",n);unpipe();e.removeListener("error",onerror);if(o.listenerCount(e,"error")===0)e.emit("error",n)}if(!e._events||!e._events.error)e.on("error",onerror);else if(i(e._events.error))e._events.error.unshift(onerror);else e._events.error=[onerror,e._events.error];function onclose(){e.removeListener("finish",onfinish);unpipe()}e.once("close",onclose);function onfinish(){d("onfinish");e.removeListener("close",onclose);unpipe()}e.once("finish",onfinish);function unpipe(){d("unpipe");t.unpipe(e)}e.emit("pipe",t);if(!r.flowing){d("pipe resume");t.resume()}return e};function pipeOnDrain(e){return function(){var n=e._readableState;d("pipeOnDrain",n.awaitDrain);if(n.awaitDrain)n.awaitDrain--;if(n.awaitDrain===0&&o.listenerCount(e,"data")){n.flowing=true;flow(e)}}}Readable.prototype.unpipe=function(e){var n=this._readableState;if(n.pipesCount===0)return this;if(n.pipesCount===1){if(e&&e!==n.pipes)return this;if(!e)e=n.pipes;n.pipes=null;n.pipesCount=0;n.flowing=false;if(e)e.emit("unpipe",this);return this}if(!e){var t=n.pipes;var i=n.pipesCount;n.pipes=null;n.pipesCount=0;n.flowing=false;for(var r=0;r<i;r++)t[r].emit("unpipe",this);return this}var r=indexOf(n.pipes,e);if(r===-1)return this;n.pipes.splice(r,1);n.pipesCount-=1;if(n.pipesCount===1)n.pipes=n.pipes[0];e.emit("unpipe",this);return this};Readable.prototype.on=function(e,n){var t=a.prototype.on.call(this,e,n);if(e==="data"&&false!==this._readableState.flowing){this.resume()}if(e==="readable"&&this.readable){var i=this._readableState;if(!i.readableListening){i.readableListening=true;i.emittedReadable=false;i.needReadable=true;if(!i.reading){var r=this;process.nextTick(function(){d("readable nexttick read 0");r.read(0)})}else if(i.length){emitReadable(this,i)}}}return t};Readable.prototype.addListener=Readable.prototype.on;Readable.prototype.resume=function(){var e=this._readableState;if(!e.flowing){d("resume");e.flowing=true;if(!e.reading){d("resume read 0");this.read(0)}resume(this,e)}return this};function resume(e,n){if(!n.resumeScheduled){n.resumeScheduled=true;process.nextTick(function(){resume_(e,n)})}}function resume_(e,n){n.resumeScheduled=false;e.emit("resume");flow(e);if(n.flowing&&!n.reading)e.read(0)}Readable.prototype.pause=function(){d("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){d("pause");this._readableState.flowing=false;this.emit("pause")}return this};function flow(e){var n=e._readableState;d("flow",n.flowing);if(n.flowing){do{var t=e.read()}while(null!==t&&n.flowing)}}Readable.prototype.wrap=function(e){var n=this._readableState;var t=false;var i=this;e.on("end",function(){d("wrapped end");if(n.decoder&&!n.ended){var e=n.decoder.end();if(e&&e.length)i.push(e)}i.push(null)});e.on("data",function(r){d("wrapped data");if(n.decoder)r=n.decoder.write(r);if(!r||!n.objectMode&&!r.length)return;var o=i.push(r);if(!o){t=true;e.pause()}});for(var r in e){if(c.isFunction(e[r])&&c.isUndefined(this[r])){this[r]=function(n){return function(){return e[n].apply(e,arguments)}}(r)}}var o=["error","close","destroy","pause","resume"];forEach(o,function(n){e.on(n,i.emit.bind(i,n))});i._read=function(n){d("wrapped _read",n);if(t){t=false;e.resume()}};return i};Readable._fromList=fromList;function fromList(e,n){var t=n.buffer;var i=n.length;var o=!!n.decoder;var a=!!n.objectMode;var c;if(t.length===0)return null;if(i===0)c=null;else if(a)c=t.shift();else if(!e||e>=i){if(o)c=t.join("");else c=r.concat(t,i);t.length=0}else{if(e<t[0].length){var f=t[0];c=f.slice(0,e);t[0]=f.slice(e)}else if(e===t[0].length){c=t.shift()}else{if(o)c="";else c=new r(e);var d=0;for(var h=0,s=t.length;h<s&&d<e;h++){var f=t[0];var p=Math.min(e-d,f.length);if(o)c+=f.slice(0,p);else f.copy(c,d,0,p);if(p<f.length)t[0]=f.slice(p);else t.shift();d+=p}}}return c}function endReadable(e){var n=e._readableState;if(n.length>0)throw new Error("endReadable called on non-empty stream");if(!n.endEmitted){n.ended=true;process.nextTick(function(){if(!n.endEmitted&&n.length===0){n.endEmitted=true;e.readable=false;e.emit("end")}})}}function forEach(e,n){for(var t=0,i=e.length;t<i;t++){n(e[t],t)}}function indexOf(e,n){for(var t=0,i=e.length;t<i;t++){if(e[t]===n)return t}return-1}},262:function(e,n,t){"use strict";var i;if(typeof Promise!=="undefined")i=Promise;function noConflict(){try{if(Promise===r)Promise=i}catch(e){}return r}var r=t(126)();r.noConflict=noConflict;e.exports=r},268:function(e){"use strict";class unit{constructor(){this.localtime=false;this.verbose=true}uts(){return(new Date).toJSON()}lts(){const e=new Date;const n=e.getTimezoneOffset();let t=new Date(e.getTime()-n*6e4).toJSON().slice(0,-1);let i=-n/60;if(i<0){i=-i;t+="-"}else{t+="+"}if(i<10){t+="0"}t+=i.toString();let r=n%60;if(r<0){r=-r}if(r<10){t+="0"}t+=r.toString();return t}ts(){const{localtime:e}=this;return e?this.lts():this.uts()}output(e,n,...t){e(this.ts(),n,...t)}error(...e){this.output(console.error,"(ERR)",...e)}log(...e){this.output(console.log,"     ",...e)}trace(e){if(this.verbose){e((...e)=>{this.log(...e)})}}js(e){return JSON.stringify(e)}dir(e){if(e.slice(-1)!="/"){e+="/"}return e}time_diff(e){return((new Date).getTime()-e.getTime())/1e3}}const n=new unit;e.exports=n},274:function(e,n,t){"use strict";e.exports=function(e,n){var i=t(302);var r=i.errorObj;var o=i.isObject;function tryConvertToPromise(t,i){if(o(t)){if(t instanceof e)return t;var a=getThen(t);if(a===r){if(i)i._pushContext();var c=e.reject(a.e);if(i)i._popContext();return c}else if(typeof a==="function"){if(isAnyBluebirdPromise(t)){var c=new e(n);t._then(c._fulfill,c._reject,undefined,c,null);return c}return doThenable(t,a,i)}}return t}function doGetThen(e){return e.then}function getThen(e){try{return doGetThen(e)}catch(e){r.e=e;return r}}var a={}.hasOwnProperty;function isAnyBluebirdPromise(e){try{return a.call(e,"_promise0")}catch(e){return false}}function doThenable(t,o,a){var c=new e(n);var f=c;if(a)a._pushContext();c._captureStackTrace();if(a)a._popContext();var d=true;var h=i.tryCatch(o).call(t,resolve,reject);d=false;if(c&&h===r){c._rejectCallback(h.e,true,true);c=null}function resolve(e){if(!c)return;c._resolveCallback(e);c=null}function reject(e){if(!c)return;c._rejectCallback(e,d,true);c=null}return f}return tryConvertToPromise}},275:function(e,n,t){"use strict";const i=t(268);const r=15;e.exports=class connection{constructor(e,n,t,r){this.packet=null;this.recv_buf=Buffer.alloc(0);this.sock=t;this.conn_time=new Date;this.srv_name=n;this.ctrl=e;this.ci=r;this.recv_time=null;t.on("data",e=>{this.on_data(e)});t.on("error",e=>{this.on_error(e)});t.on("end",()=>{this.on_close()});t.setTimeout(6e5);t.on("timeout",()=>{this.on_error({code:"ETIMEOUT"})});i.trace(e=>{e(n,this.connId,"connect",this.remoteAddress)})}on_data(e){try{const{recv_time:n}=this;if(!n){this.recv_time=new Date}this.concat(e);this.parse()}catch(e){this.on_error(e)}}on_error(e){const{srv_name:n,connId:t,remoteAddress:r,sock:o,packet:a,ctrl:c,recv_time:f,recv_buf:d}=this;const{length:h}=d;i.error(n,t,r,"receive="+h,"time="+i.time_diff(f),e,this.time_str());o.destroy();if(a){a.set_error(true);c.receive()}}on_close(){const{sock:e,ctrl:n,packet:t,connId:r,remoteAddress:o,srv_name:a,recv_buf:c,recv_time:f}=this;const{length:d}=c;try{if(t){t.receive(c);n.receive()}i.trace(e=>{e(a,r,"close",o,"receive="+d,"time="+i.time_diff(f))});e.destroy()}catch(e){this.on_error(e)}}get connId(){return"id="+this.ci}get remoteAddressLocal(){const{sock:e}=this;const{remoteAddress:n}=e;return n==="127.0.0.1"||n==="::ffff:127.0.0.1"||n==="::1"}get remoteAddress(){const{sock:e,remoteAddressLocal:n}=this;const t="remotePort:"+e.remotePort;return n?t:e.remoteAddress+":"+e.remotePport}concat(e){const{recv_buf:n}=this;this.recv_buf=n?Buffer.concat([n,e]):e}parse(){const{sock:e,srv_name:n,remoteAddress:t,packet:i,recv_buf:o}=this;const{length:a}=o;if(!i&&a>=r){const e=o.slice(0,r).toString();if(!(e[0]=="["&&e[r-1]==",")){throw{code:100500,error:"bad header"}}const n=e.slice(1,r-1);const t=parseInt(n);if(!t||t<1){throw{code:100500,error:"bad header"}}this.create_packet(t)}}time(){const{conn_time:e}=this;const n=(new Date).getTime();const t=e.getTime();return n-t}time_str(){return this.time()/1e3+"sec"}create_packet(e){const{srv_name:n,connId:t,ctrl:r}=this;i.trace(i=>{i(n,t,e)});this.packet=r.new_packet(e,t)}}},285:function(e){"use strict";function arrayMove(e,n,t,i,r){for(var o=0;o<r;++o){t[o+i]=e[o+n];e[o+n]=void 0}}function Queue(e){this._capacity=e;this._length=0;this._front=0}Queue.prototype._willBeOverCapacity=function(e){return this._capacity<e};Queue.prototype._pushOne=function(e){var n=this.length();this._checkCapacity(n+1);var t=this._front+n&this._capacity-1;this[t]=e;this._length=n+1};Queue.prototype.push=function(e,n,t){var i=this.length()+3;if(this._willBeOverCapacity(i)){this._pushOne(e);this._pushOne(n);this._pushOne(t);return}var r=this._front+i-3;this._checkCapacity(i);var o=this._capacity-1;this[r+0&o]=e;this[r+1&o]=n;this[r+2&o]=t;this._length=i};Queue.prototype.shift=function(){var e=this._front,n=this[e];this[e]=undefined;this._front=e+1&this._capacity-1;this._length--;return n};Queue.prototype.length=function(){return this._length};Queue.prototype._checkCapacity=function(e){if(this._capacity<e){this._resizeTo(this._capacity<<1)}};Queue.prototype._resizeTo=function(e){var n=this._capacity;this._capacity=e;var t=this._front;var i=this._length;var r=t+i&n-1;arrayMove(this,0,this,n,r)};e.exports=Queue},289:function(e){"use strict";function set(e){var n={};for(var t in e){n[e[t]]=1}return n}function variable(e,n,t){var i=set(t);var r={name:e};r.type=type_in(i);specs(r,r.type,i);r.size=size_of(r,r.type,n,r.unit);return r}e.exports.variable=variable;e.exports.rest=function(){return variable("_",true,["binary"])};function value(e,n,t){var i=set(t);var r={value:e};r.type=type_in(i);specs(r,r.type,i);r.size=size_of(r,r.type,n,r.unit);return r}e.exports.value=value;function string(e){return{value:e,type:"string"}}e.exports.string=string;var n={integer:1,binary:1,float:1};function type_in(e){for(var t in e){if(n[t]){return t}}return"integer"}function specs(e,n,t){switch(n){case"integer":e.signed=signed_in(t);case"float":e.bigendian=endian_in(t);default:e.unit=unit_in(t,e.type)}return e}function endian_in(e){return!e["little"]}function signed_in(e){return e["signed"]}function unit_in(e,n){for(var t in e){if(t.substr(0,5)=="unit:"){var i=parseInt(t.substr(5));return i}}switch(n){case"binary":return 8;case"integer":case"float":return 1}}function size_of(e,n,t,i){if(t!==undefined&&t!==""){return t}else{switch(n){case"integer":return 8;case"float":return 64;case"binary":return true}}}},293:function(e){e.exports=require("buffer")},302:function(module,__unusedexports,__webpack_require__){"use strict";var es5=__webpack_require__(846);var canEvaluate=typeof navigator=="undefined";var errorObj={e:{}};var tryCatchTarget;var globalObject=typeof self!=="undefined"?self:typeof window!=="undefined"?window:typeof global!=="undefined"?global:this!==undefined?this:null;function tryCatcher(){try{var e=tryCatchTarget;tryCatchTarget=null;return e.apply(this,arguments)}catch(e){errorObj.e=e;return errorObj}}function tryCatch(e){tryCatchTarget=e;return tryCatcher}var inherits=function(e,n){var t={}.hasOwnProperty;function T(){this.constructor=e;this.constructor$=n;for(var i in n.prototype){if(t.call(n.prototype,i)&&i.charAt(i.length-1)!=="$"){this[i+"$"]=n.prototype[i]}}}T.prototype=n.prototype;e.prototype=new T;return e.prototype};function isPrimitive(e){return e==null||e===true||e===false||typeof e==="string"||typeof e==="number"}function isObject(e){return typeof e==="function"||typeof e==="object"&&e!==null}function maybeWrapAsError(e){if(!isPrimitive(e))return e;return new Error(safeToString(e))}function withAppended(e,n){var t=e.length;var i=new Array(t+1);var r;for(r=0;r<t;++r){i[r]=e[r]}i[r]=n;return i}function getDataPropertyOrDefault(e,n,t){if(es5.isES5){var i=Object.getOwnPropertyDescriptor(e,n);if(i!=null){return i.get==null&&i.set==null?i.value:t}}else{return{}.hasOwnProperty.call(e,n)?e[n]:undefined}}function notEnumerableProp(e,n,t){if(isPrimitive(e))return e;var i={value:t,configurable:true,enumerable:false,writable:true};es5.defineProperty(e,n,i);return e}function thrower(e){throw e}var inheritedDataKeys=function(){var e=[Array.prototype,Object.prototype,Function.prototype];var n=function(n){for(var t=0;t<e.length;++t){if(e[t]===n){return true}}return false};if(es5.isES5){var t=Object.getOwnPropertyNames;return function(e){var i=[];var r=Object.create(null);while(e!=null&&!n(e)){var o;try{o=t(e)}catch(e){return i}for(var a=0;a<o.length;++a){var c=o[a];if(r[c])continue;r[c]=true;var f=Object.getOwnPropertyDescriptor(e,c);if(f!=null&&f.get==null&&f.set==null){i.push(c)}}e=es5.getPrototypeOf(e)}return i}}else{var i={}.hasOwnProperty;return function(t){if(n(t))return[];var r=[];e:for(var o in t){if(i.call(t,o)){r.push(o)}else{for(var a=0;a<e.length;++a){if(i.call(e[a],o)){continue e}}r.push(o)}}return r}}}();var thisAssignmentPattern=/this\s*\.\s*\S+\s*=/;function isClass(e){try{if(typeof e==="function"){var n=es5.names(e.prototype);var t=es5.isES5&&n.length>1;var i=n.length>0&&!(n.length===1&&n[0]==="constructor");var r=thisAssignmentPattern.test(e+"")&&es5.names(e).length>0;if(t||i||r){return true}}return false}catch(e){return false}}function toFastProperties(obj){function FakeConstructor(){}FakeConstructor.prototype=obj;var receiver=new FakeConstructor;function ic(){return typeof receiver.foo}ic();ic();return obj;eval(obj)}var rident=/^[a-z$_][a-z$_0-9]*$/i;function isIdentifier(e){return rident.test(e)}function filledRange(e,n,t){var i=new Array(e);for(var r=0;r<e;++r){i[r]=n+r+t}return i}function safeToString(e){try{return e+""}catch(e){return"[no string representation]"}}function isError(e){return e instanceof Error||e!==null&&typeof e==="object"&&typeof e.message==="string"&&typeof e.name==="string"}function markAsOriginatingFromRejection(e){try{notEnumerableProp(e,"isOperational",true)}catch(e){}}function originatesFromRejection(e){if(e==null)return false;return e instanceof Error["__BluebirdErrorTypes__"].OperationalError||e["isOperational"]===true}function canAttachTrace(e){return isError(e)&&es5.propertyIsWritable(e,"stack")}var ensureErrorObject=function(){if(!("stack"in new Error)){return function(e){if(canAttachTrace(e))return e;try{throw new Error(safeToString(e))}catch(e){return e}}}else{return function(e){if(canAttachTrace(e))return e;return new Error(safeToString(e))}}}();function classString(e){return{}.toString.call(e)}function copyDescriptors(e,n,t){var i=es5.names(e);for(var r=0;r<i.length;++r){var o=i[r];if(t(o)){try{es5.defineProperty(n,o,es5.getDescriptor(e,o))}catch(e){}}}}var asArray=function(e){if(es5.isArray(e)){return e}return null};if(typeof Symbol!=="undefined"&&Symbol.iterator){var ArrayFrom=typeof Array.from==="function"?function(e){return Array.from(e)}:function(e){var n=[];var t=e[Symbol.iterator]();var i;while(!(i=t.next()).done){n.push(i.value)}return n};asArray=function(e){if(es5.isArray(e)){return e}else if(e!=null&&typeof e[Symbol.iterator]==="function"){return ArrayFrom(e)}return null}}var isNode=typeof process!=="undefined"&&classString(process).toLowerCase()==="[object process]";var hasEnvVariables=typeof process!=="undefined"&&typeof process.env!=="undefined";function env(e){return hasEnvVariables?process.env[e]:undefined}function getNativePromise(){if(typeof Promise==="function"){try{var e=new Promise(function(){});if(classString(e)==="[object Promise]"){return Promise}}catch(e){}}}var reflectHandler;function contextBind(e,n){if(e===null||typeof n!=="function"||n===reflectHandler){return n}if(e.domain!==null){n=e.domain.bind(n)}var t=e.async;if(t!==null){var i=n;n=function(){var e=arguments.length+2;var n=new Array(e);for(var r=2;r<e;++r){n[r]=arguments[r-2]}n[0]=i;n[1]=this;return t.runInAsyncScope.apply(t,n)}}return n}var ret={setReflectHandler:function(e){reflectHandler=e},isClass:isClass,isIdentifier:isIdentifier,inheritedDataKeys:inheritedDataKeys,getDataPropertyOrDefault:getDataPropertyOrDefault,thrower:thrower,isArray:es5.isArray,asArray:asArray,notEnumerableProp:notEnumerableProp,isPrimitive:isPrimitive,isObject:isObject,isError:isError,canEvaluate:canEvaluate,errorObj:errorObj,tryCatch:tryCatch,inherits:inherits,withAppended:withAppended,maybeWrapAsError:maybeWrapAsError,toFastProperties:toFastProperties,filledRange:filledRange,toString:safeToString,canAttachTrace:canAttachTrace,ensureErrorObject:ensureErrorObject,originatesFromRejection:originatesFromRejection,markAsOriginatingFromRejection:markAsOriginatingFromRejection,classString:classString,copyDescriptors:copyDescriptors,isNode:isNode,hasEnvVariables:hasEnvVariables,env:env,global:globalObject,getNativePromise:getNativePromise,contextBind:contextBind};ret.isRecentNode=ret.isNode&&function(){var e;if(process.versions&&process.versions.node){e=process.versions.node.split(".").map(Number)}else if(process.version){e=process.version.split(".").map(Number)}return e[0]===0&&e[1]>10||e[0]>0}();ret.nodeSupportsAsyncResource=ret.isNode&&function(){var e=false;try{var n=__webpack_require__(303).AsyncResource;e=typeof n.prototype.runInAsyncScope==="function"}catch(n){e=false}return e}();if(ret.isNode)ret.toFastProperties(process);try{throw new Error}catch(e){ret.lastLineError=e}module.exports=ret},303:function(e){e.exports=require("async_hooks")},315:function(e){e.exports=function(){function quote(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var e={parse:function(e,n){var t={start:parse_start,segmentTail:parse_segmentTail,segment:parse_segment,string:parse_string,chars:parse_chars,char:parse_char,hexDigit:parse_hexDigit,identifier:parse_identifier,number:parse_number,size:parse_size,specifierList:parse_specifierList,specifierTail:parse_specifierTail,specifier:parse_specifier,unit:parse_unit,ws:parse_ws};if(n!==undefined){if(t[n]===undefined){throw new Error("Invalid rule name: "+quote(n)+".")}}else{n="start"}var i=0;var r=0;var o=0;var a=[];function padLeft(e,n,t){var i=e;var r=t-e.length;for(var o=0;o<r;o++){i=n+i}return i}function escape(e){var n=e.charCodeAt(0);var t;var i;if(n<=255){t="x";i=2}else{t="u";i=4}return"\\"+t+padLeft(n.toString(16).toUpperCase(),"0",i)}function matchFailed(e){if(i<o){return}if(i>o){o=i;a=[]}a.push(e)}function parse_start(){var e,n,t,r;var o,a;o=i;a=i;e=parse_ws();if(e!==null){n=parse_segment();if(n!==null){t=[];r=parse_segmentTail();while(r!==null){t.push(r);r=parse_segmentTail()}if(t!==null){e=[e,n,t]}else{e=null;i=a}}else{e=null;i=a}}else{e=null;i=a}if(e!==null){e=function(e,n,t){t.unshift(n);return t}(o,e[1],e[2])}if(e===null){i=o}return e}function parse_segmentTail(){var n,t,o,a;var c,f;c=i;f=i;n=parse_ws();if(n!==null){if(e.charCodeAt(i)===44){t=",";i++}else{t=null;if(r===0){matchFailed('","')}}if(t!==null){o=parse_ws();if(o!==null){a=parse_segment();if(a!==null){n=[n,t,o,a]}else{n=null;i=f}}else{n=null;i=f}}else{n=null;i=f}}else{n=null;i=f}if(n!==null){n=function(e,n){return n}(c,n[3])}if(n===null){i=c}return n}function parse_segment(){var e,n,t;var r,o;r=i;e=parse_string();if(e!==null){e=function(e,n){return{string:n}}(r,e)}if(e===null){i=r}if(e===null){r=i;o=i;e=parse_identifier();if(e!==null){n=parse_size();n=n!==null?n:"";if(n!==null){t=parse_specifierList();t=t!==null?t:"";if(t!==null){e=[e,n,t]}else{e=null;i=o}}else{e=null;i=o}}else{e=null;i=o}if(e!==null){e=function(e,n,t,i){return{name:n,size:t,specifiers:i}}(r,e[0],e[1],e[2])}if(e===null){i=r}if(e===null){r=i;o=i;e=parse_number();if(e!==null){n=parse_size();n=n!==null?n:"";if(n!==null){t=parse_specifierList();t=t!==null?t:"";if(t!==null){e=[e,n,t]}else{e=null;i=o}}else{e=null;i=o}}else{e=null;i=o}if(e!==null){e=function(e,n,t,i){return{value:n,size:t,specifiers:i}}(r,e[0],e[1],e[2])}if(e===null){i=r}}}return e}function parse_string(){var n,t,o;var a,c;a=i;c=i;if(e.charCodeAt(i)===34){n='"';i++}else{n=null;if(r===0){matchFailed('"\\""')}}if(n!==null){if(e.charCodeAt(i)===34){t='"';i++}else{t=null;if(r===0){matchFailed('"\\""')}}if(t!==null){n=[n,t]}else{n=null;i=c}}else{n=null;i=c}if(n!==null){n=function(e){return""}(a)}if(n===null){i=a}if(n===null){a=i;c=i;if(e.charCodeAt(i)===34){n='"';i++}else{n=null;if(r===0){matchFailed('"\\""')}}if(n!==null){t=parse_chars();if(t!==null){if(e.charCodeAt(i)===34){o='"';i++}else{o=null;if(r===0){matchFailed('"\\""')}}if(o!==null){n=[n,t,o]}else{n=null;i=c}}else{n=null;i=c}}else{n=null;i=c}if(n!==null){n=function(e,n){return n}(a,n[1])}if(n===null){i=a}}return n}function parse_chars(){var e,n;var t;t=i;n=parse_char();if(n!==null){e=[];while(n!==null){e.push(n);n=parse_char()}}else{e=null}if(e!==null){e=function(e,n){return n.join("")}(t,e)}if(e===null){i=t}return e}function parse_char(){var n,t,o,a,c;var f,d;if(/^[^"\\\0-\x1F]/.test(e.charAt(i))){n=e.charAt(i);i++}else{n=null;if(r===0){matchFailed('[^"\\\\\\0-\\x1F]')}}if(n===null){f=i;if(e.substr(i,2)==='\\"'){n='\\"';i+=2}else{n=null;if(r===0){matchFailed('"\\\\\\""')}}if(n!==null){n=function(e){return'"'}(f)}if(n===null){i=f}if(n===null){f=i;if(e.substr(i,2)==="\\\\"){n="\\\\";i+=2}else{n=null;if(r===0){matchFailed('"\\\\\\\\"')}}if(n!==null){n=function(e){return"\\"}(f)}if(n===null){i=f}if(n===null){f=i;if(e.substr(i,2)==="\\/"){n="\\/";i+=2}else{n=null;if(r===0){matchFailed('"\\\\/"')}}if(n!==null){n=function(e){return"/"}(f)}if(n===null){i=f}if(n===null){f=i;if(e.substr(i,2)==="\\b"){n="\\b";i+=2}else{n=null;if(r===0){matchFailed('"\\\\b"')}}if(n!==null){n=function(e){return"\b"}(f)}if(n===null){i=f}if(n===null){f=i;if(e.substr(i,2)==="\\f"){n="\\f";i+=2}else{n=null;if(r===0){matchFailed('"\\\\f"')}}if(n!==null){n=function(e){return"\f"}(f)}if(n===null){i=f}if(n===null){f=i;if(e.substr(i,2)==="\\n"){n="\\n";i+=2}else{n=null;if(r===0){matchFailed('"\\\\n"')}}if(n!==null){n=function(e){return"\n"}(f)}if(n===null){i=f}if(n===null){f=i;if(e.substr(i,2)==="\\r"){n="\\r";i+=2}else{n=null;if(r===0){matchFailed('"\\\\r"')}}if(n!==null){n=function(e){return"\r"}(f)}if(n===null){i=f}if(n===null){f=i;if(e.substr(i,2)==="\\t"){n="\\t";i+=2}else{n=null;if(r===0){matchFailed('"\\\\t"')}}if(n!==null){n=function(e){return"\t"}(f)}if(n===null){i=f}if(n===null){f=i;d=i;if(e.substr(i,2)==="\\u"){n="\\u";i+=2}else{n=null;if(r===0){matchFailed('"\\\\u"')}}if(n!==null){t=parse_hexDigit();if(t!==null){o=parse_hexDigit();if(o!==null){a=parse_hexDigit();if(a!==null){c=parse_hexDigit();if(c!==null){n=[n,t,o,a,c]}else{n=null;i=d}}else{n=null;i=d}}else{n=null;i=d}}else{n=null;i=d}}else{n=null;i=d}if(n!==null){n=function(e,n,t,i,r){return String.fromCharCode(parseInt("0x"+n+t+i+r))}(f,n[1],n[2],n[3],n[4])}if(n===null){i=f}}}}}}}}}}return n}function parse_hexDigit(){var n;if(/^[0-9a-fA-F]/.test(e.charAt(i))){n=e.charAt(i);i++}else{n=null;if(r===0){matchFailed("[0-9a-fA-F]")}}return n}function parse_identifier(){var n,t,o;var a,c;a=i;c=i;if(/^[_a-zA-Z]/.test(e.charAt(i))){n=e.charAt(i);i++}else{n=null;if(r===0){matchFailed("[_a-zA-Z]")}}if(n!==null){t=[];if(/^[_a-zA-Z0-9]/.test(e.charAt(i))){o=e.charAt(i);i++}else{o=null;if(r===0){matchFailed("[_a-zA-Z0-9]")}}while(o!==null){t.push(o);if(/^[_a-zA-Z0-9]/.test(e.charAt(i))){o=e.charAt(i);i++}else{o=null;if(r===0){matchFailed("[_a-zA-Z0-9]")}}}if(t!==null){n=[n,t]}else{n=null;i=c}}else{n=null;i=c}if(n!==null){n=function(e,n,t){return n+t.join("")}(a,n[0],n[1])}if(n===null){i=a}return n}function parse_number(){var n,t,o;var a,c;a=i;if(e.charCodeAt(i)===48){n="0";i++}else{n=null;if(r===0){matchFailed('"0"')}}if(n!==null){n=function(e){return 0}(a)}if(n===null){i=a}if(n===null){a=i;c=i;if(/^[1-9]/.test(e.charAt(i))){n=e.charAt(i);i++}else{n=null;if(r===0){matchFailed("[1-9]")}}if(n!==null){t=[];if(/^[0-9]/.test(e.charAt(i))){o=e.charAt(i);i++}else{o=null;if(r===0){matchFailed("[0-9]")}}while(o!==null){t.push(o);if(/^[0-9]/.test(e.charAt(i))){o=e.charAt(i);i++}else{o=null;if(r===0){matchFailed("[0-9]")}}}if(t!==null){n=[n,t]}else{n=null;i=c}}else{n=null;i=c}if(n!==null){n=function(e,n,t){return parseInt(n+t.join(""))}(a,n[0],n[1])}if(n===null){i=a}}return n}function parse_size(){var n,t;var o,a;o=i;a=i;if(e.charCodeAt(i)===58){n=":";i++}else{n=null;if(r===0){matchFailed('":"')}}if(n!==null){t=parse_number();if(t!==null){n=[n,t]}else{n=null;i=a}}else{n=null;i=a}if(n!==null){n=function(e,n){return n}(o,n[1])}if(n===null){i=o}if(n===null){o=i;a=i;if(e.charCodeAt(i)===58){n=":";i++}else{n=null;if(r===0){matchFailed('":"')}}if(n!==null){t=parse_identifier();if(t!==null){n=[n,t]}else{n=null;i=a}}else{n=null;i=a}if(n!==null){n=function(e,n){return n}(o,n[1])}if(n===null){i=o}}return n}function parse_specifierList(){var n,t,o,a;var c,f;c=i;f=i;if(e.charCodeAt(i)===47){n="/";i++}else{n=null;if(r===0){matchFailed('"/"')}}if(n!==null){t=parse_specifier();if(t!==null){o=[];a=parse_specifierTail();while(a!==null){o.push(a);a=parse_specifierTail()}if(o!==null){n=[n,t,o]}else{n=null;i=f}}else{n=null;i=f}}else{n=null;i=f}if(n!==null){n=function(e,n,t){t.unshift(n);return t}(c,n[1],n[2])}if(n===null){i=c}return n}function parse_specifierTail(){var n,t;var o,a;o=i;a=i;if(e.charCodeAt(i)===45){n="-";i++}else{n=null;if(r===0){matchFailed('"-"')}}if(n!==null){t=parse_specifier();if(t!==null){n=[n,t]}else{n=null;i=a}}else{n=null;i=a}if(n!==null){n=function(e,n){return n}(o,n[1])}if(n===null){i=o}return n}function parse_specifier(){var n;if(e.substr(i,6)==="little"){n="little";i+=6}else{n=null;if(r===0){matchFailed('"little"')}}if(n===null){if(e.substr(i,3)==="big"){n="big";i+=3}else{n=null;if(r===0){matchFailed('"big"')}}if(n===null){if(e.substr(i,6)==="signed"){n="signed";i+=6}else{n=null;if(r===0){matchFailed('"signed"')}}if(n===null){if(e.substr(i,8)==="unsigned"){n="unsigned";i+=8}else{n=null;if(r===0){matchFailed('"unsigned"')}}if(n===null){if(e.substr(i,7)==="integer"){n="integer";i+=7}else{n=null;if(r===0){matchFailed('"integer"')}}if(n===null){if(e.substr(i,6)==="binary"){n="binary";i+=6}else{n=null;if(r===0){matchFailed('"binary"')}}if(n===null){if(e.substr(i,5)==="float"){n="float";i+=5}else{n=null;if(r===0){matchFailed('"float"')}}if(n===null){n=parse_unit()}}}}}}}return n}function parse_unit(){var n,t;var o,a;o=i;a=i;if(e.substr(i,5)==="unit:"){n="unit:";i+=5}else{n=null;if(r===0){matchFailed('"unit:"')}}if(n!==null){t=parse_number();if(t!==null){n=[n,t]}else{n=null;i=a}}else{n=null;i=a}if(n!==null){n=function(e,n){return"unit:"+n}(o,n[1])}if(n===null){i=o}return n}function parse_ws(){var n,t;n=[];if(/^[ \t\n]/.test(e.charAt(i))){t=e.charAt(i);i++}else{t=null;if(r===0){matchFailed("[ \\t\\n]")}}while(t!==null){n.push(t);if(/^[ \t\n]/.test(e.charAt(i))){t=e.charAt(i);i++}else{t=null;if(r===0){matchFailed("[ \\t\\n]")}}}return n}function cleanupExpected(e){e.sort();var n=null;var t=[];for(var i=0;i<e.length;i++){if(e[i]!==n){t.push(e[i]);n=e[i]}}return t}function computeErrorPosition(){var n=1;var t=1;var r=false;for(var a=0;a<Math.max(i,o);a++){var c=e.charAt(a);if(c==="\n"){if(!r){n++}t=1;r=false}else if(c==="\r"||c==="\u2028"||c==="\u2029"){n++;t=1;r=true}else{t++;r=false}}return{line:n,column:t}}var c=t[n]();if(c===null||i!==e.length){var f=Math.max(i,o);var d=f<e.length?e.charAt(f):null;var h=computeErrorPosition();throw new this.SyntaxError(cleanupExpected(a),d,f,h.line,h.column)}return c},toSource:function(){return this._source}};e.SyntaxError=function(e,n,t,i,r){function buildMessage(e,n){var t,i;switch(e.length){case 0:t="end of input";break;case 1:t=e[0];break;default:t=e.slice(0,e.length-1).join(", ")+" or "+e[e.length-1]}i=n?quote(n):"end of input";return"Expected "+t+" but "+i+" found."}this.name="SyntaxError";this.expected=e;this.found=n;this.message=buildMessage(e,n);this.offset=t;this.line=i;this.column=r};e.SyntaxError.prototype=Error.prototype;return e}()},323:function(e,n,t){"use strict";var i=t(473);var r=t(470).Buffer;function write(e,n,t,i){for(var r=0,o=t.length;r<o;r++){var a=t[r];switch(a.type){case"string":n+=e.write(a.value,n,"utf8");break;case"binary":n+=writeBinary(a,e,n,i);break;case"integer":n+=writeInteger(a,e,n,i);break;case"float":n+=writeFloat(a,e,n,i);break}}return n}function build(e,n){var t=size_of(e,n);var i=r.alloc(t);write(i,0,e,n);return i}function size_of_segment(e,n){if(typeof e.size==="string"){return n[e.size]*e.unit/8}if(e.type==="string"){return r.byteLength(e.value,"utf8")}if(e.type==="binary"&&e.size===true){var t=n[e.name];return t.length}return e.size*e.unit/8}function size_of(e,n){var t=0;for(var i=0,r=e.length;i<r;i++){t+=size_of_segment(e[i],n)}return t}function writeBinary(e,n,t,i){var r=i[e.name];var o=size_of_segment(e,i);r.copy(n,t,0,o);return o}function writeInteger(e,n,t,i){var r=e.name?i[e.name]:e.value;var o=size_of_segment(e,i);return write_int(n,r,t,o,e.bigendian)}function write_int(e,n,t,r,o){switch(r){case 1:e.writeUInt8(n,t);break;case 2:o?e.writeUInt16BE(n,t):e.writeUInt16LE(n,t);break;case 4:o?e.writeUInt32BE(n,t):e.writeUInt32LE(n,t);break;case 8:o?i.writeUInt64BE(e,n,t):i.writeUInt64LE(e,n,t);break;default:throw new Error("integer size * unit must be 8, 16, 32 or 64")}return r}function writeFloat(e,n,t,i){var r=e.name?i[e.name]:e.value;var o=size_of_segment(e,i);return write_float(n,r,t,o,e.bigendian)}function write_float(e,n,t,i,r){if(i===4){r?e.writeFloatBE(n,t):e.writeFloatLE(n,t)}else if(i===8){r?e.writeDoubleBE(n,t):e.writeDoubleLE(n,t)}else{throw new Error("float size * unit must be 32 or 64")}return i}var o=t(627).parse;e.exports.write=write;e.exports.build=build;e.exports.write_int=write_int;e.exports.write_float=write_float;e.exports.builder=function(e){e=arguments.length>1?[].join.call(arguments,","):e;var n=o(e);return function(e){return build(n,e)}}},348:function(e,n,t){"use strict";e.exports=function(e,n,i){var r=t(302);var o=t(186).RangeError;var a=t(186).AggregateError;var c=r.isArray;var f={};function SomePromiseArray(e){this.constructor$(e);this._howMany=0;this._unwrap=false;this._initialized=false}r.inherits(SomePromiseArray,n);SomePromiseArray.prototype._init=function(){if(!this._initialized){return}if(this._howMany===0){this._resolve([]);return}this._init$(undefined,-5);var e=c(this._values);if(!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()){this._reject(this._getRangeError(this.length()))}};SomePromiseArray.prototype.init=function(){this._initialized=true;this._init()};SomePromiseArray.prototype.setUnwrap=function(){this._unwrap=true};SomePromiseArray.prototype.howMany=function(){return this._howMany};SomePromiseArray.prototype.setHowMany=function(e){this._howMany=e};SomePromiseArray.prototype._promiseFulfilled=function(e){this._addFulfilled(e);if(this._fulfilled()===this.howMany()){this._values.length=this.howMany();if(this.howMany()===1&&this._unwrap){this._resolve(this._values[0])}else{this._resolve(this._values)}return true}return false};SomePromiseArray.prototype._promiseRejected=function(e){this._addRejected(e);return this._checkOutcome()};SomePromiseArray.prototype._promiseCancelled=function(){if(this._values instanceof e||this._values==null){return this._cancel()}this._addRejected(f);return this._checkOutcome()};SomePromiseArray.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){var e=new a;for(var n=this.length();n<this._values.length;++n){if(this._values[n]!==f){e.push(this._values[n])}}if(e.length>0){this._reject(e)}else{this._cancel()}return true}return false};SomePromiseArray.prototype._fulfilled=function(){return this._totalResolved};SomePromiseArray.prototype._rejected=function(){return this._values.length-this.length()};SomePromiseArray.prototype._addRejected=function(e){this._values.push(e)};SomePromiseArray.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e};SomePromiseArray.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()};SomePromiseArray.prototype._getRangeError=function(e){var n="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new o(n)};SomePromiseArray.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function some(e,n){if((n|0)!==n||n<0){return i("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n")}var t=new SomePromiseArray(e);var r=t.promise();t.setHowMany(n);t.init();return r}e.some=function(e,n){return some(e,n)};e.prototype.some=function(e){return some(this,e)};e._SomePromiseArray=SomePromiseArray}},357:function(e){e.exports=require("assert")},377:function(e,n,t){"use strict";const i=t(268);const r=t(812);const o=t(561);const a=t(747);e.exports=class app{constructor(e){this.amqp=this.init_amqp(e["#amqp"]);this.server=this.init_server(e.server)}init_amqp(e){return new r(e)}init_server(e){return new o(this,e)}channel(e){const{amqp:n}=this;return n.get(e)}run(){const{amqp:e,server:n}=this;e.run();n.run()}}},384:function(e){e.exports={name:"capsrvd",version:"2.0.8",revision:1,description:"",main:"capsrvd.js",scripts:{test:'echo "Error: no test specified" && exit 1'},author:"ikonopistsev",license:"ISC",dependencies:{amqplib:"^0.5.5"}}},386:function(e){if(typeof Object.create==="function"){e.exports=function inherits(e,n){if(n){e.super_=n;e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}}else{e.exports=function inherits(e,n){if(n){e.super_=n;var t=function(){};t.prototype=n.prototype;e.prototype=new t;e.prototype.constructor=e}}}},393:function(e,n,t){"use strict";e.exports=function(e,n,i,r){var o=e._async;var a=t(186).Warning;var c=t(302);var f=t(846);var d=c.canAttachTrace;var h;var s;var p=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/;var u=/\((?:timers\.js):\d+:\d+\)/;var v=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/;var l=null;var g=null;var y=false;var m;var w=!!(c.env("BLUEBIRD_DEBUG")!=0&&(false||c.env("BLUEBIRD_DEBUG")||c.env("NODE_ENV")==="development"));var _=!!(c.env("BLUEBIRD_WARNINGS")!=0&&(w||c.env("BLUEBIRD_WARNINGS")));var E=!!(c.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(w||c.env("BLUEBIRD_LONG_STACK_TRACES")));var b=c.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(_||!!c.env("BLUEBIRD_W_FORGOTTEN_RETURN"));var I;(function(){var n=[];function unhandledRejectionCheck(){for(var e=0;e<n.length;++e){n[e]._notifyUnhandledRejection()}unhandledRejectionClear()}function unhandledRejectionClear(){n.length=0}I=function(e){n.push(e);setTimeout(unhandledRejectionCheck,1)};f.defineProperty(e,"_unhandledRejectionCheck",{value:unhandledRejectionCheck});f.defineProperty(e,"_unhandledRejectionClear",{value:unhandledRejectionClear})})();e.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=e._bitField&~1048576|524288};e.prototype._ensurePossibleRejectionHandled=function(){if((this._bitField&524288)!==0)return;this._setRejectionIsUnhandled();I(this)};e.prototype._notifyUnhandledRejectionIsHandled=function(){fireRejectionEvent("rejectionHandled",h,undefined,this)};e.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456};e.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0};e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified();fireRejectionEvent("unhandledRejection",s,e,this)}};e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144};e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&~262144};e.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0};e.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576};e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&~1048576;if(this._isUnhandledRejectionNotified()){this._unsetUnhandledRejectionIsNotified();this._notifyUnhandledRejectionIsHandled()}};e.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0};e.prototype._warn=function(e,n,t){return warn(e,n,t||this)};e.onPossiblyUnhandledRejection=function(n){var t=e._getContext();s=c.contextBind(t,n)};e.onUnhandledRejectionHandled=function(n){var t=e._getContext();h=c.contextBind(t,n)};var C=function(){};e.longStackTraces=function(){if(o.haveItemsQueued()&&!R.longStackTraces){throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n")}if(!R.longStackTraces&&longStackTracesIsSupported()){var t=e.prototype._captureStackTrace;var i=e.prototype._attachExtraTrace;var r=e.prototype._dereferenceTrace;R.longStackTraces=true;C=function(){if(o.haveItemsQueued()&&!R.longStackTraces){throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n")}e.prototype._captureStackTrace=t;e.prototype._attachExtraTrace=i;e.prototype._dereferenceTrace=r;n.deactivateLongStackTraces();R.longStackTraces=false};e.prototype._captureStackTrace=longStackTracesCaptureStackTrace;e.prototype._attachExtraTrace=longStackTracesAttachExtraTrace;e.prototype._dereferenceTrace=longStackTracesDereferenceTrace;n.activateLongStackTraces()}};e.hasLongStackTraces=function(){return R.longStackTraces&&longStackTracesIsSupported()};var k={unhandledrejection:{before:function(){var e=c.global.onunhandledrejection;c.global.onunhandledrejection=null;return e},after:function(e){c.global.onunhandledrejection=e}},rejectionhandled:{before:function(){var e=c.global.onrejectionhandled;c.global.onrejectionhandled=null;return e},after:function(e){c.global.onrejectionhandled=e}}};var x=function(){var e=function(e,n){if(e){var t;try{t=e.before();return!c.global.dispatchEvent(n)}finally{e.after(t)}}else{return!c.global.dispatchEvent(n)}};try{if(typeof CustomEvent==="function"){var n=new CustomEvent("CustomEvent");c.global.dispatchEvent(n);return function(n,t){n=n.toLowerCase();var i={detail:t,cancelable:true};var r=new CustomEvent(n,i);f.defineProperty(r,"promise",{value:t.promise});f.defineProperty(r,"reason",{value:t.reason});return e(k[n],r)}}else if(typeof Event==="function"){var n=new Event("CustomEvent");c.global.dispatchEvent(n);return function(n,t){n=n.toLowerCase();var i=new Event(n,{cancelable:true});i.detail=t;f.defineProperty(i,"promise",{value:t.promise});f.defineProperty(i,"reason",{value:t.reason});return e(k[n],i)}}else{var n=document.createEvent("CustomEvent");n.initCustomEvent("testingtheevent",false,true,{});c.global.dispatchEvent(n);return function(n,t){n=n.toLowerCase();var i=document.createEvent("CustomEvent");i.initCustomEvent(n,false,true,t);return e(k[n],i)}}}catch(e){}return function(){return false}}();var B=function(){if(c.isNode){return function(){return process.emit.apply(process,arguments)}}else{if(!c.global){return function(){return false}}return function(e){var n="on"+e.toLowerCase();var t=c.global[n];if(!t)return false;t.apply(c.global,[].slice.call(arguments,1));return true}}}();function generatePromiseLifecycleEventObject(e,n){return{promise:n}}var U={promiseCreated:generatePromiseLifecycleEventObject,promiseFulfilled:generatePromiseLifecycleEventObject,promiseRejected:generatePromiseLifecycleEventObject,promiseResolved:generatePromiseLifecycleEventObject,promiseCancelled:generatePromiseLifecycleEventObject,promiseChained:function(e,n,t){return{promise:n,child:t}},warning:function(e,n){return{warning:n}},unhandledRejection:function(e,n,t){return{reason:n,promise:t}},rejectionHandled:generatePromiseLifecycleEventObject};var T=function(e){var n=false;try{n=B.apply(null,arguments)}catch(e){o.throwLater(e);n=true}var t=false;try{t=x(e,U[e].apply(null,arguments))}catch(e){o.throwLater(e);t=true}return t||n};e.config=function(n){n=Object(n);if("longStackTraces"in n){if(n.longStackTraces){e.longStackTraces()}else if(!n.longStackTraces&&e.hasLongStackTraces()){C()}}if("warnings"in n){var t=n.warnings;R.warnings=!!t;b=R.warnings;if(c.isObject(t)){if("wForgottenReturn"in t){b=!!t.wForgottenReturn}}}if("cancellation"in n&&n.cancellation&&!R.cancellation){if(o.haveItemsQueued()){throw new Error("cannot enable cancellation after promises are in use")}e.prototype._clearCancellationData=cancellationClearCancellationData;e.prototype._propagateFrom=cancellationPropagateFrom;e.prototype._onCancel=cancellationOnCancel;e.prototype._setOnCancel=cancellationSetOnCancel;e.prototype._attachCancellationCallback=cancellationAttachCancellationCallback;e.prototype._execute=cancellationExecute;S=cancellationPropagateFrom;R.cancellation=true}if("monitoring"in n){if(n.monitoring&&!R.monitoring){R.monitoring=true;e.prototype._fireEvent=T}else if(!n.monitoring&&R.monitoring){R.monitoring=false;e.prototype._fireEvent=defaultFireEvent}}if("asyncHooks"in n&&c.nodeSupportsAsyncResource){var a=R.asyncHooks;var f=!!n.asyncHooks;if(a!==f){R.asyncHooks=f;if(f){i()}else{r()}}}return e};function defaultFireEvent(){return false}e.prototype._fireEvent=defaultFireEvent;e.prototype._execute=function(e,n,t){try{e(n,t)}catch(e){return e}};e.prototype._onCancel=function(){};e.prototype._setOnCancel=function(e){};e.prototype._attachCancellationCallback=function(e){};e.prototype._captureStackTrace=function(){};e.prototype._attachExtraTrace=function(){};e.prototype._dereferenceTrace=function(){};e.prototype._clearCancellationData=function(){};e.prototype._propagateFrom=function(e,n){};function cancellationExecute(e,n,t){var i=this;try{e(n,t,function(e){if(typeof e!=="function"){throw new TypeError("onCancel must be a function, got: "+c.toString(e))}i._attachCancellationCallback(e)})}catch(e){return e}}function cancellationAttachCancellationCallback(e){if(!this._isCancellable())return this;var n=this._onCancel();if(n!==undefined){if(c.isArray(n)){n.push(e)}else{this._setOnCancel([n,e])}}else{this._setOnCancel(e)}}function cancellationOnCancel(){return this._onCancelField}function cancellationSetOnCancel(e){this._onCancelField=e}function cancellationClearCancellationData(){this._cancellationParent=undefined;this._onCancelField=undefined}function cancellationPropagateFrom(e,n){if((n&1)!==0){this._cancellationParent=e;var t=e._branchesRemainingToCancel;if(t===undefined){t=0}e._branchesRemainingToCancel=t+1}if((n&2)!==0&&e._isBound()){this._setBoundTo(e._boundTo)}}function bindingPropagateFrom(e,n){if((n&2)!==0&&e._isBound()){this._setBoundTo(e._boundTo)}}var S=bindingPropagateFrom;function boundValueFunction(){var n=this._boundTo;if(n!==undefined){if(n instanceof e){if(n.isFulfilled()){return n.value()}else{return undefined}}}return n}function longStackTracesCaptureStackTrace(){this._trace=new CapturedTrace(this._peekContext())}function longStackTracesAttachExtraTrace(e,n){if(d(e)){var t=this._trace;if(t!==undefined){if(n)t=t._parent}if(t!==undefined){t.attachExtraTrace(e)}else if(!e.__stackCleaned__){var i=parseStackAndMessage(e);c.notEnumerableProp(e,"stack",i.message+"\n"+i.stack.join("\n"));c.notEnumerableProp(e,"__stackCleaned__",true)}}}function longStackTracesDereferenceTrace(){this._trace=undefined}function checkForgottenReturns(e,n,t,i,r){if(e===undefined&&n!==null&&b){if(r!==undefined&&r._returnedNonUndefined())return;if((i._bitField&65535)===0)return;if(t)t=t+" ";var o="";var a="";if(n._trace){var c=n._trace.stack.split("\n");var f=cleanStack(c);for(var d=f.length-1;d>=0;--d){var h=f[d];if(!u.test(h)){var s=h.match(v);if(s){o="at "+s[1]+":"+s[2]+":"+s[3]+" "}break}}if(f.length>0){var p=f[0];for(var d=0;d<c.length;++d){if(c[d]===p){if(d>0){a="\n"+c[d-1]}break}}}}var l="a promise was created in a "+t+"handler "+o+"but was not returned from it, "+"see http://goo.gl/rRqMUw"+a;i._warn(l,true,n)}}function deprecated(e,n){var t=e+" is deprecated and will be removed in a future version.";if(n)t+=" Use "+n+" instead.";return warn(t)}function warn(n,t,i){if(!R.warnings)return;var r=new a(n);var o;if(t){i._attachExtraTrace(r)}else if(R.longStackTraces&&(o=e._peekContext())){o.attachExtraTrace(r)}else{var c=parseStackAndMessage(r);r.stack=c.message+"\n"+c.stack.join("\n")}if(!T("warning",r)){formatAndLogError(r,"",true)}}function reconstructStack(e,n){for(var t=0;t<n.length-1;++t){n[t].push("From previous event:");n[t]=n[t].join("\n")}if(t<n.length){n[t]=n[t].join("\n")}return e+"\n"+n.join("\n")}function removeDuplicateOrEmptyJumps(e){for(var n=0;n<e.length;++n){if(e[n].length===0||n+1<e.length&&e[n][0]===e[n+1][0]){e.splice(n,1);n--}}}function removeCommonRoots(e){var n=e[0];for(var t=1;t<e.length;++t){var i=e[t];var r=n.length-1;var o=n[r];var a=-1;for(var c=i.length-1;c>=0;--c){if(i[c]===o){a=c;break}}for(var c=a;c>=0;--c){var f=i[c];if(n[r]===f){n.pop();r--}else{break}}n=i}}function cleanStack(e){var n=[];for(var t=0;t<e.length;++t){var i=e[t];var r="    (No stack trace)"===i||l.test(i);var o=r&&O(i);if(r&&!o){if(y&&i.charAt(0)!==" "){i="    "+i}n.push(i)}}return n}function stackFramesAsArray(e){var n=e.stack.replace(/\s+$/g,"").split("\n");for(var t=0;t<n.length;++t){var i=n[t];if("    (No stack trace)"===i||l.test(i)){break}}if(t>0&&e.name!="SyntaxError"){n=n.slice(t)}return n}function parseStackAndMessage(e){var n=e.stack;var t=e.toString();n=typeof n==="string"&&n.length>0?stackFramesAsArray(e):["    (No stack trace)"];return{message:t,stack:e.name=="SyntaxError"?n:cleanStack(n)}}function formatAndLogError(e,n,t){if(typeof console!=="undefined"){var i;if(c.isObject(e)){var r=e.stack;i=n+g(r,e)}else{i=n+String(e)}if(typeof m==="function"){m(i,t)}else if(typeof console.log==="function"||typeof console.log==="object"){console.log(i)}}}function fireRejectionEvent(e,n,t,i){var r=false;try{if(typeof n==="function"){r=true;if(e==="rejectionHandled"){n(i)}else{n(t,i)}}}catch(e){o.throwLater(e)}if(e==="unhandledRejection"){if(!T(e,t,i)&&!r){formatAndLogError(t,"Unhandled rejection ")}}else{T(e,i)}}function formatNonError(e){var n;if(typeof e==="function"){n="[function "+(e.name||"anonymous")+"]"}else{n=e&&typeof e.toString==="function"?e.toString():c.toString(e);var t=/\[object [a-zA-Z0-9$_]+\]/;if(t.test(n)){try{var i=JSON.stringify(e);n=i}catch(e){}}if(n.length===0){n="(empty array)"}}return"(<"+snip(n)+">, no stack trace)"}function snip(e){var n=41;if(e.length<n){return e}return e.substr(0,n-3)+"..."}function longStackTracesIsSupported(){return typeof F==="function"}var O=function(){return false};var A=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function parseLineInfo(e){var n=e.match(A);if(n){return{fileName:n[1],line:parseInt(n[2],10)}}}function setBounds(e,n){if(!longStackTracesIsSupported())return;var t=(e.stack||"").split("\n");var i=(n.stack||"").split("\n");var r=-1;var o=-1;var a;var c;for(var f=0;f<t.length;++f){var d=parseLineInfo(t[f]);if(d){a=d.fileName;r=d.line;break}}for(var f=0;f<i.length;++f){var d=parseLineInfo(i[f]);if(d){c=d.fileName;o=d.line;break}}if(r<0||o<0||!a||!c||a!==c||r>=o){return}O=function(e){if(p.test(e))return true;var n=parseLineInfo(e);if(n){if(n.fileName===a&&(r<=n.line&&n.line<=o)){return true}}return false}}function CapturedTrace(e){this._parent=e;this._promisesCreated=0;var n=this._length=1+(e===undefined?0:e._length);F(this,CapturedTrace);if(n>32)this.uncycle()}c.inherits(CapturedTrace,Error);n.CapturedTrace=CapturedTrace;CapturedTrace.prototype.uncycle=function(){var e=this._length;if(e<2)return;var n=[];var t={};for(var i=0,r=this;r!==undefined;++i){n.push(r);r=r._parent}e=this._length=i;for(var i=e-1;i>=0;--i){var o=n[i].stack;if(t[o]===undefined){t[o]=i}}for(var i=0;i<e;++i){var a=n[i].stack;var c=t[a];if(c!==undefined&&c!==i){if(c>0){n[c-1]._parent=undefined;n[c-1]._length=1}n[i]._parent=undefined;n[i]._length=1;var f=i>0?n[i-1]:this;if(c<e-1){f._parent=n[c+1];f._parent.uncycle();f._length=f._parent._length+1}else{f._parent=undefined;f._length=1}var d=f._length+1;for(var h=i-2;h>=0;--h){n[h]._length=d;d++}return}}};CapturedTrace.prototype.attachExtraTrace=function(e){if(e.__stackCleaned__)return;this.uncycle();var n=parseStackAndMessage(e);var t=n.message;var i=[n.stack];var r=this;while(r!==undefined){i.push(cleanStack(r.stack.split("\n")));r=r._parent}removeCommonRoots(i);removeDuplicateOrEmptyJumps(i);c.notEnumerableProp(e,"stack",reconstructStack(t,i));c.notEnumerableProp(e,"__stackCleaned__",true)};var F=function stackDetection(){var e=/^\s*at\s*/;var n=function(e,n){if(typeof e==="string")return e;if(n.name!==undefined&&n.message!==undefined){return n.toString()}return formatNonError(n)};if(typeof Error.stackTraceLimit==="number"&&typeof Error.captureStackTrace==="function"){Error.stackTraceLimit+=6;l=e;g=n;var t=Error.captureStackTrace;O=function(e){return p.test(e)};return function(e,n){Error.stackTraceLimit+=6;t(e,n);Error.stackTraceLimit-=6}}var i=new Error;if(typeof i.stack==="string"&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0){l=/@/;g=n;y=true;return function captureStackTrace(e){e.stack=(new Error).stack}}var r;try{throw new Error}catch(e){r="stack"in e}if(!("stack"in i)&&r&&typeof Error.stackTraceLimit==="number"){l=e;g=n;return function captureStackTrace(e){Error.stackTraceLimit+=6;try{throw new Error}catch(n){e.stack=n.stack}Error.stackTraceLimit-=6}}g=function(e,n){if(typeof e==="string")return e;if((typeof n==="object"||typeof n==="function")&&n.name!==undefined&&n.message!==undefined){return n.toString()}return formatNonError(n)};return null}([]);if(typeof console!=="undefined"&&typeof console.warn!=="undefined"){m=function(e){console.warn(e)};if(c.isNode&&process.stderr.isTTY){m=function(e,n){var t=n?"[33m":"[31m";console.warn(t+e+"[0m\n")}}else if(!c.isNode&&typeof(new Error).stack==="string"){m=function(e,n){console.warn("%c"+e,n?"color: darkorange":"color: red")}}}var R={warnings:_,longStackTraces:false,cancellation:false,monitoring:false,asyncHooks:false};if(E)e.longStackTraces();return{asyncHooks:function(){return R.asyncHooks},longStackTraces:function(){return R.longStackTraces},warnings:function(){return R.warnings},cancellation:function(){return R.cancellation},monitoring:function(){return R.monitoring},propagateFromFunction:function(){return S},boundValueFunction:function(){return boundValueFunction},checkForgottenReturns:checkForgottenReturns,setBounds:setBounds,warn:warn,deprecated:deprecated,CapturedTrace:CapturedTrace,fireDomEvent:x,fireGlobalEvent:B}}},394:function(e,n,t){e.exports=t(62)},413:function(e){e.exports=require("stream")},432:function(e,n,t){"use strict";var i=t(866);var r=t(669).format;var o=t(669).inherits;var a=t(591).HEARTBEAT;e.exports.closeMessage=function(e){var n=e.fields.replyCode;return r('%d (%s) with message "%s"',n,i.constant_strs[n],e.fields.replyText)};e.exports.methodName=function(e){return i.info(e).name};e.exports.inspect=function(e,n){if(e===a){return"<Heartbeat>"}else if(!e.id){return r("<Content channel:%d size:%d>",e.channel,e.size)}else{var t=i.info(e.id);return r("<%s channel:%d%s>",t.name,e.channel,n?" "+JSON.stringify(e.fields,undefined,2):"")}}},439:function(e,n,t){"use strict";e.exports=function(e,n,i){var r=t(302);var o=e.CancellationError;var a=r.errorObj;var c=t(906)(i);function PassThroughHandlerContext(e,n,t){this.promise=e;this.type=n;this.handler=t;this.called=false;this.cancelPromise=null}PassThroughHandlerContext.prototype.isFinallyHandler=function(){return this.type===0};function FinallyHandlerCancelReaction(e){this.finallyHandler=e}FinallyHandlerCancelReaction.prototype._resultCancelled=function(){checkCancel(this.finallyHandler)};function checkCancel(e,n){if(e.cancelPromise!=null){if(arguments.length>1){e.cancelPromise._reject(n)}else{e.cancelPromise._cancel()}e.cancelPromise=null;return true}return false}function succeed(){return finallyHandler.call(this,this.promise._target()._settledValue())}function fail(e){if(checkCancel(this,e))return;a.e=e;return a}function finallyHandler(t){var r=this.promise;var c=this.handler;if(!this.called){this.called=true;var f=this.isFinallyHandler()?c.call(r._boundValue()):c.call(r._boundValue(),t);if(f===i){return f}else if(f!==undefined){r._setReturnedNonUndefined();var d=n(f,r);if(d instanceof e){if(this.cancelPromise!=null){if(d._isCancelled()){var h=new o("late cancellation observer");r._attachExtraTrace(h);a.e=h;return a}else if(d.isPending()){d._attachCancellationCallback(new FinallyHandlerCancelReaction(this))}}return d._then(succeed,fail,undefined,this,undefined)}}}if(r.isRejected()){checkCancel(this);a.e=t;return a}else{checkCancel(this);return t}}e.prototype._passThrough=function(e,n,t,i){if(typeof e!=="function")return this.then();return this._then(t,i,undefined,new PassThroughHandlerContext(this,n,e),undefined)};e.prototype.lastly=e.prototype["finally"]=function(e){return this._passThrough(e,0,finallyHandler,finallyHandler)};e.prototype.tap=function(e){return this._passThrough(e,1,finallyHandler)};e.prototype.tapCatch=function(n){var t=arguments.length;if(t===1){return this._passThrough(n,1,undefined,finallyHandler)}else{var i=new Array(t-1),o=0,a;for(a=0;a<t-1;++a){var f=arguments[a];if(r.isObject(f)){i[o++]=f}else{return e.reject(new TypeError("tapCatch statement predicate: "+"expecting an object but got "+r.classString(f)))}}i.length=o;var d=arguments[a];return this._passThrough(c(i,d,this),1,undefined,finallyHandler)}};return PassThroughHandlerContext}},452:function(e,n){function isArray(e){if(Array.isArray){return Array.isArray(e)}return objectToString(e)==="[object Array]"}n.isArray=isArray;function isBoolean(e){return typeof e==="boolean"}n.isBoolean=isBoolean;function isNull(e){return e===null}n.isNull=isNull;function isNullOrUndefined(e){return e==null}n.isNullOrUndefined=isNullOrUndefined;function isNumber(e){return typeof e==="number"}n.isNumber=isNumber;function isString(e){return typeof e==="string"}n.isString=isString;function isSymbol(e){return typeof e==="symbol"}n.isSymbol=isSymbol;function isUndefined(e){return e===void 0}n.isUndefined=isUndefined;function isRegExp(e){return objectToString(e)==="[object RegExp]"}n.isRegExp=isRegExp;function isObject(e){return typeof e==="object"&&e!==null}n.isObject=isObject;function isDate(e){return objectToString(e)==="[object Date]"}n.isDate=isDate;function isError(e){return objectToString(e)==="[object Error]"||e instanceof Error}n.isError=isError;function isFunction(e){return typeof e==="function"}n.isFunction=isFunction;function isPrimitive(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}n.isPrimitive=isPrimitive;n.isBuffer=Buffer.isBuffer;function objectToString(e){return Object.prototype.toString.call(e)}},454:function(e,n,t){"use strict";var i=t(302);var r=i.maybeWrapAsError;var o=t(186);var a=o.OperationalError;var c=t(846);function isUntypedError(e){return e instanceof Error&&c.getPrototypeOf(e)===Error.prototype}var f=/^(?:name|message|stack|cause)$/;function wrapAsOperationalError(e){var n;if(isUntypedError(e)){n=new a(e);n.name=e.name;n.message=e.message;n.stack=e.stack;var t=c.keys(e);for(var r=0;r<t.length;++r){var o=t[r];if(!f.test(o)){n[o]=e[o]}}return n}i.markAsOriginatingFromRejection(e);return e}function nodebackForPromise(e,n){return function(t,i){if(e===null)return;if(t){var o=wrapAsOperationalError(r(t));e._attachExtraTrace(o);e._reject(o)}else if(!n){e._fulfill(i)}else{var a=arguments.length;var c=new Array(Math.max(a-1,0));for(var f=1;f<a;++f){c[f-1]=arguments[f]}e._fulfill(c)}e=null}}e.exports=nodebackForPromise},459:function(e,n,t){"use strict";var i=t(866);var r=i.constants;var o=t(591);var a=o.HEARTBEAT;var c=t(154).Mux;var f=t(470).Buffer;var d=t(413).Duplex||t(394);var h=t(614).EventEmitter;var s=t(684).Heart;var p=t(432).methodName;var u=t(432).closeMessage;var v=t(432).inspect;var l=t(694).BitSet;var g=t(669).inherits;var y=t(669).format;var m=t(413).PassThrough||t(816);var w=t(564).IllegalOperationError;var _=t(564).stackCapture;var E=1024;var b=2048;function Connection(e){h.call(this);var n=this.stream=wrapStream(e);this.muxer=new c(n);this.rest=f.alloc(0);this.frameMax=r.FRAME_MIN_SIZE;this.sentSinceLastCheck=false;this.recvSinceLastCheck=false;this.expectSocketClose=false;this.freeChannels=new l;this.channels=[{channel:{accept:channel0(this)},buffer:e}]}g(Connection,h);var I=Connection.prototype;function mainAccept(e){var n=this.channels[e.channel];if(n){return n.channel.accept(e)}else this.closeWithError(y("Frame on unknown channel %d",e.channel),r.CHANNEL_ERROR,new Error(y("Frame on unknown channel: %s",v(e,false))))}function channel0(e){return function(n){if(n===a)   ;else if(n.id===i.ConnectionClose){e.sendMethod(0,i.ConnectionCloseOk,{});var t=y("Connection closed: %s",u(n));var o=_(t);var c=new Error(t);c.code=n.fields.replyCode;if(isFatalError(c)){e.emit("error",c)}e.toClosed(o,c)}else if(n.id===i.ConnectionBlocked){e.emit("blocked",n.fields.reason)}else if(n.id===i.ConnectionUnblocked){e.emit("unblocked")}else{e.closeWithError(y("Unexpected frame on channel 0"),r.UNEXPECTED_FRAME,new Error(y("Unexpected frame on channel 0: %s",v(n,false))))}}}I.sendProtocolHeader=function(){this.sendBytes(o.PROTOCOL_HEADER)};I.open=function(e,n){var t=this;var r=n||function(){};var o=Object.create(e);function wait(e){t.step(function(n,t){if(n!==null)bail(n);else if(t.channel!==0){bail(new Error(y("Frame on channel != 0 during handshake: %s",v(t,false))))}else e(t)})}function expect(e,n){wait(function(t){if(t.id===e)n(t);else{bail(new Error(y("Expected %s; got %s",p(e),v(t,false))))}})}function bail(e){r(e)}function send(e){try{t.sendMethod(0,e,o)}catch(e){bail(e)}}function negotiate(e,n){if(e===0||n===0){return Math.max(e,n)}else{return Math.min(e,n)}}function onStart(n){var r=n.fields.mechanisms.toString().split(" ");if(r.indexOf(e.mechanism)<0){bail(new Error(y("SASL mechanism %s is not provided by the server",e.mechanism)));return}t.serverProperties=n.fields.serverProperties;send(i.ConnectionStartOk);wait(afterStartOk)}function afterStartOk(n){switch(n.id){case i.ConnectionSecure:bail(new Error("Wasn't expecting to have to go through secure"));break;case i.ConnectionClose:bail(new Error(y("Handshake terminated by server: %s",u(n))));break;case i.ConnectionTune:var t=n.fields;o.frameMax=negotiate(t.frameMax,e.frameMax);o.channelMax=negotiate(t.channelMax,e.channelMax);o.heartbeat=negotiate(t.heartbeat,e.heartbeat);send(i.ConnectionTuneOk);send(i.ConnectionOpen);expect(i.ConnectionOpenOk,onOpenOk);break;default:bail(new Error(y("Expected connection.secure, connection.close, "+"or connection.tune during handshake; got %s",v(n,false))));break}}function onOpenOk(e){t.channelMax=o.channelMax||65535;t.frameMax=o.frameMax||4294967295;t.heartbeat=o.heartbeat;t.heartbeater=t.startHeartbeater();t.accept=mainAccept;succeed(e)}function endWhileOpening(e){bail(e||new Error("Socket closed abruptly "+"during opening handshake"))}this.stream.on("end",endWhileOpening);this.stream.on("error",endWhileOpening);function succeed(e){t.stream.removeListener("end",endWhileOpening);t.stream.removeListener("error",endWhileOpening);t.stream.on("error",t.onSocketError.bind(t));t.stream.on("end",t.onSocketError.bind(t,new Error("Unexpected close")));t.on("frameError",t.onSocketError.bind(t));t.acceptLoop();r(null,e)}this.sendProtocolHeader();expect(i.ConnectionStart,onStart)};I.close=function(e){var n=e&&function(){e(null)};this.closeBecause("Cheers, thanks",r.REPLY_SUCCESS,n)};I.closeBecause=function(e,n,t){this.sendMethod(0,i.ConnectionClose,{replyText:e,replyCode:n,methodId:0,classId:0});var r=_("closeBecause called: "+e);this.toClosing(r,t)};I.closeWithError=function(e,n,t){this.emit("error",t);this.closeBecause(e,n)};I.onSocketError=function(e){if(!this.expectSocketClose){this.expectSocketClose=true;this.emit("error",e);var n=_("Socket error");this.toClosed(n,e)}};function invalidOp(e,n){return function(){throw new w(e,n)}}function invalidateSend(e,n,t){e.sendMethod=e.sendContent=e.sendMessage=invalidOp(n,t)}I.toClosing=function(e,n){var t=this.sendMethod.bind(this);this.accept=function(e){if(e.id===i.ConnectionCloseOk){if(n)n();var r=_("ConnectionCloseOk received");this.toClosed(r,undefined)}else if(e.id===i.ConnectionClose){t(0,i.ConnectionCloseOk,{})}};invalidateSend(this,"Connection closing",e)};I._closeChannels=function(e){for(var n=1;n<this.channels.length;n++){var t=this.channels[n];if(t!==null){t.channel.toClosed(e)}}};I.toClosed=function(e,n){this._closeChannels(e);var t=y("Connection closed (%s)",n?n.toString():"by client");invalidateSend(this,t,e);this.accept=invalidOp(t,e);this.close=function(n){n&&n(new w(t,e))};if(this.heartbeater)this.heartbeater.clear();this.expectSocketClose=true;this.stream.end();this.emit("close",n)};I.startHeartbeater=function(){if(this.heartbeat===0)return null;else{var e=this;var n=new s(this.heartbeat,this.checkSend.bind(this),this.checkRecv.bind(this));n.on("timeout",function(){var n=new Error("Heartbeat timeout");e.emit("error",n);var t=_("Heartbeat timeout");e.toClosed(t,n)});n.on("beat",function(){e.sendHeartbeat()});return n}};I.freshChannel=function(e,n){var t=this.freeChannels.nextClearBit(1);if(t<0||t>this.channelMax)throw new Error("No channels left to allocate");this.freeChannels.set(t);var i=n&&n.highWaterMark||E;var r=new m({objectMode:true,highWaterMark:i});this.channels[t]={channel:e,buffer:r};r.on("drain",function(){e.onBufferDrain()});this.muxer.pipeFrom(r);return t};I.releaseChannel=function(e){this.freeChannels.clear(e);var n=this.channels[e].buffer;n.end();this.channels[e]=null};I.acceptLoop=function(){var e=this;function go(){try{var n;while(n=e.recvFrame())e.accept(n)}catch(n){e.emit("frameError",n)}}e.stream.on("readable",go);go()};I.step=function(e){var n=this;function recv(){var t;try{t=n.recvFrame()}catch(n){e(n,null);return}if(t)e(null,t);else n.stream.once("readable",recv)}recv()};I.checkSend=function(){var e=this.sentSinceLastCheck;this.sentSinceLastCheck=false;return e};I.checkRecv=function(){var e=this.recvSinceLastCheck;this.recvSinceLastCheck=false;return e};I.sendBytes=function(e){this.sentSinceLastCheck=true;this.stream.write(e)};I.sendHeartbeat=function(){return this.sendBytes(o.HEARTBEAT_BUF)};var C=i.encodeMethod;var k=i.encodeProperties;I.sendMethod=function(e,n,t){var i=C(n,e,t);this.sentSinceLastCheck=true;var r=this.channels[e].buffer;return r.write(i)};I.sendMessage=function(e,n,t,i,r,o){if(!f.isBuffer(o))throw new TypeError("content is not a buffer");var a=C(n,e,t);var c=k(i,e,o.length,r);var d=this.channels[e].buffer;this.sentSinceLastCheck=true;var h=a.length+c.length;var s=o.length>0?o.length+x:0;var p=h+s;if(p<b){var u=f.alloc(p);var v=a.copy(u,0);v+=c.copy(u,v);if(s>0)B(e,o).copy(u,v);return d.write(u)}else{if(h<b){var l=f.alloc(h);var v=a.copy(l,0);c.copy(l,v);d.write(l)}else{d.write(a);d.write(c)}return this.sendContent(e,o)}};var x=i.FRAME_OVERHEAD;var B=o.makeBodyFrame;I.sendContent=function(e,n){if(!f.isBuffer(n)){throw new TypeError(y("Expected buffer; got %s",n))}var t=true;var i=this.channels[e].buffer;var r=this.frameMax-x;for(var o=0;o<n.length;o+=r){var a=o+r;var c=a>n.length?n.slice(o):n.slice(o,a);var d=B(e,c);t=i.write(d)}this.sentSinceLastCheck=true;return t};var U=o.parseFrame;var T=o.decodeFrame;I.recvFrame=function(){var e=U(this.rest,this.frameMax);if(!e){var n=this.stream.read();if(n===null){return false}else{this.recvSinceLastCheck=true;this.rest=f.concat([this.rest,n]);return this.recvFrame()}}else{this.rest=e.rest;return T(e)}};function wrapStream(e){if(e instanceof d)return e;else{var n=new d;n.wrap(e);n._write=function(n,t,i){return e.write(n,t,i)};return n}}function isFatalError(e){switch(e&&e.code){case i.constants.CONNECTION_FORCED:case i.constants.REPLY_SUCCESS:return false;default:return true}}e.exports.Connection=Connection;e.exports.isFatalError=isFatalError},470:function(e,n,t){var i=t(293);var r=i.Buffer;function copyProps(e,n){for(var t in e){n[t]=e[t]}}if(r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow){e.exports=i}else{copyProps(i,n);n.Buffer=SafeBuffer}function SafeBuffer(e,n,t){return r(e,n,t)}copyProps(r,SafeBuffer);SafeBuffer.from=function(e,n,t){if(typeof e==="number"){throw new TypeError("Argument must not be a number")}return r(e,n,t)};SafeBuffer.alloc=function(e,n,t){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}var i=r(e);if(n!==undefined){if(typeof t==="string"){i.fill(n,t)}else{i.fill(n)}}else{i.fill(0)}return i};SafeBuffer.allocUnsafe=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return r(e)};SafeBuffer.allocUnsafeSlow=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return i.SlowBuffer(e)}},473:function(e){"use strict";var n=(1<<16)*(1<<16);var t=1/n;var i=9007199254740991;function isContiguousInt(e){return e<=i&&e>=-i}function assertContiguousInt(e){if(!isContiguousInt(e)){throw new TypeError("number cannot be represented as a contiguous integer")}}e.exports.isContiguousInt=isContiguousInt;e.exports.assertContiguousInt=assertContiguousInt;["UInt","Int"].forEach(function(n){var t=n+"8";e.exports["read"+t]=Buffer.prototype["read"+t].call;e.exports["write"+t]=Buffer.prototype["write"+t].call;["16","32"].forEach(function(t){["LE","BE"].forEach(function(i){var r=n+t+i;var o=Buffer.prototype["read"+r];e.exports["read"+r]=function(e,n){return o.call(e,n)};var a=Buffer.prototype["write"+r];e.exports["write"+r]=function(e,n,t){return a.call(e,n,t)}})})});function check_value(e,n,t){e=+e;if(typeof e!="number"||e<n||e>t||Math.floor(e)!==e){throw new TypeError('"value" argument is out of bounds')}return e}function check_bounds(e,n,t){if(n<0||n+t>e.length){throw new RangeError("Index out of range")}}function readUInt24BE(e,n){return e.readUInt8(n)<<16|e.readUInt16BE(n+1)}e.exports.readUInt24BE=readUInt24BE;function writeUInt24BE(e,n,t){n=check_value(n,0,16777215);check_bounds(e,t,3);e.writeUInt8(n>>>16,t);e.writeUInt16BE(n&65535,t+1)}e.exports.writeUInt24BE=writeUInt24BE;function readUInt40BE(e,t){return(e.readUInt8(t)||0)*n+e.readUInt32BE(t+1)}e.exports.readUInt40BE=readUInt40BE;function writeUInt40BE(e,n,i){n=check_value(n,0,0xffffffffff);check_bounds(e,i,5);e.writeUInt8(Math.floor(n*t),i);e.writeInt32BE(n&-1,i+1)}e.exports.writeUInt40BE=writeUInt40BE;function readUInt48BE(e,t){return e.readUInt16BE(t)*n+e.readUInt32BE(t+2)}e.exports.readUInt48BE=readUInt48BE;function writeUInt48BE(e,n,i){n=check_value(n,0,0xffffffffffff);check_bounds(e,i,6);e.writeUInt16BE(Math.floor(n*t),i);e.writeInt32BE(n&-1,i+2)}e.exports.writeUInt48BE=writeUInt48BE;function readUInt56BE(e,t){return((e.readUInt8(t)||0)<<16|e.readUInt16BE(t+1))*n+e.readUInt32BE(t+3)}e.exports.readUInt56BE=readUInt56BE;function writeUInt56BE(e,n,i){n=check_value(n,0,72057594037927940);check_bounds(e,i,7);if(n<72057594037927940){var r=Math.floor(n*t);e.writeUInt8(r>>>16,i);e.writeUInt16BE(r&65535,i+1);e.writeInt32BE(n&-1,i+3)}else{e[i]=255;e[i+1]=255;e[i+2]=255;e[i+3]=255;e[i+4]=255;e[i+5]=255;e[i+6]=255}}e.exports.writeUInt56BE=writeUInt56BE;function readUInt64BE(e,t){return e.readUInt32BE(t)*n+e.readUInt32BE(t+4)}e.exports.readUInt64BE=readUInt64BE;function writeUInt64BE(e,n,i){n=check_value(n,0,0x10000000000000000);check_bounds(e,i,8);if(n<0x10000000000000000){e.writeUInt32BE(Math.floor(n*t),i);e.writeInt32BE(n&-1,i+4)}else{e[i]=255;e[i+1]=255;e[i+2]=255;e[i+3]=255;e[i+4]=255;e[i+5]=255;e[i+6]=255;e[i+7]=255}}e.exports.writeUInt64BE=writeUInt64BE;function readUInt24LE(e,n){return e.readUInt8(n+2)<<16|e.readUInt16LE(n)}e.exports.readUInt24LE=readUInt24LE;function writeUInt24LE(e,n,t){n=check_value(n,0,16777215);check_bounds(e,t,3);e.writeUInt16LE(n&65535,t);e.writeUInt8(n>>>16,t+2)}e.exports.writeUInt24LE=writeUInt24LE;function readUInt40LE(e,t){return(e.readUInt8(t+4)||0)*n+e.readUInt32LE(t)}e.exports.readUInt40LE=readUInt40LE;function writeUInt40LE(e,n,i){n=check_value(n,0,0xffffffffff);check_bounds(e,i,5);e.writeInt32LE(n&-1,i);e.writeUInt8(Math.floor(n*t),i+4)}e.exports.writeUInt40LE=writeUInt40LE;function readUInt48LE(e,t){return e.readUInt16LE(t+4)*n+e.readUInt32LE(t)}e.exports.readUInt48LE=readUInt48LE;function writeUInt48LE(e,n,i){n=check_value(n,0,0xffffffffffff);check_bounds(e,i,6);e.writeInt32LE(n&-1,i);e.writeUInt16LE(Math.floor(n*t),i+4)}e.exports.writeUInt48LE=writeUInt48LE;function readUInt56LE(e,t){return((e.readUInt8(t+6)||0)<<16|e.readUInt16LE(t+4))*n+e.readUInt32LE(t)}e.exports.readUInt56LE=readUInt56LE;function writeUInt56LE(e,n,i){n=check_value(n,0,72057594037927940);check_bounds(e,i,7);if(n<72057594037927940){e.writeInt32LE(n&-1,i);var r=Math.floor(n*t);e.writeUInt16LE(r&65535,i+4);e.writeUInt8(r>>>16,i+6)}else{e[i]=255;e[i+1]=255;e[i+2]=255;e[i+3]=255;e[i+4]=255;e[i+5]=255;e[i+6]=255}}e.exports.writeUInt56LE=writeUInt56LE;function readUInt64LE(e,t){return e.readUInt32LE(t+4)*n+e.readUInt32LE(t)}e.exports.readUInt64LE=readUInt64LE;function writeUInt64LE(e,n,i){n=check_value(n,0,0x10000000000000000);check_bounds(e,i,8);if(n<0x10000000000000000){e.writeInt32LE(n&-1,i);e.writeUInt32LE(Math.floor(n*t),i+4)}else{e[i]=255;e[i+1]=255;e[i+2]=255;e[i+3]=255;e[i+4]=255;e[i+5]=255;e[i+6]=255;e[i+7]=255}}e.exports.writeUInt64LE=writeUInt64LE;function readInt24BE(e,n){return(e.readInt8(n)<<16)+e.readUInt16BE(n+1)}e.exports.readInt24BE=readInt24BE;function writeInt24BE(e,n,t){n=check_value(n,-8388608,8388607);check_bounds(e,t,3);e.writeInt8(n>>16,t);e.writeUInt16BE(n&65535,t+1)}e.exports.writeInt24BE=writeInt24BE;function readInt40BE(e,t){return(e.readInt8(t)||0)*n+e.readUInt32BE(t+1)}e.exports.readInt40BE=readInt40BE;function writeInt40BE(e,n,i){n=check_value(n,-549755813888,549755813887);check_bounds(e,i,5);e.writeInt8(Math.floor(n*t),i);e.writeInt32BE(n&-1,i+1)}e.exports.writeInt40BE=writeInt40BE;function readInt48BE(e,t){return e.readInt16BE(t)*n+e.readUInt32BE(t+2)}e.exports.readInt48BE=readInt48BE;function writeInt48BE(e,n,i){n=check_value(n,-0x800000000000,0x7fffffffffff);check_bounds(e,i,6);e.writeInt16BE(Math.floor(n*t),i);e.writeInt32BE(n&-1,i+2)}e.exports.writeInt48BE=writeInt48BE;function readInt56BE(e,t){return(((e.readInt8(t)||0)<<16)+e.readUInt16BE(t+1))*n+e.readUInt32BE(t+3)}e.exports.readInt56BE=readInt56BE;function writeInt56BE(e,n,i){n=check_value(n,-0x800000000000000,0x80000000000000);check_bounds(e,i,7);if(n<0x80000000000000){var r=Math.floor(n*t);e.writeInt8(r>>16,i);e.writeUInt16BE(r&65535,i+1);e.writeInt32BE(n&-1,i+3)}else{e[i]=127;e[i+1]=255;e[i+2]=255;e[i+3]=255;e[i+4]=255;e[i+5]=255;e[i+6]=255}}e.exports.writeInt56BE=writeInt56BE;function readInt64BE(e,t){return e.readInt32BE(t)*n+e.readUInt32BE(t+4)}e.exports.readInt64BE=readInt64BE;function writeInt64BE(e,n,i){n=check_value(n,-0x800000000000000000,0x8000000000000000);check_bounds(e,i,8);if(n<0x8000000000000000){e.writeInt32BE(Math.floor(n*t),i);e.writeInt32BE(n&-1,i+4)}else{e[i]=127;e[i+1]=255;e[i+2]=255;e[i+3]=255;e[i+4]=255;e[i+5]=255;e[i+6]=255;e[i+7]=255}}e.exports.writeInt64BE=writeInt64BE;function readInt24LE(e,n){return(e.readInt8(n+2)<<16)+e.readUInt16LE(n)}e.exports.readInt24LE=readInt24LE;function writeInt24LE(e,n,t){n=check_value(n,-8388608,8388607);check_bounds(e,t,3);e.writeUInt16LE(n&65535,t);e.writeInt8(n>>16,t+2)}e.exports.writeInt24LE=writeInt24LE;function readInt40LE(e,t){return(e.readInt8(t+4)||0)*n+e.readUInt32LE(t)}e.exports.readInt40LE=readInt40LE;function writeInt40LE(e,n,i){n=check_value(n,-549755813888,549755813887);check_bounds(e,i,5);e.writeInt32LE(n&-1,i);e.writeInt8(Math.floor(n*t),i+4)}e.exports.writeInt40LE=writeInt40LE;function readInt48LE(e,t){return e.readInt16LE(t+4)*n+e.readUInt32LE(t)}e.exports.readInt48LE=readInt48LE;function writeInt48LE(e,n,i){n=check_value(n,-0x800000000000,0x7fffffffffff);check_bounds(e,i,6);e.writeInt32LE(n&-1,i);e.writeInt16LE(Math.floor(n*t),i+4)}e.exports.writeInt48LE=writeInt48LE;function readInt56LE(e,t){return(((e.readInt8(t+6)||0)<<16)+e.readUInt16LE(t+4))*n+e.readUInt32LE(t)}e.exports.readInt56LE=readInt56LE;function writeInt56LE(e,n,i){n=check_value(n,-0x80000000000000,0x80000000000000);check_bounds(e,i,7);if(n<0x80000000000000){e.writeInt32LE(n&-1,i);var r=Math.floor(n*t);e.writeUInt16LE(r&65535,i+4);e.writeInt8(r>>16,i+6)}else{e[i]=255;e[i+1]=255;e[i+2]=255;e[i+3]=255;e[i+4]=255;e[i+5]=255;e[i+6]=127}}e.exports.writeInt56LE=writeInt56LE;function readInt64LE(e,t){return e.readInt32LE(t+4)*n+e.readUInt32LE(t)}e.exports.readInt64LE=readInt64LE;function writeInt64LE(e,n,i){n=check_value(n,-0x8000000000000000,0x8000000000000000);check_bounds(e,i,8);if(n<0x8000000000000000){e.writeInt32LE(n&-1,i);e.writeInt32LE(Math.floor(n*t),i+4)}else{e[i]=255;e[i+1]=255;e[i+2]=255;e[i+3]=255;e[i+4]=255;e[i+5]=255;e[i+6]=255;e[i+7]=127}}e.exports.writeInt64LE=writeInt64LE},484:function(e,n,t){"use strict";e.exports=function(e,n){var i={};var r=t(302);var o=t(454);var a=r.withAppended;var c=r.maybeWrapAsError;var f=r.canEvaluate;var d=t(186).TypeError;var h="Async";var s={__isPromisified__:true};var p=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"];var u=new RegExp("^(?:"+p.join("|")+")$");var v=function(e){return r.isIdentifier(e)&&e.charAt(0)!=="_"&&e!=="constructor"};function propsFilter(e){return!u.test(e)}function isPromisified(e){try{return e.__isPromisified__===true}catch(e){return false}}function hasPromisified(e,n,t){var i=r.getDataPropertyOrDefault(e,n+t,s);return i?isPromisified(i):false}function checkValid(e,n,t){for(var i=0;i<e.length;i+=2){var r=e[i];if(t.test(r)){var o=r.replace(t,"");for(var a=0;a<e.length;a+=2){if(e[a]===o){throw new d("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}}}}function promisifiableMethods(e,n,t,i){var o=r.inheritedDataKeys(e);var a=[];for(var c=0;c<o.length;++c){var f=o[c];var d=e[f];var h=i===v?true:v(f,d,e);if(typeof d==="function"&&!isPromisified(d)&&!hasPromisified(e,f,n)&&i(f,d,e,h)){a.push(f,d)}}checkValid(a,n,t);return a}var l=function(e){return e.replace(/([$])/,"\\$")};var g;if(true){var y=function(e){var n=[e];var t=Math.max(0,e-1-3);for(var i=e-1;i>=t;--i){n.push(i)}for(var i=e+1;i<=3;++i){n.push(i)}return n};var m=function(e){return r.filledRange(e,"_arg","")};var w=function(e){return r.filledRange(Math.max(e,3),"_arg","")};var _=function(e){if(typeof e.length==="number"){return Math.max(Math.min(e.length,1023+1),0)}return 0};g=function(t,f,d,h,s,p){var u=Math.max(0,_(h)-1);var v=y(u);var l=typeof t==="string"||f===i;function generateCallForArgumentCount(e){var n=m(e).join(", ");var t=e>0?", ":"";var i;if(l){i="ret = callback.call(this, {{args}}, nodeback); break;\n"}else{i=f===undefined?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n"}return i.replace("{{args}}",n).replace(", ",t)}function generateArgumentSwitchCase(){var e="";for(var n=0;n<v.length;++n){e+="case "+v[n]+":"+generateCallForArgumentCount(v[n])}e+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = nodeback;                                              \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",l?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n");return e}var g=typeof t==="string"?"this != null ? this['"+t+"'] : fn":"fn";var E="'use strict';                                                \n        var ret = function (Parameters) {                                    \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._captureStackTrace();                                    \n            var nodeback = nodebackForPromise(promise, "+p+");   \n            var ret;                                                         \n            var callback = tryCatch([GetFunctionCode]);                      \n            switch(len) {                                                    \n                [CodeForSwitchCase]                                          \n            }                                                                \n            if (ret === errorObj) {                                          \n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n            }                                                                \n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \n            return promise;                                                  \n        };                                                                   \n        notEnumerableProp(ret, '__isPromisified__', true);                   \n        return ret;                                                          \n    ".replace("[CodeForSwitchCase]",generateArgumentSwitchCase()).replace("[GetFunctionCode]",g);E=E.replace("Parameters",w(u));return new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",E)(e,h,f,a,c,o,r.tryCatch,r.errorObj,r.notEnumerableProp,n)}}function makeNodePromisifiedClosure(t,f,d,h,s,p){var u=function(){return this}();var v=t;if(typeof v==="string"){t=h}function promisified(){var r=f;if(f===i)r=this;var d=new e(n);d._captureStackTrace();var h=typeof v==="string"&&this!==u?this[v]:t;var s=o(d,p);try{h.apply(r,a(arguments,s))}catch(e){d._rejectCallback(c(e),true,true)}if(!d._isFateSealed())d._setAsyncGuaranteed();return d}r.notEnumerableProp(promisified,"__isPromisified__",true);return promisified}var E=f?g:makeNodePromisifiedClosure;function promisifyAll(e,n,t,o,a){var c=new RegExp(l(n)+"$");var f=promisifiableMethods(e,n,c,t);for(var d=0,h=f.length;d<h;d+=2){var s=f[d];var p=f[d+1];var u=s+n;if(o===E){e[u]=E(s,i,s,p,n,a)}else{var v=o(p,function(){return E(s,i,s,p,n,a)});r.notEnumerableProp(v,"__isPromisified__",true);e[u]=v}}r.toFastProperties(e);return e}function promisify(e,n,t){return E(e,n,undefined,e,null,t)}e.promisify=function(e,n){if(typeof e!=="function"){throw new d("expecting a function but got "+r.classString(e))}if(isPromisified(e)){return e}n=Object(n);var t=n.context===undefined?i:n.context;var o=!!n.multiArgs;var a=promisify(e,t,o);r.copyDescriptors(e,a,propsFilter);return a};e.promisifyAll=function(e,n){if(typeof e!=="function"&&typeof e!=="object"){throw new d("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n")}n=Object(n);var t=!!n.multiArgs;var i=n.suffix;if(typeof i!=="string")i=h;var o=n.filter;if(typeof o!=="function")o=v;var a=n.promisifier;if(typeof a!=="function")a=E;if(!r.isIdentifier(i)){throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n")}var c=r.inheritedDataKeys(e);for(var f=0;f<c.length;++f){var s=e[c[f]];if(c[f]!=="constructor"&&r.isClass(s)){promisifyAll(s.prototype,i,o,a,t);promisifyAll(s,i,o,a,t)}}return promisifyAll(e,i,o,a,t)}}},494:function(e,n,t){"use strict";e.exports=function(e,n,i,r){var o=t(302);var a=o.isObject;var c=t(846);var f;if(typeof Map==="function")f=Map;var d=function(){var e=0;var n=0;function extractEntry(t,i){this[e]=t;this[e+n]=i;e++}return function mapToEntries(t){n=t.size;e=0;var i=new Array(t.size*2);t.forEach(extractEntry,i);return i}}();var h=function(e){var n=new f;var t=e.length/2|0;for(var i=0;i<t;++i){var r=e[t+i];var o=e[i];n.set(r,o)}return n};function PropertiesPromiseArray(e){var n=false;var t;if(f!==undefined&&e instanceof f){t=d(e);n=true}else{var i=c.keys(e);var r=i.length;t=new Array(r*2);for(var o=0;o<r;++o){var a=i[o];t[o]=e[a];t[o+r]=a}}this.constructor$(t);this._isMap=n;this._init$(undefined,n?-6:-3)}o.inherits(PropertiesPromiseArray,n);PropertiesPromiseArray.prototype._init=function(){};PropertiesPromiseArray.prototype._promiseFulfilled=function(e,n){this._values[n]=e;var t=++this._totalResolved;if(t>=this._length){var i;if(this._isMap){i=h(this._values)}else{i={};var r=this.length();for(var o=0,a=this.length();o<a;++o){i[this._values[o+r]]=this._values[o]}}this._resolve(i);return true}return false};PropertiesPromiseArray.prototype.shouldCopyValues=function(){return false};PropertiesPromiseArray.prototype.getActualLength=function(e){return e>>1};function props(n){var t;var o=i(n);if(!a(o)){return r("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}else if(o instanceof e){t=o._then(e.props,undefined,undefined,undefined,undefined)}else{t=new PropertiesPromiseArray(o).promise()}if(o instanceof e){t._propagateFrom(o,2)}return t}e.prototype.props=function(){return props(this)};e.props=function(e){return props(e)}}},501:function(e,n,t){"use strict";var i=t(866);var r=t(262);var o=t(669).inherits;var a=t(614).EventEmitter;var c=t(629).BaseChannel;var f=t(629).acceptMessage;var d=t(927);function ChannelModel(e){if(!(this instanceof ChannelModel))return new ChannelModel(e);a.call(this);this.connection=e;var n=this;["error","close","blocked","unblocked"].forEach(function(t){e.on(t,n.emit.bind(n,t))})}o(ChannelModel,a);e.exports.ChannelModel=ChannelModel;var h=ChannelModel.prototype;h.close=function(){return r.fromCallback(this.connection.close.bind(this.connection))};function Channel(e){c.call(this,e);this.on("delivery",this.handleDelivery.bind(this));this.on("cancel",this.handleCancel.bind(this))}o(Channel,c);e.exports.Channel=Channel;h.createChannel=function(){var e=new Channel(this.connection);return e.open().then(function(n){return e})};var s=Channel.prototype;s.rpc=function(e,n,t){var i=this;return r.fromCallback(function(r){return i._rpc(e,n,t,r)}).then(function(e){return e.fields})};s.open=function(){return r.try(this.allocate.bind(this)).then(function(e){return e.rpc(i.ChannelOpen,{outOfBand:""},i.ChannelOpenOk)})};s.close=function(){var e=this;return r.fromCallback(function(n){return e.closeBecause("Goodbye",i.constants.REPLY_SUCCESS,n)})};s.assertQueue=function(e,n){return this.rpc(i.QueueDeclare,d.assertQueue(e,n),i.QueueDeclareOk)};s.checkQueue=function(e){return this.rpc(i.QueueDeclare,d.checkQueue(e),i.QueueDeclareOk)};s.deleteQueue=function(e,n){return this.rpc(i.QueueDelete,d.deleteQueue(e,n),i.QueueDeleteOk)};s.purgeQueue=function(e){return this.rpc(i.QueuePurge,d.purgeQueue(e),i.QueuePurgeOk)};s.bindQueue=function(e,n,t,r){return this.rpc(i.QueueBind,d.bindQueue(e,n,t,r),i.QueueBindOk)};s.unbindQueue=function(e,n,t,r){return this.rpc(i.QueueUnbind,d.unbindQueue(e,n,t,r),i.QueueUnbindOk)};s.assertExchange=function(e,n,t){return this.rpc(i.ExchangeDeclare,d.assertExchange(e,n,t),i.ExchangeDeclareOk).then(function(n){return{exchange:e}})};s.checkExchange=function(e){return this.rpc(i.ExchangeDeclare,d.checkExchange(e),i.ExchangeDeclareOk)};s.deleteExchange=function(e,n){return this.rpc(i.ExchangeDelete,d.deleteExchange(e,n),i.ExchangeDeleteOk)};s.bindExchange=function(e,n,t,r){return this.rpc(i.ExchangeBind,d.bindExchange(e,n,t,r),i.ExchangeBindOk)};s.unbindExchange=function(e,n,t,r){return this.rpc(i.ExchangeUnbind,d.unbindExchange(e,n,t,r),i.ExchangeUnbindOk)};s.publish=function(e,n,t,i){var r=d.publish(e,n,i);return this.sendMessage(r,r,t)};s.sendToQueue=function(e,n,t){return this.publish("",e,n,t)};s.consume=function(e,n,t){var o=this;var a=d.consume(e,t);return r.fromCallback(function(e){o._rpc(i.BasicConsume,a,i.BasicConsumeOk,e)}).then(function(e){o.registerConsumer(e.fields.consumerTag,n);return e.fields})};s.cancel=function(e){var n=this;return r.fromCallback(function(t){n._rpc(i.BasicCancel,d.cancel(e),i.BasicCancelOk,t)}).then(function(t){n.unregisterConsumer(e);return t.fields})};s.get=function(e,n){var t=this;var o=d.get(e,n);return r.fromCallback(function(e){return t.sendOrEnqueue(i.BasicGet,o,e)}).then(function(e){if(e.id===i.BasicGetEmpty){return false}else if(e.id===i.BasicGetOk){var n=e.fields;return new r(function(e){t.handleMessage=f(function(t){t.fields=n;e(t)})})}else{throw new Error("Unexpected response to BasicGet: "+inspect(e))}})};s.ack=function(e,n){this.sendImmediately(i.BasicAck,d.ack(e.fields.deliveryTag,n))};s.ackAll=function(){this.sendImmediately(i.BasicAck,d.ack(0,true))};s.nack=function(e,n,t){this.sendImmediately(i.BasicNack,d.nack(e.fields.deliveryTag,n,t))};s.nackAll=function(e){this.sendImmediately(i.BasicNack,d.nack(0,true,e))};s.reject=function(e,n){this.sendImmediately(i.BasicReject,d.reject(e.fields.deliveryTag,n))};s.prefetch=s.qos=function(e,n){return this.rpc(i.BasicQos,d.prefetch(e,n),i.BasicQosOk)};s.recover=function(){return this.rpc(i.BasicRecover,d.recover(),i.BasicRecoverOk)};function ConfirmChannel(e){Channel.call(this,e)}o(ConfirmChannel,Channel);e.exports.ConfirmChannel=ConfirmChannel;h.createConfirmChannel=function(){var e=new ConfirmChannel(this.connection);return e.open().then(function(n){return e.rpc(i.ConfirmSelect,{nowait:false},i.ConfirmSelectOk)}).then(function(){return e})};var p=ConfirmChannel.prototype;p.publish=function(e,n,t,i,r){this.pushConfirmCallback(r);return s.publish.call(this,e,n,t,i)};p.sendToQueue=function(e,n,t,i){return this.publish("",e,n,t,i)};p.waitForConfirms=function(){var e=[];var n=this.unconfirmed;n.forEach(function(t,i){if(t===null)   ;else{var o=new r(function(e,r){n[i]=function(n){if(t)t(n);if(n===null)e();else r(n)}});e.push(o)}});return r.all(e)}},521:function(e,n,t){e.exports=PassThrough;var i=t(774);var r=t(452);r.inherits=t(59);r.inherits(PassThrough,i);function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);i.call(this,e)}PassThrough.prototype._transform=function(e,n,t){t(null,e)}},524:function(e){var n=1e3;var t=n*60;var i=t*60;var r=i*24;var o=r*365.25;e.exports=function(e,n){n=n||{};var t=typeof e;if(t==="string"&&e.length>0){return parse(e)}else if(t==="number"&&isNaN(e)===false){return n.long?fmtLong(e):fmtShort(e)}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse(e){e=String(e);if(e.length>100){return}var a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!a){return}var c=parseFloat(a[1]);var f=(a[2]||"ms").toLowerCase();switch(f){case"years":case"year":case"yrs":case"yr":case"y":return c*o;case"days":case"day":case"d":return c*r;case"hours":case"hour":case"hrs":case"hr":case"h":return c*i;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return undefined}}function fmtShort(e){if(e>=r){return Math.round(e/r)+"d"}if(e>=i){return Math.round(e/i)+"h"}if(e>=t){return Math.round(e/t)+"m"}if(e>=n){return Math.round(e/n)+"s"}return e+"ms"}function fmtLong(e){return plural(e,r,"day")||plural(e,i,"hour")||plural(e,t,"minute")||plural(e,n,"second")||e+" ms"}function plural(e,n,t){if(e<n){return}if(e<n*1.5){return Math.floor(e/n)+" "+t}return Math.ceil(e/n)+" "+t+"s"}},536:function(e,n,t){"use strict";var i=t(91);var r=t(191);var o=t(459).Connection;var a=t(669).format;var c=t(29);function copyInto(e,n){var t=Object.keys(e);var i=t.length;while(i--){var r=t[i];n[r]=e[r]}return n}function clone(e){return copyInto(e,{})}var f={product:"amqplib",version:t(634).version,platform:a("Node.JS %s",process.version),information:"http://squaremo.github.io/amqp.node",capabilities:{publisher_confirms:true,exchange_exchange_bindings:true,"basic.nack":true,consumer_cancel_notify:true,"connection.blocked":true,authentication_failure_close:true}};function openFrames(e,n,t,i){if(!e)e="/";else e=r.unescape(e);var n=n||{};function intOrDefault(e,n){return e===undefined?n:parseInt(e)}var o=Object.create(f);return{clientProperties:copyInto(i,o),mechanism:t.mechanism,response:t.response(),locale:n.locale||"en_US",channelMax:intOrDefault(n.channelMax,0),frameMax:intOrDefault(n.frameMax,4096),heartbeat:intOrDefault(n.heartbeat,0),virtualHost:e,capabilities:"",insist:0}}function credentialsFromUrl(e){var n="guest",t="guest";if(e.username!=""||e.password!=""){n=e.username?unescape(e.username):"";t=e.password?unescape(e.password):""}return c.plain(n,t)}function connect(e,n,r){var a=clone(n||{});e=e||"amqp://localhost";var f=!!a.noDelay;var d=a.timeout;var h=!!a.keepAlive;var s=a.keepAliveDelay||0;var p=a.clientProperties||{};var u,v;if(typeof e==="object"){u=(e.protocol||"amqp")+":";a.host=e.hostname;a.port=e.port||(u==="amqp:"?5672:5671);var l,g;if(e.username==undefined&&e.password==undefined){l="guest";g="guest"}else{l=e.username||"";g=e.password||""}var y={locale:e.locale,channelMax:e.channelMax,frameMax:e.frameMax,heartbeat:e.heartbeat};v=openFrames(e.vhost,y,a.credentials||c.plain(l,g),p)}else{var m=i(e,true);u=m.protocol;a.host=m.hostname;a.port=parseInt(m.port)||(u==="amqp:"?5672:5671);var w=m.pathname?m.pathname.substr(1):null;v=openFrames(w,m.query,a.credentials||credentialsFromUrl(m),p)}var _=false;var E;function onConnect(){_=true;E.setNoDelay(f);if(h)E.setKeepAlive(h,s);var e=new o(E);e.open(v,function(n,t){if(d)E.setTimeout(0);if(n===null){r(null,e)}else r(n)})}if(u==="amqp:"){E=t(631).connect(a,onConnect)}else if(u==="amqps:"){E=t(16).connect(a,onConnect)}else{throw new Error("Expected amqp: or amqps: as the protocol; got "+u)}if(d){E.setTimeout(d,function(){E.end();E.destroy();r(new Error("connect ETIMEDOUT"))})}E.once("error",function(e){if(!_)r(e)})}e.exports.connect=connect;e.exports.credentialsFromUrl=credentialsFromUrl},539:function(e,n,t){"use strict";var i=Object.create;if(i){var r=i(null);var o=i(null);r[" size"]=o[" size"]=0}e.exports=function(e){var n=t(302);var i=n.canEvaluate;var a=n.isIdentifier;var c;var f;if(true){var d=function(e){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,e))(ensureMethod)};var h=function(e){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",e))};var s=function(e,n,t){var i=t[e];if(typeof i!=="function"){if(!a(e)){return null}i=n(e);t[e]=i;t[" size"]++;if(t[" size"]>512){var r=Object.keys(t);for(var o=0;o<256;++o)delete t[r[o]];t[" size"]=r.length-256}}return i};c=function(e){return s(e,d,r)};f=function(e){return s(e,h,o)}}function ensureMethod(t,i){var r;if(t!=null)r=t[i];if(typeof r!=="function"){var o="Object "+n.classString(t)+" has no method '"+n.toString(i)+"'";throw new e.TypeError(o)}return r}function caller(e){var n=this.pop();var t=ensureMethod(e,n);return t.apply(e,this)}e.prototype.call=function(e){var n=arguments.length;var t=new Array(Math.max(n-1,0));for(var r=1;r<n;++r){t[r-1]=arguments[r]}if(true){if(i){var o=c(e);if(o!==null){return this._then(o,undefined,undefined,t,undefined)}}}t.push(e);return this._then(caller,undefined,undefined,t,undefined)};function namedGetter(e){return e[this]}function indexedGetter(e){var n=+this;if(n<0)n=Math.max(0,n+e.length);return e[n]}e.prototype.get=function(e){var n=typeof e==="number";var t;if(!n){if(i){var r=f(e);t=r!==null?r:namedGetter}else{t=namedGetter}}else{t=indexedGetter}return this._then(t,undefined,undefined,e,undefined)}}},561:function(e,n,t){"use strict";const i=t(268);const r=t(231);e.exports=class server{constructor(e,n){let t=[];for(const i in n){if(i[0]=="#")continue;const{listen:o}=n[i];if(!o){throw{code:100500,error:"empty listen"}}const{amqp:a}=n[i];const c=e.channel(a);if(!c){const e=a+" not found";throw{code:100500,error:e}}const f=new r(c,i,o);c.set_server(f);t.push(f)}if(t.length<1)throw{code:100500,error:"no server"};this.pool=t}run(){const{pool:e}=this;for(const n of e)n.run()}}},564:function(e,n,t){var i=t(669).inherits;function trimStack(e,n){return e&&e.split("\n").slice(n).join("\n")}function IllegalOperationError(e,n){var t=new Error;this.message=e;this.stack=this.toString()+"\n"+trimStack(t.stack,2);this.stackAtStateChange=n}i(IllegalOperationError,Error);IllegalOperationError.prototype.name="IllegalOperationError";function stackCapture(e){var n=new Error;return"Stack capture: "+e+"\n"+trimStack(n.stack,2)}e.exports.IllegalOperationError=IllegalOperationError;e.exports.stackCapture=stackCapture},584:function(e,n,t){"use strict";e.exports=function(e,n,i,r){var o=t(302);var a=function(e){return e.then(function(n){return race(n,e)})};function race(t,c){var f=i(t);if(f instanceof e){return a(f)}else{t=o.asArray(t);if(t===null)return r("expecting an array or an iterable object but got "+o.classString(t))}var d=new e(n);if(c!==undefined){d._propagateFrom(c,3)}var h=d._fulfill;var s=d._reject;for(var p=0,u=t.length;p<u;++p){var v=t[p];if(v===undefined&&!(p in t)){continue}e.cast(v)._then(h,s,undefined,d,null)}return d}e.race=function(e){return race(e,undefined)};e.prototype.race=function(){return race(this,undefined)}}},587:function(e,n,t){"use strict";var i=t(302);var r;var o=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};var a=i.getNativePromise();if(i.isNode&&typeof MutationObserver==="undefined"){var c=global.setImmediate;var f=process.nextTick;r=i.isRecentNode?function(e){c.call(global,e)}:function(e){f.call(process,e)}}else if(typeof a==="function"&&typeof a.resolve==="function"){var d=a.resolve();r=function(e){d.then(e)}}else if(typeof MutationObserver!=="undefined"&&!(typeof window!=="undefined"&&window.navigator&&(window.navigator.standalone||window.cordova))&&"classList"in document.documentElement){r=function(){var e=document.createElement("div");var n={attributes:true};var t=false;var i=document.createElement("div");var r=new MutationObserver(function(){e.classList.toggle("foo");t=false});r.observe(i,n);var o=function(){if(t)return;t=true;i.classList.toggle("foo")};return function schedule(t){var i=new MutationObserver(function(){i.disconnect();t()});i.observe(e,n);o()}}()}else if(typeof setImmediate!=="undefined"){r=function(e){setImmediate(e)}}else if(typeof setTimeout!=="undefined"){r=function(e){setTimeout(e,0)}}else{r=o}e.exports=r},590:function(e,n,t){"use strict";e.exports=function(e,n,i,r,o,a){var c=t(302);var f=c.tryCatch;function ReductionPromiseArray(n,t,i,r){this.constructor$(n);var a=e._getContext();this._fn=c.contextBind(a,t);if(i!==undefined){i=e.resolve(i);i._attachCancellationCallback(this)}this._initialValue=i;this._currentCancellable=null;if(r===o){this._eachValues=Array(this._length)}else if(r===0){this._eachValues=null}else{this._eachValues=undefined}this._promise._captureStackTrace();this._init$(undefined,-5)}c.inherits(ReductionPromiseArray,n);ReductionPromiseArray.prototype._gotAccum=function(e){if(this._eachValues!==undefined&&this._eachValues!==null&&e!==o){this._eachValues.push(e)}};ReductionPromiseArray.prototype._eachComplete=function(e){if(this._eachValues!==null){this._eachValues.push(e)}return this._eachValues};ReductionPromiseArray.prototype._init=function(){};ReductionPromiseArray.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==undefined?this._eachValues:this._initialValue)};ReductionPromiseArray.prototype.shouldCopyValues=function(){return false};ReductionPromiseArray.prototype._resolve=function(e){this._promise._resolveCallback(e);this._values=null};ReductionPromiseArray.prototype._resultCancelled=function(n){if(n===this._initialValue)return this._cancel();if(this._isResolved())return;this._resultCancelled$();if(this._currentCancellable instanceof e){this._currentCancellable.cancel()}if(this._initialValue instanceof e){this._initialValue.cancel()}};ReductionPromiseArray.prototype._iterate=function(n){this._values=n;var t;var i;var r=n.length;if(this._initialValue!==undefined){t=this._initialValue;i=0}else{t=e.resolve(n[0]);i=1}this._currentCancellable=t;for(var o=i;o<r;++o){var a=n[o];if(a instanceof e){a.suppressUnhandledRejections()}}if(!t.isRejected()){for(;i<r;++i){var c={accum:null,value:n[i],index:i,length:r,array:this};t=t._then(gotAccum,undefined,undefined,c,undefined);if((i&127)===0){t._setNoAsyncGuarantee()}}}if(this._eachValues!==undefined){t=t._then(this._eachComplete,undefined,undefined,this,undefined)}t._then(completed,completed,undefined,t,this)};e.prototype.reduce=function(e,n){return reduce(this,e,n,null)};e.reduce=function(e,n,t,i){return reduce(e,n,t,i)};function completed(e,n){if(this.isFulfilled()){n._resolve(e)}else{n._reject(e)}}function reduce(e,n,t,r){if(typeof n!=="function"){return i("expecting a function but got "+c.classString(n))}var o=new ReductionPromiseArray(e,n,t,r);return o.promise()}function gotAccum(n){this.accum=n;this.array._gotAccum(n);var t=r(this.value,this.array._promise);if(t instanceof e){this.array._currentCancellable=t;return t._then(gotValue,undefined,undefined,this,undefined)}else{return gotValue.call(this,t)}}function gotValue(n){var t=this.array;var i=t._promise;var r=f(t._fn);i._pushContext();var o;if(t._eachValues!==undefined){o=r.call(i._boundValue(),n,this.index,this.length)}else{o=r.call(i._boundValue(),this.accum,n,this.index,this.length)}if(o instanceof e){t._currentCancellable=o}var c=i._popContext();a.checkForgottenReturns(o,c,t._eachValues!==undefined?"Promise.each":"Promise.reduce",i);return o}}},591:function(e,n,t){"use strict";var i=t(866);var r=i.constants;var o=i.decode;var a=t(470).Buffer;var c=t(5);e.exports.PROTOCOL_HEADER="AMQP"+String.fromCharCode(0,0,9,1);var f=r.FRAME_METHOD,d=r.FRAME_HEARTBEAT,h=r.FRAME_HEADER,s=r.FRAME_BODY,p=r.FRAME_END;var u=c.builder(s,"channel:16, size:32, payload:size/binary",p);e.exports.makeBodyFrame=function(e,n){return u({channel:e,size:n.length,payload:n})};var v=c.matcher("type:8","channel:16","size:32","rest/binary");function parseFrame(e,n){var t=v(e);if(t){var i=t.size,r=t.rest;if(i>n){throw new Error("Frame size exceeds frame max")}else if(r.length>i){if(r[i]!==p)throw new Error("Invalid frame");return{type:t.type,channel:t.channel,size:i,payload:r.slice(0,i),rest:r.slice(i+1)}}}return false}e.exports.parseFrame=parseFrame;var l=c.matcher("class:16","_weight:16","size:64","flagsAndfields/binary");var g=c.matcher("id:32, args/binary");var y={channel:0};e.exports.decodeFrame=function(e){var n=e.payload;switch(e.type){case f:var t=g(n);var i=t.id;var r=o(i,t.args);return{id:i,channel:e.channel,fields:r};case h:var a=l(n);var i=a["class"];var r=o(i,a.flagsAndfields);return{id:i,channel:e.channel,size:a.size,fields:r};case s:return{channel:e.channel,content:e.payload};case d:return y;default:throw new Error("Unknown frame type "+e.type)}};e.exports.HEARTBEAT_BUF=a.from([r.FRAME_HEARTBEAT,0,0,0,0,0,0,r.FRAME_END]);e.exports.HEARTBEAT=y},595:function(e,n,t){"use strict";e.exports=function(e,n,i,r,o,a){var c=t(186);var f=c.TypeError;var d=t(302);var h=d.errorObj;var s=d.tryCatch;var p=[];function promiseFromYieldHandler(n,t,i){for(var o=0;o<t.length;++o){i._pushContext();var a=s(t[o])(n);i._popContext();if(a===h){i._pushContext();var c=e.reject(h.e);i._popContext();return c}var f=r(a,i);if(f instanceof e)return f}return null}function PromiseSpawn(n,t,r,o){if(a.cancellation()){var c=new e(i);var f=this._finallyPromise=new e(i);this._promise=c.lastly(function(){return f});c._captureStackTrace();c._setOnCancel(this)}else{var d=this._promise=new e(i);d._captureStackTrace()}this._stack=o;this._generatorFunction=n;this._receiver=t;this._generator=undefined;this._yieldHandlers=typeof r==="function"?[r].concat(p):p;this._yieldedPromise=null;this._cancellationPhase=false}d.inherits(PromiseSpawn,o);PromiseSpawn.prototype._isResolved=function(){return this._promise===null};PromiseSpawn.prototype._cleanup=function(){this._promise=this._generator=null;if(a.cancellation()&&this._finallyPromise!==null){this._finallyPromise._fulfill();this._finallyPromise=null}};PromiseSpawn.prototype._promiseCancelled=function(){if(this._isResolved())return;var n=typeof this._generator["return"]!=="undefined";var t;if(!n){var i=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=i;this._promise._attachExtraTrace(i);this._promise._pushContext();t=s(this._generator["throw"]).call(this._generator,i);this._promise._popContext()}else{this._promise._pushContext();t=s(this._generator["return"]).call(this._generator,undefined);this._promise._popContext()}this._cancellationPhase=true;this._yieldedPromise=null;this._continue(t)};PromiseSpawn.prototype._promiseFulfilled=function(e){this._yieldedPromise=null;this._promise._pushContext();var n=s(this._generator.next).call(this._generator,e);this._promise._popContext();this._continue(n)};PromiseSpawn.prototype._promiseRejected=function(e){this._yieldedPromise=null;this._promise._attachExtraTrace(e);this._promise._pushContext();var n=s(this._generator["throw"]).call(this._generator,e);this._promise._popContext();this._continue(n)};PromiseSpawn.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var n=this._yieldedPromise;this._yieldedPromise=null;n.cancel()}};PromiseSpawn.prototype.promise=function(){return this._promise};PromiseSpawn.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver);this._receiver=this._generatorFunction=undefined;this._promiseFulfilled(undefined)};PromiseSpawn.prototype._continue=function(n){var t=this._promise;if(n===h){this._cleanup();if(this._cancellationPhase){return t.cancel()}else{return t._rejectCallback(n.e,false)}}var i=n.value;if(n.done===true){this._cleanup();if(this._cancellationPhase){return t.cancel()}else{return t._resolveCallback(i)}}else{var o=r(i,this._promise);if(!(o instanceof e)){o=promiseFromYieldHandler(o,this._yieldHandlers,this._promise);if(o===null){this._promiseRejected(new f("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(i))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));return}}o=o._target();var a=o._bitField;if((a&50397184)===0){this._yieldedPromise=o;o._proxy(this,null)}else if((a&33554432)!==0){e._async.invoke(this._promiseFulfilled,this,o._value())}else if((a&16777216)!==0){e._async.invoke(this._promiseRejected,this,o._reason())}else{this._promiseCancelled()}}};e.coroutine=function(e,n){if(typeof e!=="function"){throw new f("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n")}var t=Object(n).yieldHandler;var i=PromiseSpawn;var r=(new Error).stack;return function(){var n=e.apply(this,arguments);var o=new i(undefined,undefined,t,r);var a=o.promise();o._generator=n;o._promiseFulfilled(undefined);return a}};e.coroutine.addYieldHandler=function(e){if(typeof e!=="function"){throw new f("expecting a function but got "+d.classString(e))}p.push(e)};e.spawn=function(t){a.deprecated("Promise.spawn()","Promise.coroutine()");if(typeof t!=="function"){return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n")}var i=new PromiseSpawn(t,this);var r=i.promise();i._run(e.spawn);return r}}},614:function(e){e.exports=require("events")},622:function(e,n,t){const i=t(188);const r=t(268);const o=1e3;const a=1e4;e.exports=class connection{constructor(e,n){const t=n.url;if(!t){throw{code:100500,error:"empty url"}}this.deliveryMode=n.deliveryMode;this.conn_name="@"+e;this.url=t;this.delay=o;this.message_id=0;this.timestamp=null;this.server=null;this.prev_time=null;this.prev_conn_id=null}set_server(e){this.server=e}receive(){const{server:e}=this;if(e)e.receive()}reconnect_timeout(){this.delay=Math.min(this.delay+o,a);return this.delay}run(){const{conn_name:e,url:n}=this;i.connect(n,{noDelay:true}).then(n=>{this.delay=o;n.on("error",n=>{r.error(e,"conn",n.errno)});n.on("close",()=>{r.error(e,"conn","close");this.channel=null;setTimeout(()=>{this.run()},this.reconnect_timeout())});r.log("connect",e,"ok");n.createChannel().then(t=>{t.on("error",t=>{r.error(e,"ch",t);n.close()});t.on("close",()=>{r.error(e,"ch","close");n.close()});r.log(e,"ch","ok");this.channel=t;this.receive()}).catch(t=>{r.error(e,"ch",t);n.close()})}).catch(n=>{if(n.code){let t=n.code;if(n.syscall){t+=" "+n.syscall}if(n.address){t+=" "+n.address}r.error(e,t)}else{r.error(e,"connect error")}this.channel=null;setTimeout(()=>{this.run()},this.reconnect_timeout())})}pub_opt(e){let n={};const{timestamp:t}=e;if(t){n.timestamp=t}const{deliveryMode:i}=this;if(i){n.deliveryMode=i}n.messageId=(++this.message_id).toString();n.contentType="application/json";return n}check_timestamp(e,n){const{prev_time:t,prev_conn_id:i}=this;if(t){if(e<t){r.error("packet","prev",i,t,"curr",n,e)}}this.prev_time=e;this.prev_conn_id=n}publish(e){const{connId:n}=e;const{conn_name:t,channel:i}=this;if(i){const{data_arr:t,method:o,exchange:a,timestamp:c}=e;const f=this.pub_opt(e);let d=a?a:null;this.check_timestamp(c,n);for(const e of t){const t={method:o,payload:e[0]};const c=r.js(t);const d=e.length>1?e[1].toString():null;r.trace(e=>{e("publish",n,"me="+o,"ex="+a,"ro="+d,c,r.js(f))});i.publish(a,d,Buffer.from(c),f)}return true}else{r.error(t,n,"publish no channel")}return false}}},625:function(e,n,t){var i=t(867);var r=t(669);n=e.exports=t(189);n.init=init;n.log=log;n.formatArgs=formatArgs;n.save=save;n.load=load;n.useColors=useColors;n.colors=[6,2,3,4,5,1];n.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,n){var t=n.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,n){return n.toUpperCase()});var i=process.env[n];if(/^(yes|on|true|enabled)$/i.test(i))i=true;else if(/^(no|off|false|disabled)$/i.test(i))i=false;else if(i==="null")i=null;else i=Number(i);e[t]=i;return e},{});var o=parseInt(process.env.DEBUG_FD,10)||2;if(1!==o&&2!==o){r.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")()}var a=1===o?process.stdout:2===o?process.stderr:createWritableStdioStream(o);function useColors(){return"colors"in n.inspectOpts?Boolean(n.inspectOpts.colors):i.isatty(o)}n.formatters.o=function(e){this.inspectOpts.colors=this.useColors;return r.inspect(e,this.inspectOpts).split("\n").map(function(e){return e.trim()}).join(" ")};n.formatters.O=function(e){this.inspectOpts.colors=this.useColors;return r.inspect(e,this.inspectOpts)};function formatArgs(e){var t=this.namespace;var i=this.useColors;if(i){var r=this.color;var o="  [3"+r+";1m"+t+" "+"[0m";e[0]=o+e[0].split("\n").join("\n"+o);e.push("[3"+r+"m+"+n.humanize(this.diff)+"[0m")}else{e[0]=(new Date).toUTCString()+" "+t+" "+e[0]}}function log(){return a.write(r.format.apply(r,arguments)+"\n")}function save(e){if(null==e){delete process.env.DEBUG}else{process.env.DEBUG=e}}function load(){return process.env.DEBUG}function createWritableStdioStream(e){var n;var r=process.binding("tty_wrap");switch(r.guessHandleType(e)){case"TTY":n=new i.WriteStream(e);n._type="tty";if(n._handle&&n._handle.unref){n._handle.unref()}break;case"FILE":var o=t(747);n=new o.SyncWriteStream(e,{autoClose:false});n._type="fs";break;case"PIPE":case"TCP":var a=t(631);n=new a.Socket({fd:e,readable:false,writable:true});n.readable=false;n.read=null;n._type="pipe";if(n._handle&&n._handle.unref){n._handle.unref()}break;default:throw new Error("Implement me. Unknown stream file type!")}n.fd=e;n._isStdio=true;return n}function init(e){e.inspectOpts={};var t=Object.keys(n.inspectOpts);for(var i=0;i<t.length;i++){e.inspectOpts[t[i]]=n.inspectOpts[t[i]]}}n.enable(load())},627:function(e,n,t){"use strict";var i=t(289);var r=t(315);function parse_pattern(e){var n=r.parse(e);for(var t=0,o=n.length;t<o;t++){var a=n[t];if(a.string!=undefined){n[t]=i.string(a.string)}else if(a.value!=undefined){n[t]=i.value(a.value,a.size,a.specifiers)}else if(a.name!=undefined){n[t]=i.variable(a.name,a.size,a.specifiers)}else{throw"Unknown segment "+a}}return n}e.exports.parse=function(){var e=[].join.call(arguments,",");return parse_pattern(e)}},629:function(e,n,t){"use strict";var i=t(866);var r=t(432).closeMessage;var o=t(432).inspect;var a=t(432).methodName;var c=t(357);var f=t(669).inherits;var d=t(614).EventEmitter;var h=t(669).format;var s=t(564).IllegalOperationError;var p=t(564).stackCapture;var u=t(470).Buffer;function Channel(e){d.call(this);this.connection=e;this.reply=null;this.pending=[];this.lwm=1;this.unconfirmed=[];this.on("ack",this.handleConfirm.bind(this,function(e){if(e)e(null)}));this.on("nack",this.handleConfirm.bind(this,function(e){if(e)e(new Error("message nacked"))}));this.on("close",function(){var e;while(e=this.unconfirmed.shift()){if(e)e(new Error("channel closed"))}});this.handleMessage=acceptDeliveryOrReturn}f(Channel,d);e.exports.Channel=Channel;e.exports.acceptMessage=acceptMessage;var v=Channel.prototype;v.allocate=function(){this.ch=this.connection.freshChannel(this);return this};v.sendImmediately=function(e,n){return this.connection.sendMethod(this.ch,e,n)};v.sendOrEnqueue=function(e,n,t){if(!this.reply){c(this.pending.length===0);this.reply=t;this.sendImmediately(e,n)}else{this.pending.push({method:e,fields:n,reply:t})}};v.sendMessage=function(e,n,t){return this.connection.sendMessage(this.ch,i.BasicPublish,e,i.BasicProperties,n,t)};v._rpc=function(e,n,t,c){var f=this;function reply(n,d){if(n===null){if(d.id===t){return c(null,d)}else{var s=a(t);var p=new Error(h("Expected %s; got %s",s,o(d,false)));f.closeWithError(d.id,h("Expected %s; got %s",s,a(d.id)),i.constants.UNEXPECTED_FRAME,p);return c(p)}}else if(n instanceof Error)return c(n);else{var u=(n.fields.classId<<16)+n.fields.methodId;var p=e===u?h("Operation failed: %s; %s",a(e),r(n)):h("Channel closed by server: %s",r(n));var v=new Error(p);v.code=n.fields.replyCode;v.classId=n.fields.classId;v.methodId=n.fields.methodId;return c(v)}}this.sendOrEnqueue(e,n,reply)};function invalidOp(e,n){return function(){throw new s(e,n)}}function invalidateSend(e,n,t){e.sendImmediately=e.sendOrEnqueue=e.sendMessage=invalidOp(n,t)}v.toClosed=function(e){this._rejectPending();invalidateSend(this,"Channel closed",e);this.accept=invalidOp("Channel closed",e);this.connection.releaseChannel(this.ch);this.emit("close")};v.toClosing=function(e,n){var t=this.sendImmediately.bind(this);invalidateSend(this,"Channel closing",e);this.accept=function(e){if(e.id===i.ChannelCloseOk){if(n)n();var r=p("ChannelCloseOk frame received");this.toClosed(r)}else if(e.id===i.ChannelClose){t(i.ChannelCloseOk,{})}}};v._rejectPending=function(){function rej(e){e(new Error("Channel ended, no reply will be forthcoming"))}if(this.reply!==null)rej(this.reply);this.reply=null;var e;while(e=this.pending.shift())rej(e.reply);this.pending=null};v.closeBecause=function(e,n,t){this.sendImmediately(i.ChannelClose,{replyText:e,replyCode:n,methodId:0,classId:0});var r=p("closeBecause called: "+e);this.toClosing(r,t)};v.closeWithError=function(e,n,t,r){var o=this;this.closeBecause(n,t,function(){r.code=t;if(e){r.classId=i.info(e).classId;r.methodId=i.info(e).methodId}o.emit("error",r)})};v.acceptMessageFrame=function(e){try{this.handleMessage=this.handleMessage(e)}catch(n){if(typeof n==="string"){this.closeWithError(e.id,n,i.constants.UNEXPECTED_FRAME,new Error(n))}else if(n instanceof Error){this.closeWithError(e.id,"Error while processing message",i.constants.INTERNAL_ERROR,n)}else{this.closeWithError(e.id,"Internal error while processing message",i.constants.INTERNAL_ERROR,new Error(n.toString()))}}};function acceptDeliveryOrReturn(e){var n;if(e.id===i.BasicDeliver)n="delivery";else if(e.id===i.BasicReturn)n="return";else throw h("Expected BasicDeliver or BasicReturn; got %s",o(e));var t=this;var r=e.fields;return acceptMessage(function(e){e.fields=r;t.emit(n,e)})}function acceptMessage(e){var n=0,t=0;var r=null;var o={fields:null,properties:null,content:null};return headers;function headers(r){if(r.id===i.BasicProperties){o.properties=r.fields;n=t=r.size;if(n===0){o.content=u.alloc(0);e(o);return acceptDeliveryOrReturn}else{return content}}else{throw"Expected headers frame after delivery"}}function content(i){if(i.content){var a=i.content.length;t-=a;if(t===0){if(r!==null){r.push(i.content);o.content=u.concat(r)}else{o.content=i.content}e(o);return acceptDeliveryOrReturn}else if(t<0){throw h("Too much content sent! Expected %d bytes",n)}else{if(r!==null)r.push(i.content);else r=[i.content];return content}}else throw"Expected content frame after headers"}}v.handleConfirm=function(e,n){var t=n.deliveryTag;var i=n.multiple;if(i){var r=this.unconfirmed.splice(0,t-this.lwm+1);this.lwm=t+1;r.forEach(e)}else{var o;if(t===this.lwm){o=this.unconfirmed.shift();this.lwm++;while(this.unconfirmed[0]===null){this.unconfirmed.shift();this.lwm++}}else{o=this.unconfirmed[t-this.lwm];this.unconfirmed[t-this.lwm]=null}e(o)}};v.pushConfirmCallback=function(e){this.unconfirmed.push(e||false)};v.accept=function(e){switch(e.id){case undefined:case i.BasicDeliver:case i.BasicReturn:case i.BasicProperties:return this.acceptMessageFrame(e);case i.BasicAck:return this.emit("ack",e.fields);case i.BasicNack:return this.emit("nack",e.fields);case i.BasicCancel:return this.emit("cancel",e.fields);case i.ChannelClose:if(this.reply){var n=this.reply;this.reply=null;n(e)}var t="Channel closed by server: "+r(e);this.sendImmediately(i.ChannelCloseOk,{});var o=new Error(t);o.code=e.fields.replyCode;o.classId=e.fields.classId;o.methodId=e.fields.methodId;this.emit("error",o);var a=p(t);this.toClosed(a);return;case i.BasicFlow:return this.closeWithError(e.id,"Flow not implemented",i.constants.NOT_IMPLEMENTED,new Error("Flow not implemented"));default:var n=this.reply;this.reply=null;if(this.pending.length>0){var c=this.pending.shift();this.reply=c.reply;this.sendImmediately(c.method,c.fields)}return n(null,e)}};v.onBufferDrain=function(){this.emit("drain")};function BaseChannel(e){Channel.call(this,e);this.consumers={}}f(BaseChannel,Channel);e.exports.BaseChannel=BaseChannel;BaseChannel.prototype.registerConsumer=function(e,n){this.consumers[e]=n};BaseChannel.prototype.unregisterConsumer=function(e){delete this.consumers[e]};BaseChannel.prototype.dispatchMessage=function(e,n){var t=e.consumerTag;var i=this.consumers[t];if(i){return i(n)}else{throw new Error("Unknown consumer: "+t)}};BaseChannel.prototype.handleDelivery=function(e){return this.dispatchMessage(e.fields,e)};BaseChannel.prototype.handleCancel=function(e){return this.dispatchMessage(e,null)}},631:function(e){e.exports=require("net")},634:function(e){e.exports={_args:[["amqplib@0.5.5","/home/meil/devel/liunx/captor-meta/capsrvd"]],_from:"amqplib@0.5.5",_id:"amqplib@0.5.5",_inBundle:false,_integrity:"sha512-sWx1hbfHbyKMw6bXOK2k6+lHL8TESWxjAx5hG8fBtT7wcxoXNIsFxZMnFyBjxt3yL14vn7WqBDe5U6BGOadtLg==",_location:"/amqplib",_phantomChildren:{},_requested:{type:"version",registry:true,raw:"amqplib@0.5.5",name:"amqplib",escapedName:"amqplib",rawSpec:"0.5.5",saveSpec:null,fetchSpec:"0.5.5"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/amqplib/-/amqplib-0.5.5.tgz",_spec:"0.5.5",_where:"/home/meil/devel/liunx/captor-meta/capsrvd",author:{name:"Michael Bridgen",email:"mikeb@squaremobius.net"},bugs:{url:"https://github.com/squaremo/amqp.node/issues"},dependencies:{bitsyntax:"~0.1.0",bluebird:"^3.5.2","buffer-more-ints":"~1.0.0","readable-stream":"1.x >=1.1.9","safe-buffer":"~5.1.2","url-parse":"~1.4.3"},description:"An AMQP 0-9-1 (e.g., RabbitMQ) library and client.",devDependencies:{claire:"0.4.1",istanbul:"0.1.x",mocha:"^3.5.3","uglify-js":"2.6.x"},engines:{node:">=0.8 <=12"},homepage:"http://squaremo.github.io/amqp.node/",keywords:["AMQP","AMQP 0-9-1","RabbitMQ"],license:"MIT",main:"./channel_api.js",name:"amqplib",repository:{type:"git",url:"git+https://github.com/squaremo/amqp.node.git"},scripts:{prepare:"make",test:"make test"},version:"0.5.5"}},636:function(e){"use strict";e.exports=function(e){function returner(){return this.value}function thrower(){throw this.reason}e.prototype["return"]=e.prototype.thenReturn=function(n){if(n instanceof e)n.suppressUnhandledRejections();return this._then(returner,undefined,undefined,{value:n},undefined)};e.prototype["throw"]=e.prototype.thenThrow=function(e){return this._then(thrower,undefined,undefined,{reason:e},undefined)};e.prototype.catchThrow=function(e){if(arguments.length<=1){return this._then(undefined,thrower,undefined,{reason:e},undefined)}else{var n=arguments[1];var t=function(){throw n};return this.caught(e,t)}};e.prototype.catchReturn=function(n){if(arguments.length<=1){if(n instanceof e)n.suppressUnhandledRejections();return this._then(undefined,returner,undefined,{value:n},undefined)}else{var t=arguments[1];if(t instanceof e)t.suppressUnhandledRejections();var i=function(){return t};return this.caught(n,i)}}}},669:function(e){e.exports=require("util")},678:function(e,n,t){"use strict";e.exports=function(e){var n=t(302);var i=e._async;var r=n.tryCatch;var o=n.errorObj;function spreadAdapter(e,t){var a=this;if(!n.isArray(e))return successAdapter.call(a,e,t);var c=r(t).apply(a._boundValue(),[null].concat(e));if(c===o){i.throwLater(c.e)}}function successAdapter(e,n){var t=this;var a=t._boundValue();var c=e===undefined?r(n).call(a,null):r(n).call(a,null,e);if(c===o){i.throwLater(c.e)}}function errorAdapter(e,n){var t=this;if(!e){var a=new Error(e+"");a.cause=e;e=a}var c=r(n).call(t._boundValue(),e);if(c===o){i.throwLater(c.e)}}e.prototype.asCallback=e.prototype.nodeify=function(e,n){if(typeof e=="function"){var t=successAdapter;if(n!==undefined&&Object(n).spread){t=spreadAdapter}this._then(t,errorAdapter,undefined,this,e)}return this}}},684:function(e,n,t){"use strict";var i=t(669).inherits;var r=t(614).EventEmitter;e.exports.UNITS_TO_MS=1e3;function Heart(n,t,i){r.call(this);this.interval=n;var o=n*e.exports.UNITS_TO_MS;var a=this.emit.bind(this,"beat");var c=this.emit.bind(this,"timeout");this.sendTimer=setInterval(this.runHeartbeat.bind(this,t,a),o/2);var f=0;function missedTwo(){if(!i())return++f<2;else{f=0;return true}}this.recvTimer=setInterval(this.runHeartbeat.bind(this,missedTwo,c),o)}i(Heart,r);e.exports.Heart=Heart;Heart.prototype.clear=function(){clearInterval(this.sendTimer);clearInterval(this.recvTimer)};Heart.prototype.runHeartbeat=function(e,n){if(!e())n()}},694:function(e){"use strict";function BitSet(e){if(e){var n=Math.ceil(e/32);this.words=new Array(n)}else{this.words=[]}this.wordsInUse=0}var n=BitSet.prototype;function wordIndex(e){return Math.floor(e/32)}n.ensureSize=function(e){var n=this.words.length;if(n<e){this.words=this.words.concat(new Array(e-n))}};n.set=function(e){var n=wordIndex(e);if(n>=this.wordsInUse){this.ensureSize(n+1);this.wordsInUse=n+1}var t=1<<e;this.words[n]|=t};n.clear=function(e){var n=wordIndex(e);if(n>=this.wordsInUse)return;var t=~(1<<e);this.words[n]&=t};n.get=function(e){var n=wordIndex(e);if(n>=this.wordsInUse)return false;var t=1<<e;return!!(this.words[n]&t)};function trailingZeros(e){if(e===0)return 32;var n,t=31;n=e<<16;if(n!=0){t=t-16;e=n}n=e<<8;if(n!=0){t=t-8;e=n}n=e<<4;if(n!=0){t=t-4;e=n}n=e<<2;if(n!=0){t=t-2;e=n}return t-(e<<1>>>31)}n.nextSetBit=function(e){var n=wordIndex(e);if(n>=this.wordsInUse)return-1;var t=this.words[n]&4294967295<<e;while(true){if(t)return n*32+trailingZeros(t);n++;if(n===this.wordsInUse)return-1;t=this.words[n]}};n.nextClearBit=function(e){var n=wordIndex(e);if(n>=this.wordsInUse)return e;var t=~this.words[n]&4294967295<<e;while(true){if(t)return n*32+trailingZeros(t);n++;if(n==this.wordsInUse)return n*32;t=~this.words[n]}};e.exports.BitSet=BitSet},738:function(e,n,t){"use strict";e.exports=function(e,n,i,r,o,a){var c=t(302);var f=c.tryCatch;var d=c.errorObj;var h=e._async;function MappingPromiseArray(n,t,i,r){this.constructor$(n);this._promise._captureStackTrace();var a=e._getContext();this._callback=c.contextBind(a,t);this._preservedValues=r===o?new Array(this.length()):null;this._limit=i;this._inFlight=0;this._queue=[];h.invoke(this._asyncInit,this,undefined);if(c.isArray(n)){for(var f=0;f<n.length;++f){var d=n[f];if(d instanceof e){d.suppressUnhandledRejections()}}}}c.inherits(MappingPromiseArray,n);MappingPromiseArray.prototype._asyncInit=function(){this._init$(undefined,-2)};MappingPromiseArray.prototype._init=function(){};MappingPromiseArray.prototype._promiseFulfilled=function(n,t){var i=this._values;var o=this.length();var c=this._preservedValues;var h=this._limit;if(t<0){t=t*-1-1;i[t]=n;if(h>=1){this._inFlight--;this._drainQueue();if(this._isResolved())return true}}else{if(h>=1&&this._inFlight>=h){i[t]=n;this._queue.push(t);return false}if(c!==null)c[t]=n;var s=this._promise;var p=this._callback;var u=s._boundValue();s._pushContext();var v=f(p).call(u,n,t,o);var l=s._popContext();a.checkForgottenReturns(v,l,c!==null?"Promise.filter":"Promise.map",s);if(v===d){this._reject(v.e);return true}var g=r(v,this._promise);if(g instanceof e){g=g._target();var y=g._bitField;if((y&50397184)===0){if(h>=1)this._inFlight++;i[t]=g;g._proxy(this,(t+1)*-1);return false}else if((y&33554432)!==0){v=g._value()}else if((y&16777216)!==0){this._reject(g._reason());return true}else{this._cancel();return true}}i[t]=v}var m=++this._totalResolved;if(m>=o){if(c!==null){this._filter(i,c)}else{this._resolve(i)}return true}return false};MappingPromiseArray.prototype._drainQueue=function(){var e=this._queue;var n=this._limit;var t=this._values;while(e.length>0&&this._inFlight<n){if(this._isResolved())return;var i=e.pop();this._promiseFulfilled(t[i],i)}};MappingPromiseArray.prototype._filter=function(e,n){var t=n.length;var i=new Array(t);var r=0;for(var o=0;o<t;++o){if(e[o])i[r++]=n[o]}i.length=r;this._resolve(i)};MappingPromiseArray.prototype.preservedValues=function(){return this._preservedValues};function map(n,t,r,o){if(typeof t!=="function"){return i("expecting a function but got "+c.classString(t))}var a=0;if(r!==undefined){if(typeof r==="object"&&r!==null){if(typeof r.concurrency!=="number"){return e.reject(new TypeError("'concurrency' must be a number but it is "+c.classString(r.concurrency)))}a=r.concurrency}else{return e.reject(new TypeError("options argument must be an object but it is "+c.classString(r)))}}a=typeof a==="number"&&isFinite(a)&&a>=1?a:0;return new MappingPromiseArray(n,t,a,o).promise()}e.prototype.map=function(e,n){return map(this,e,n,null)};e.map=function(e,n,t,i){return map(e,n,t,i)}}},747:function(e){e.exports=require("fs")},772:function(e,n,t){"use strict";t(473);var i=t(669).format;var r=t(627).parse;var o=t(773),a=o.parse_int,c=o.parse_float;var f=t(323),d=f.write_int,h=f.write_float;var s=t(470).Buffer;var p=[];function $start(){p=[]}function $line(){p.push(i.apply(null,arguments))}function $result(){return p.join("\n")}function bits_expr(e){if(typeof e.size==="string"){return i("%s * %d",var_name(e.size),e.unit)}else{return(e.size*e.unit).toString()}}function get_number(e){$line("bits = %s;\n",bits_expr(e));var n=e.type==="integer"?"parse_int":"parse_float";var t=e.bigendian,i=e.signed;$line("byteoffset = offset / 8; offset += bits");$line("if (offset > binsize) { return false; }");$line("else { result = %s(bin, byteoffset, bits / 8, %s, %s); }",n,t,i)}function get_binary(e){$line("byteoffset = offset / 8;");if(e.size===true){$line("offset = binsize;");$line("result = bin.slice(byteoffset);")}else{$line("bits = %s;",bits_expr(e));$line("offset += bits;");$line("if (offset > binsize) { return false; }");$line("else { result = bin.slice(byteoffset,","byteoffset + bits / 8); }")}}function get_string(e){$line("byteoffset = offset / 8;");var n=e.value.length;var t=n*8;$line("offset += %d;",t);$line("if (offset > binsize) { return false; }");$line("else { result = bin.toString(byteoffset,",i("byteoffset + %d); }",n))}function skip_bits(e){if(typeof e.size==="string"){$line("var skipbits = %s * %d;",var_name(e.size),e.unit);$line("if (offset + skipbits > binsize) { return false; }");$line("else { offset += skipbits; }")}else if(e.size===true){$line("if (offset % 8 === 0) { offset = binsize; }");$line("else { return false; }")}else{var n=e.unit*e.size;$line("if (offset + %d > binsize) { return false; }",n);$line("else { offset += %d; }",n)}}function match_seg(e){if(e.name==="_"){skip_bits(e)}else{var n;switch(e.type){case"integer":case"float":get_number(e);break;case"binary":get_binary(e);break;case"string":get_string(e);break}$line("if (result === false) return false;");if(e.name){$line("else if (%s !== undefined) {",var_name(e.name));$line("if (%s != result) return false;",var_name(e.name));$line("}");$line("else %s = result;",var_name(e.name))}else{var t=JSON.stringify(e.value);$line("else if (result != %s) return false;",t)}}}function var_name(e){return"var_"+e}function variables(e){var n={};for(var t=0;t<e.length;t++){var i=e[t].name;if(i&&i!=="_"){n[i]=true}i=e[t].size;if(typeof i==="string"){n[i]=true}}return Object.keys(n)}function compile_pattern(e){$start();$line("return function(binary, env) {");$line("'use strict';");$line("var bin = binary, env = env || {};");$line("var offset = 0, binsize = bin.length * 8;");$line("var bits, result, byteoffset;");var n=variables(e);for(var t=0;t<n.length;t++){var i=n[t];$line("var %s = env['%s'];",var_name(i),i)}var r=e.length;for(var o=0;o<r;o++){var f=e[o];$line("// "+JSON.stringify(f));match_seg(f)}$line("if (offset == binsize) {");$line("return {");for(var t=0;t<n.length;t++){var i=n[t];$line("%s: %s,",i,var_name(i))}$line("};");$line("}");$line("else return false;");$line("}");var d=new Function("parse_int","parse_float",$result());return d(a,c)}function write_seg(e){switch(e.type){case"string":$line("offset += buf.write(%s, offset, 'utf8');",JSON.stringify(e.value));break;case"binary":$line("val = bindings['%s'];",e.name);if(e.size===true){$line("size = val.length;")}else if(typeof e.size==="string"){$line("size = (bindings['%s'] * %d) / 8;",e.size,e.unit)}else{$line("size = %d;",e.size*e.unit/8)}$line("val.copy(buf, offset, 0, size);");$line("offset += size;");break;case"integer":case"float":write_number(e);break}}function write_number(e){if(e.name){$line("val = bindings['%s'];",e.name)}else{$line("val = %d",e.value)}var n=e.type==="integer"?"write_int":"write_float";if(typeof e.size==="string"){$line("size = (bindings['%s'] * %d) / 8;",e.size,e.unit)}else{$line("size = %d;",e.size*e.unit/8)}$line("%s(buf, val, offset, size, %s);",n,e.bigendian);$line("offset += size;")}function size_of(e){var n=[];var t=0;for(var i=0;i<e.length;i++){var r=e[i];if(typeof r.size==="string"||r.size===true){n.push(r)}else if(r.type==="string"){t+=s.byteLength(r.value)}else{t+=r.size*r.unit/8}}$line("var buffersize = %d;",t);if(n.length>0){for(var o=0;o<n.length;o++){var r=n[o];if(r.size===true){$line("buffersize += bindings['%s'].length;",r.name)}else{$line("buffersize += (bindings['%s'] * %d) / 8;",r.size,r.unit)}}}}function emit_write(e){$line("var val, size;");var n=e.length;for(var t=0;t<n;t++){var i=e[t];$line("// %s",JSON.stringify(i));write_seg(i)}}function compile_ctor(e){$start();$line("return function(bindings) {");$line("'use strict';");size_of(e);$line("var buf = Buffer.alloc(buffersize);");$line("var offset = 0;");emit_write(e);$line("return buf;");$line("}");return new Function("write_int","write_float","Buffer",$result())(d,h,s)}e.exports.compile_pattern=compile_pattern;e.exports.compile=function(){var e=[].join.call(arguments,",");var n=r(e);return compile_pattern(n)};e.exports.compile_builder=function(){var e=[].join.call(arguments,",");var n=r(e);return compile_ctor(n)}},773:function(e,n,t){"use strict";var i=t(473),r=t(810)("bitsyntax-Interpreter");function parse_int(e,n,t,r,o){switch(t){case 1:return o?e.readInt8(n):e.readUInt8(n);case 2:return r?o?e.readInt16BE(n):e.readUInt16BE(n):o?e.readInt16LE(n):e.readUInt16LE(n);case 4:return r?o?e.readInt32BE(n):e.readUInt32BE(n):o?e.readInt32LE(n):e.readUInt32LE(n);case 8:return r?(o?i.readInt64BE:i.readUInt64BE)(e,n):(o?i.readInt64LE:i.readUInt64LE)(e,n);default:throw"Integers must be 8-, 16-, 32- or 64-bit"}}function parse_float(e,n,t,i){switch(t){case 4:return i?e.readFloatBE(n):e.readFloatLE(n);case 8:return i?e.readDoubleBE(n):e.readDoubleLE(n);default:throw"Floats must be 32- or 64-bit"}}function size_of(e,n){var t=e.size;if(typeof t==="string"){return n[t]}else{return t}}function new_scope(e){function scope(){}scope.prototype=e;return new scope}function bindings(e){var n={};for(var t in e){if(e.hasOwnProperty(t)){n[t]=e[t]}}return n}function match(e,n,t){var i=0,o=new_scope(t);var a=n.length*8;function skip_bits(e){r("skip bits");r(e);var n=size_of(e,o);if(n===true){if(i%8===0){i=a;return true}else{return false}}var t=e.unit*n;if(i+t>a){return false}else{i+=t}}function get_integer(e){r("get_integer");r(e);var t=e.unit,c=size_of(e,o);var f=c*t;var d=i/8;i+=f;if(f%8>0||i>a){return false}else{return parse_int(n,d,f/8,e.bigendian,e.signed)}}function get_float(e){r("get_float");r(e);var t=e.unit;var c=size_of(e,o);var f=c*t;var d=i/8;i+=f;if(i>a){return false}else{return parse_float(n,d,f/8,e.bigendian)}}function get_binary(e){r("get_binary");r(e);var t=e.unit,c=size_of(e,o);var f=i/8;if(c===true){i=a;return n.slice(f)}else{var d=c*t;if(d%8>0||i+d>a){return false}else{i+=d;return n.slice(f,f+d/8)}}}function get_string(e){r("get_string");r(e);var t=e.value.length;var o=i/8;i+=t*8;if(i>a){return false}return n.slice(o,o+t).toString("utf8")}var c=e.length;for(var f=0;f<c;f++){var d=e[f];var h=false;if(d.name==="_"){h=skip_bits(d)}else{switch(d.type){case"string":h=get_string(d);break;case"integer":h=get_integer(d);break;case"float":h=get_float(d);break;case"binary":h=get_binary(d);break}if(h===false){return false}else if(d.name){o[d.name]=h}else if(d.value!=h){return false}}}if(i==a){return bindings(o)}else{return false}}e.exports.match=match;e.exports.parse_int=parse_int;e.exports.parse_float=parse_float},774:function(e,n,t){e.exports=Transform;var i=t(62);var r=t(452);r.inherits=t(59);r.inherits(Transform,i);function TransformState(e,n){this.afterTransform=function(e,t){return afterTransform(n,e,t)};this.needTransform=false;this.transforming=false;this.writecb=null;this.writechunk=null}function afterTransform(e,n,t){var i=e._transformState;i.transforming=false;var o=i.writecb;if(!o)return e.emit("error",new Error("no writecb in Transform class"));i.writechunk=null;i.writecb=null;if(!r.isNullOrUndefined(t))e.push(t);if(o)o(n);var a=e._readableState;a.reading=false;if(a.needReadable||a.length<a.highWaterMark){e._read(a.highWaterMark)}}function Transform(e){if(!(this instanceof Transform))return new Transform(e);i.call(this,e);this._transformState=new TransformState(e,this);var n=this;this._readableState.needReadable=true;this._readableState.sync=false;this.once("prefinish",function(){if(r.isFunction(this._flush))this._flush(function(e){done(n,e)});else done(n)})}Transform.prototype.push=function(e,n){this._transformState.needTransform=false;return i.prototype.push.call(this,e,n)};Transform.prototype._transform=function(e,n,t){throw new Error("not implemented")};Transform.prototype._write=function(e,n,t){var i=this._transformState;i.writecb=t;i.writechunk=e;i.writeencoding=n;if(!i.transforming){var r=this._readableState;if(i.needTransform||r.needReadable||r.length<r.highWaterMark)this._read(r.highWaterMark)}};Transform.prototype._read=function(e){var n=this._transformState;if(!r.isNull(n.writechunk)&&n.writecb&&!n.transforming){n.transforming=true;this._transform(n.writechunk,n.writeencoding,n.afterTransform)}else{n.needTransform=true}};function done(e,n){if(n)return e.emit("error",n);var t=e._writableState;var i=e._transformState;if(t.length)throw new Error("calling transform done when ws.length != 0");if(i.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}},784:function(e,n,t){"use strict";e.exports=function(e,n,i){var r=t(302);var o=e.TimeoutError;function HandleWrapper(e){this.handle=e}HandleWrapper.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(e){return c(+this).thenReturn(e)};var c=e.delay=function(t,r){var o;var c;if(r!==undefined){o=e.resolve(r)._then(a,null,null,t,undefined);if(i.cancellation()&&r instanceof e){o._setOnCancel(r)}}else{o=new e(n);c=setTimeout(function(){o._fulfill()},+t);if(i.cancellation()){o._setOnCancel(new HandleWrapper(c))}o._captureStackTrace()}o._setAsyncGuaranteed();return o};e.prototype.delay=function(e){return c(e,this)};var f=function(e,n,t){var i;if(typeof n!=="string"){if(n instanceof Error){i=n}else{i=new o("operation timed out")}}else{i=new o(n)}r.markAsOriginatingFromRejection(i);e._attachExtraTrace(i);e._reject(i);if(t!=null){t.cancel()}};function successClear(e){clearTimeout(this.handle);return e}function failureClear(e){clearTimeout(this.handle);throw e}e.prototype.timeout=function(e,n){e=+e;var t,r;var o=new HandleWrapper(setTimeout(function timeoutTimeout(){if(t.isPending()){f(t,n,r)}},e));if(i.cancellation()){r=this.then();t=r._then(successClear,failureClear,undefined,o,undefined);t._setOnCancel(o)}else{t=this._then(successClear,failureClear,undefined,o,undefined)}return t}}},798:function(e,n,t){"use strict";const i=t(747);const r=t(268);const o=t(377);const a=t(384);const c="/etc/capsrvd/capsrvd.conf.json";const f=e=>{let n="";if(e.length>0){if(e.length!=2||e[0]!="-c"){throw"no config, use: -c config.json"}n=e[1]}else{n=c}const t=JSON.parse(i.readFileSync(n,"utf8"));return t};try{r.localtime=true;r.log(a.name+"-"+a.version+"-r"+a.revision);const e=process.argv.slice(2);const n=f(e);r.verbose=n.verbose;const t=new o(n);t.run();process.on("uncaughtException",e=>{r.error("uex",e)})}catch(e){r.error(e)}},810:function(e,n,t){if(typeof process!=="undefined"&&process.type==="renderer"){e.exports=t(199)}else{e.exports=t(625)}},812:function(e,n,t){const i=t(268);const r=t(622);e.exports=class controller{constructor(e){let n={};for(const t in e){n[t]=new r(t,e[t])}this.pool=n}get(e){const{pool:n}=this;return n[e]}run(){const{pool:e}=this;for(const n in e)e[n].run()}}},816:function(e,n,t){e.exports=t(521)},825:function(e,n,t){"use strict";e.exports=function(e,n,i,r,o){var a=t(302);var c=a.isArray;function toResolutionValue(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}function PromiseArray(t){var i=this._promise=new e(n);if(t instanceof e){i._propagateFrom(t,3);t.suppressUnhandledRejections()}i._setOnCancel(this);this._values=t;this._length=0;this._totalResolved=0;this._init(undefined,-2)}a.inherits(PromiseArray,o);PromiseArray.prototype.length=function(){return this._length};PromiseArray.prototype.promise=function(){return this._promise};PromiseArray.prototype._init=function init(n,t){var o=i(this._values,this._promise);if(o instanceof e){o=o._target();var c=o._bitField;this._values=o;if((c&50397184)===0){this._promise._setAsyncGuaranteed();return o._then(init,this._reject,undefined,this,t)}else if((c&33554432)!==0){o=o._value()}else if((c&16777216)!==0){return this._reject(o._reason())}else{return this._cancel()}}o=a.asArray(o);if(o===null){var f=r("expecting an array or an iterable object but got "+a.classString(o)).reason();this._promise._rejectCallback(f,false);return}if(o.length===0){if(t===-5){this._resolveEmptyArray()}else{this._resolve(toResolutionValue(t))}return}this._iterate(o)};PromiseArray.prototype._iterate=function(n){var t=this.getActualLength(n.length);this._length=t;this._values=this.shouldCopyValues()?new Array(t):this._values;var r=this._promise;var o=false;var a=null;for(var c=0;c<t;++c){var f=i(n[c],r);if(f instanceof e){f=f._target();a=f._bitField}else{a=null}if(o){if(a!==null){f.suppressUnhandledRejections()}}else if(a!==null){if((a&50397184)===0){f._proxy(this,c);this._values[c]=f}else if((a&33554432)!==0){o=this._promiseFulfilled(f._value(),c)}else if((a&16777216)!==0){o=this._promiseRejected(f._reason(),c)}else{o=this._promiseCancelled(c)}}else{o=this._promiseFulfilled(f,c)}}if(!o)r._setAsyncGuaranteed()};PromiseArray.prototype._isResolved=function(){return this._values===null};PromiseArray.prototype._resolve=function(e){this._values=null;this._promise._fulfill(e)};PromiseArray.prototype._cancel=function(){if(this._isResolved()||!this._promise._isCancellable())return;this._values=null;this._promise._cancel()};PromiseArray.prototype._reject=function(e){this._values=null;this._promise._rejectCallback(e,false)};PromiseArray.prototype._promiseFulfilled=function(e,n){this._values[n]=e;var t=++this._totalResolved;if(t>=this._length){this._resolve(this._values);return true}return false};PromiseArray.prototype._promiseCancelled=function(){this._cancel();return true};PromiseArray.prototype._promiseRejected=function(e){this._totalResolved++;this._reject(e);return true};PromiseArray.prototype._resultCancelled=function(){if(this._isResolved())return;var n=this._values;this._cancel();if(n instanceof e){n.cancel()}else{for(var t=0;t<n.length;++t){if(n[t]instanceof e){n[t].cancel()}}}};PromiseArray.prototype.shouldCopyValues=function(){return true};PromiseArray.prototype.getActualLength=function(e){return e};return PromiseArray}},838:function(e){"use strict";e.exports=function(e){var n=e._SomePromiseArray;function any(e){var t=new n(e);var i=t.promise();t.setHowMany(1);t.setUnwrap();t.init();return i}e.any=function(e){return any(e)};e.prototype.any=function(){return any(this)}}},846:function(e){var n=function(){"use strict";return this===undefined}();if(n){e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(e,n){var t=Object.getOwnPropertyDescriptor(e,n);return!!(!t||t.writable||t.set)}}}else{var t={}.hasOwnProperty;var i={}.toString;var r={}.constructor.prototype;var o=function(e){var n=[];for(var i in e){if(t.call(e,i)){n.push(i)}}return n};var a=function(e,n){return{value:e[n]}};var c=function(e,n,t){e[n]=t.value;return e};var f=function(e){return e};var d=function(e){try{return Object(e).constructor.prototype}catch(e){return r}};var h=function(e){try{return i.call(e)==="[object Array]"}catch(e){return false}};e.exports={isArray:h,keys:o,names:o,defineProperty:c,getDescriptor:a,freeze:f,getPrototypeOf:d,isES5:n,propertyIsWritable:function(){return true}}}},866:function(e,n,t){"use strict";function decodeConnectionStart(e){var n,t,i=0,r={versionMajor:void 0,versionMinor:void 0,serverProperties:void 0,mechanisms:void 0,locales:void 0};n=e[i];i++;r.versionMajor=n;n=e[i];i++;r.versionMinor=n;t=e.readUInt32BE(i);i+=4;n=c(e.slice(i,i+t));i+=t;r.serverProperties=n;t=e.readUInt32BE(i);i+=4;n=e.slice(i,i+t);i+=t;r.mechanisms=n;t=e.readUInt32BE(i);i+=4;n=e.slice(i,i+t);i+=t;r.locales=n;return r}function encodeConnectionStart(e,n){var t,r=0,o=null,c=0,d=0;o=n.serverProperties;if(void 0===o)throw new Error("Missing value for mandatory field 'serverProperties'");if("object"!=typeof o)throw new TypeError("Field 'serverProperties' is the wrong type; must be an object");t=a(f,o,d);var h=f.slice(d,d+t);d+=t;c+=h.length;o=n.mechanisms;if(void 0===o)o=i.from("PLAIN");else if(!i.isBuffer(o))throw new TypeError("Field 'mechanisms' is the wrong type; must be a Buffer");c+=o.length;o=n.locales;if(void 0===o)o=i.from("en_US");else if(!i.isBuffer(o))throw new TypeError("Field 'locales' is the wrong type; must be a Buffer");c+=o.length;var s=i.alloc(22+c);s[0]=1;s.writeUInt16BE(e,1);s.writeUInt32BE(655370,7);r=11;o=n.versionMajor;if(void 0===o)o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'versionMajor' is the wrong type; must be a number (but not NaN)");s.writeUInt8(o,r);r++;o=n.versionMinor;if(void 0===o)o=9;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'versionMinor' is the wrong type; must be a number (but not NaN)");s.writeUInt8(o,r);r++;r+=h.copy(s,r);o=n.mechanisms;void 0===o&&(o=i.from("PLAIN"));t=o.length;s.writeUInt32BE(t,r);r+=4;o.copy(s,r);r+=t;o=n.locales;void 0===o&&(o=i.from("en_US"));t=o.length;s.writeUInt32BE(t,r);r+=4;o.copy(s,r);r+=t;s[r]=206;s.writeUInt32BE(r-7,3);return s}function decodeConnectionStartOk(e){var n,t,i=0,r={clientProperties:void 0,mechanism:void 0,response:void 0,locale:void 0};t=e.readUInt32BE(i);i+=4;n=c(e.slice(i,i+t));i+=t;r.clientProperties=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.mechanism=n;t=e.readUInt32BE(i);i+=4;n=e.slice(i,i+t);i+=t;r.response=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.locale=n;return r}function encodeConnectionStartOk(e,n){var t,r=0,o=null,c=0,d=0;o=n.clientProperties;if(void 0===o)throw new Error("Missing value for mandatory field 'clientProperties'");if("object"!=typeof o)throw new TypeError("Field 'clientProperties' is the wrong type; must be an object");t=a(f,o,d);var h=f.slice(d,d+t);d+=t;c+=h.length;o=n.mechanism;if(void 0===o)o="PLAIN";else if(!("string"==typeof o&&i.byteLength(o)<256))throw new TypeError("Field 'mechanism' is the wrong type; must be a string (up to 255 chars)");var s=i.byteLength(o,"utf8");c+=s;o=n.response;if(void 0===o)throw new Error("Missing value for mandatory field 'response'");if(!i.isBuffer(o))throw new TypeError("Field 'response' is the wrong type; must be a Buffer");c+=o.length;o=n.locale;if(void 0===o)o="en_US";else if(!("string"==typeof o&&i.byteLength(o)<256))throw new TypeError("Field 'locale' is the wrong type; must be a string (up to 255 chars)");var p=i.byteLength(o,"utf8");c+=p;var u=i.alloc(18+c);u[0]=1;u.writeUInt16BE(e,1);u.writeUInt32BE(655371,7);r=11;r+=h.copy(u,r);o=n.mechanism;void 0===o&&(o="PLAIN");u[r]=s;r++;u.write(o,r,"utf8");r+=s;o=n.response;void 0===o&&(o=i.from(void 0));t=o.length;u.writeUInt32BE(t,r);r+=4;o.copy(u,r);r+=t;o=n.locale;void 0===o&&(o="en_US");u[r]=p;r++;u.write(o,r,"utf8");r+=p;u[r]=206;u.writeUInt32BE(r-7,3);return u}function decodeConnectionSecure(e){var n,t,i=0,r={challenge:void 0};t=e.readUInt32BE(i);i+=4;n=e.slice(i,i+t);i+=t;r.challenge=n;return r}function encodeConnectionSecure(e,n){var t,r=0,o=null,a=0;o=n.challenge;if(void 0===o)throw new Error("Missing value for mandatory field 'challenge'");if(!i.isBuffer(o))throw new TypeError("Field 'challenge' is the wrong type; must be a Buffer");a+=o.length;var c=i.alloc(16+a);c[0]=1;c.writeUInt16BE(e,1);c.writeUInt32BE(655380,7);r=11;o=n.challenge;void 0===o&&(o=i.from(void 0));t=o.length;c.writeUInt32BE(t,r);r+=4;o.copy(c,r);r+=t;c[r]=206;c.writeUInt32BE(r-7,3);return c}function decodeConnectionSecureOk(e){var n,t,i=0,r={response:void 0};t=e.readUInt32BE(i);i+=4;n=e.slice(i,i+t);i+=t;r.response=n;return r}function encodeConnectionSecureOk(e,n){var t,r=0,o=null,a=0;o=n.response;if(void 0===o)throw new Error("Missing value for mandatory field 'response'");if(!i.isBuffer(o))throw new TypeError("Field 'response' is the wrong type; must be a Buffer");a+=o.length;var c=i.alloc(16+a);c[0]=1;c.writeUInt16BE(e,1);c.writeUInt32BE(655381,7);r=11;o=n.response;void 0===o&&(o=i.from(void 0));t=o.length;c.writeUInt32BE(t,r);r+=4;o.copy(c,r);r+=t;c[r]=206;c.writeUInt32BE(r-7,3);return c}function decodeConnectionTune(e){var n,t=0,i={channelMax:void 0,frameMax:void 0,heartbeat:void 0};n=e.readUInt16BE(t);t+=2;i.channelMax=n;n=e.readUInt32BE(t);t+=4;i.frameMax=n;n=e.readUInt16BE(t);t+=2;i.heartbeat=n;return i}function encodeConnectionTune(e,n){var t=0,r=null,o=0,a=i.alloc(20+o);a[0]=1;a.writeUInt16BE(e,1);a.writeUInt32BE(655390,7);t=11;r=n.channelMax;if(void 0===r)r=0;else if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'channelMax' is the wrong type; must be a number (but not NaN)");a.writeUInt16BE(r,t);t+=2;r=n.frameMax;if(void 0===r)r=0;else if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'frameMax' is the wrong type; must be a number (but not NaN)");a.writeUInt32BE(r,t);t+=4;r=n.heartbeat;if(void 0===r)r=0;else if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'heartbeat' is the wrong type; must be a number (but not NaN)");a.writeUInt16BE(r,t);t+=2;a[t]=206;a.writeUInt32BE(t-7,3);return a}function decodeConnectionTuneOk(e){var n,t=0,i={channelMax:void 0,frameMax:void 0,heartbeat:void 0};n=e.readUInt16BE(t);t+=2;i.channelMax=n;n=e.readUInt32BE(t);t+=4;i.frameMax=n;n=e.readUInt16BE(t);t+=2;i.heartbeat=n;return i}function encodeConnectionTuneOk(e,n){var t=0,r=null,o=0,a=i.alloc(20+o);a[0]=1;a.writeUInt16BE(e,1);a.writeUInt32BE(655391,7);t=11;r=n.channelMax;if(void 0===r)r=0;else if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'channelMax' is the wrong type; must be a number (but not NaN)");a.writeUInt16BE(r,t);t+=2;r=n.frameMax;if(void 0===r)r=0;else if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'frameMax' is the wrong type; must be a number (but not NaN)");a.writeUInt32BE(r,t);t+=4;r=n.heartbeat;if(void 0===r)r=0;else if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'heartbeat' is the wrong type; must be a number (but not NaN)");a.writeUInt16BE(r,t);t+=2;a[t]=206;a.writeUInt32BE(t-7,3);return a}function decodeConnectionOpen(e){var n,t,i=0,r={virtualHost:void 0,capabilities:void 0,insist:void 0};t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.virtualHost=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.capabilities=n;n=!!(1&e[i]);r.insist=n;return r}function encodeConnectionOpen(e,n){var t=0,r=null,o=0,a=0;r=n.virtualHost;if(void 0===r)r="/";else if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'virtualHost' is the wrong type; must be a string (up to 255 chars)");var c=i.byteLength(r,"utf8");a+=c;r=n.capabilities;if(void 0===r)r="";else if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'capabilities' is the wrong type; must be a string (up to 255 chars)");var f=i.byteLength(r,"utf8");a+=f;var d=i.alloc(15+a);d[0]=1;d.writeUInt16BE(e,1);d.writeUInt32BE(655400,7);t=11;r=n.virtualHost;void 0===r&&(r="/");d[t]=c;t++;d.write(r,t,"utf8");t+=c;r=n.capabilities;void 0===r&&(r="");d[t]=f;t++;d.write(r,t,"utf8");t+=f;r=n.insist;void 0===r&&(r=!1);r&&(o+=1);d[t]=o;t++;d[t]=206;d.writeUInt32BE(t-7,3);return d}function decodeConnectionOpenOk(e){var n,t,i=0,r={knownHosts:void 0};t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.knownHosts=n;return r}function encodeConnectionOpenOk(e,n){var t=0,r=null,o=0;r=n.knownHosts;if(void 0===r)r="";else if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'knownHosts' is the wrong type; must be a string (up to 255 chars)");var a=i.byteLength(r,"utf8");o+=a;var c=i.alloc(13+o);c[0]=1;c.writeUInt16BE(e,1);c.writeUInt32BE(655401,7);t=11;r=n.knownHosts;void 0===r&&(r="");c[t]=a;t++;c.write(r,t,"utf8");t+=a;c[t]=206;c.writeUInt32BE(t-7,3);return c}function decodeConnectionClose(e){var n,t,i=0,r={replyCode:void 0,replyText:void 0,classId:void 0,methodId:void 0};n=e.readUInt16BE(i);i+=2;r.replyCode=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.replyText=n;n=e.readUInt16BE(i);i+=2;r.classId=n;n=e.readUInt16BE(i);i+=2;r.methodId=n;return r}function encodeConnectionClose(e,n){var t=0,r=null,o=0;r=n.replyText;if(void 0===r)r="";else if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'replyText' is the wrong type; must be a string (up to 255 chars)");var a=i.byteLength(r,"utf8");o+=a;var c=i.alloc(19+o);c[0]=1;c.writeUInt16BE(e,1);c.writeUInt32BE(655410,7);t=11;r=n.replyCode;if(void 0===r)throw new Error("Missing value for mandatory field 'replyCode'");if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'replyCode' is the wrong type; must be a number (but not NaN)");c.writeUInt16BE(r,t);t+=2;r=n.replyText;void 0===r&&(r="");c[t]=a;t++;c.write(r,t,"utf8");t+=a;r=n.classId;if(void 0===r)throw new Error("Missing value for mandatory field 'classId'");if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'classId' is the wrong type; must be a number (but not NaN)");c.writeUInt16BE(r,t);t+=2;r=n.methodId;if(void 0===r)throw new Error("Missing value for mandatory field 'methodId'");if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'methodId' is the wrong type; must be a number (but not NaN)");c.writeUInt16BE(r,t);t+=2;c[t]=206;c.writeUInt32BE(t-7,3);return c}function decodeConnectionCloseOk(e){var n={};return n}function encodeConnectionCloseOk(e,n){var t=0,r=0,o=i.alloc(12+r);o[0]=1;o.writeUInt16BE(e,1);o.writeUInt32BE(655411,7);t=11;o[t]=206;o.writeUInt32BE(t-7,3);return o}function decodeConnectionBlocked(e){var n,t,i=0,r={reason:void 0};t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.reason=n;return r}function encodeConnectionBlocked(e,n){var t=0,r=null,o=0;r=n.reason;if(void 0===r)r="";else if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'reason' is the wrong type; must be a string (up to 255 chars)");var a=i.byteLength(r,"utf8");o+=a;var c=i.alloc(13+o);c[0]=1;c.writeUInt16BE(e,1);c.writeUInt32BE(655420,7);t=11;r=n.reason;void 0===r&&(r="");c[t]=a;t++;c.write(r,t,"utf8");t+=a;c[t]=206;c.writeUInt32BE(t-7,3);return c}function decodeConnectionUnblocked(e){var n={};return n}function encodeConnectionUnblocked(e,n){var t=0,r=0,o=i.alloc(12+r);o[0]=1;o.writeUInt16BE(e,1);o.writeUInt32BE(655421,7);t=11;o[t]=206;o.writeUInt32BE(t-7,3);return o}function decodeChannelOpen(e){var n,t,i=0,r={outOfBand:void 0};t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.outOfBand=n;return r}function encodeChannelOpen(e,n){var t=0,r=null,o=0;r=n.outOfBand;if(void 0===r)r="";else if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'outOfBand' is the wrong type; must be a string (up to 255 chars)");var a=i.byteLength(r,"utf8");o+=a;var c=i.alloc(13+o);c[0]=1;c.writeUInt16BE(e,1);c.writeUInt32BE(1310730,7);t=11;r=n.outOfBand;void 0===r&&(r="");c[t]=a;t++;c.write(r,t,"utf8");t+=a;c[t]=206;c.writeUInt32BE(t-7,3);return c}function decodeChannelOpenOk(e){var n,t,i=0,r={channelId:void 0};t=e.readUInt32BE(i);i+=4;n=e.slice(i,i+t);i+=t;r.channelId=n;return r}function encodeChannelOpenOk(e,n){var t,r=0,o=null,a=0;o=n.channelId;if(void 0===o)o=i.from("");else if(!i.isBuffer(o))throw new TypeError("Field 'channelId' is the wrong type; must be a Buffer");a+=o.length;var c=i.alloc(16+a);c[0]=1;c.writeUInt16BE(e,1);c.writeUInt32BE(1310731,7);r=11;o=n.channelId;void 0===o&&(o=i.from(""));t=o.length;c.writeUInt32BE(t,r);r+=4;o.copy(c,r);r+=t;c[r]=206;c.writeUInt32BE(r-7,3);return c}function decodeChannelFlow(e){var n,t=0,i={active:void 0};n=!!(1&e[t]);i.active=n;return i}function encodeChannelFlow(e,n){var t=0,r=null,o=0,a=0,c=i.alloc(13+a);c[0]=1;c.writeUInt16BE(e,1);c.writeUInt32BE(1310740,7);t=11;r=n.active;if(void 0===r)throw new Error("Missing value for mandatory field 'active'");r&&(o+=1);c[t]=o;t++;c[t]=206;c.writeUInt32BE(t-7,3);return c}function decodeChannelFlowOk(e){var n,t=0,i={active:void 0};n=!!(1&e[t]);i.active=n;return i}function encodeChannelFlowOk(e,n){var t=0,r=null,o=0,a=0,c=i.alloc(13+a);c[0]=1;c.writeUInt16BE(e,1);c.writeUInt32BE(1310741,7);t=11;r=n.active;if(void 0===r)throw new Error("Missing value for mandatory field 'active'");r&&(o+=1);c[t]=o;t++;c[t]=206;c.writeUInt32BE(t-7,3);return c}function decodeChannelClose(e){var n,t,i=0,r={replyCode:void 0,replyText:void 0,classId:void 0,methodId:void 0};n=e.readUInt16BE(i);i+=2;r.replyCode=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.replyText=n;n=e.readUInt16BE(i);i+=2;r.classId=n;n=e.readUInt16BE(i);i+=2;r.methodId=n;return r}function encodeChannelClose(e,n){var t=0,r=null,o=0;r=n.replyText;if(void 0===r)r="";else if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'replyText' is the wrong type; must be a string (up to 255 chars)");var a=i.byteLength(r,"utf8");o+=a;var c=i.alloc(19+o);c[0]=1;c.writeUInt16BE(e,1);c.writeUInt32BE(1310760,7);t=11;r=n.replyCode;if(void 0===r)throw new Error("Missing value for mandatory field 'replyCode'");if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'replyCode' is the wrong type; must be a number (but not NaN)");c.writeUInt16BE(r,t);t+=2;r=n.replyText;void 0===r&&(r="");c[t]=a;t++;c.write(r,t,"utf8");t+=a;r=n.classId;if(void 0===r)throw new Error("Missing value for mandatory field 'classId'");if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'classId' is the wrong type; must be a number (but not NaN)");c.writeUInt16BE(r,t);t+=2;r=n.methodId;if(void 0===r)throw new Error("Missing value for mandatory field 'methodId'");if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'methodId' is the wrong type; must be a number (but not NaN)");c.writeUInt16BE(r,t);t+=2;c[t]=206;c.writeUInt32BE(t-7,3);return c}function decodeChannelCloseOk(e){var n={};return n}function encodeChannelCloseOk(e,n){var t=0,r=0,o=i.alloc(12+r);o[0]=1;o.writeUInt16BE(e,1);o.writeUInt32BE(1310761,7);t=11;o[t]=206;o.writeUInt32BE(t-7,3);return o}function decodeAccessRequest(e){var n,t,i=0,r={realm:void 0,exclusive:void 0,passive:void 0,active:void 0,write:void 0,read:void 0};t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.realm=n;n=!!(1&e[i]);r.exclusive=n;n=!!(2&e[i]);r.passive=n;n=!!(4&e[i]);r.active=n;n=!!(8&e[i]);r.write=n;n=!!(16&e[i]);r.read=n;return r}function encodeAccessRequest(e,n){var t=0,r=null,o=0,a=0;r=n.realm;if(void 0===r)r="/data";else if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'realm' is the wrong type; must be a string (up to 255 chars)");var c=i.byteLength(r,"utf8");a+=c;var f=i.alloc(14+a);f[0]=1;f.writeUInt16BE(e,1);f.writeUInt32BE(1966090,7);t=11;r=n.realm;void 0===r&&(r="/data");f[t]=c;t++;f.write(r,t,"utf8");t+=c;r=n.exclusive;void 0===r&&(r=!1);r&&(o+=1);r=n.passive;void 0===r&&(r=!0);r&&(o+=2);r=n.active;void 0===r&&(r=!0);r&&(o+=4);r=n.write;void 0===r&&(r=!0);r&&(o+=8);r=n.read;void 0===r&&(r=!0);r&&(o+=16);f[t]=o;t++;f[t]=206;f.writeUInt32BE(t-7,3);return f}function decodeAccessRequestOk(e){var n,t=0,i={ticket:void 0};n=e.readUInt16BE(t);t+=2;i.ticket=n;return i}function encodeAccessRequestOk(e,n){var t=0,r=null,o=0,a=i.alloc(14+o);a[0]=1;a.writeUInt16BE(e,1);a.writeUInt32BE(1966091,7);t=11;r=n.ticket;if(void 0===r)r=1;else if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");a.writeUInt16BE(r,t);t+=2;a[t]=206;a.writeUInt32BE(t-7,3);return a}function decodeExchangeDeclare(e){var n,t,i=0,r={ticket:void 0,exchange:void 0,type:void 0,passive:void 0,durable:void 0,autoDelete:void 0,internal:void 0,nowait:void 0,arguments:void 0};n=e.readUInt16BE(i);i+=2;r.ticket=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.exchange=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.type=n;n=!!(1&e[i]);r.passive=n;n=!!(2&e[i]);r.durable=n;n=!!(4&e[i]);r.autoDelete=n;n=!!(8&e[i]);r.internal=n;n=!!(16&e[i]);r.nowait=n;i++;t=e.readUInt32BE(i);i+=4;n=c(e.slice(i,i+t));i+=t;r.arguments=n;return r}function encodeExchangeDeclare(e,n){var t,r=0,o=null,c=0,d=0,h=0;o=n.exchange;if(void 0===o)throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof o&&i.byteLength(o)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var s=i.byteLength(o,"utf8");d+=s;o=n.type;if(void 0===o)o="direct";else if(!("string"==typeof o&&i.byteLength(o)<256))throw new TypeError("Field 'type' is the wrong type; must be a string (up to 255 chars)");var p=i.byteLength(o,"utf8");d+=p;o=n.arguments;if(void 0===o)o={};else if("object"!=typeof o)throw new TypeError("Field 'arguments' is the wrong type; must be an object");t=a(f,o,h);var u=f.slice(h,h+t);h+=t;d+=u.length;var v=i.alloc(17+d);v[0]=1;v.writeUInt16BE(e,1);v.writeUInt32BE(2621450,7);r=11;o=n.ticket;if(void 0===o)o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");v.writeUInt16BE(o,r);r+=2;o=n.exchange;void 0===o&&(o=void 0);v[r]=s;r++;v.write(o,r,"utf8");r+=s;o=n.type;void 0===o&&(o="direct");v[r]=p;r++;v.write(o,r,"utf8");r+=p;o=n.passive;void 0===o&&(o=!1);o&&(c+=1);o=n.durable;void 0===o&&(o=!1);o&&(c+=2);o=n.autoDelete;void 0===o&&(o=!1);o&&(c+=4);o=n.internal;void 0===o&&(o=!1);o&&(c+=8);o=n.nowait;void 0===o&&(o=!1);o&&(c+=16);v[r]=c;r++;c=0;r+=u.copy(v,r);v[r]=206;v.writeUInt32BE(r-7,3);return v}function decodeExchangeDeclareOk(e){var n={};return n}function encodeExchangeDeclareOk(e,n){var t=0,r=0,o=i.alloc(12+r);o[0]=1;o.writeUInt16BE(e,1);o.writeUInt32BE(2621451,7);t=11;o[t]=206;o.writeUInt32BE(t-7,3);return o}function decodeExchangeDelete(e){var n,t,i=0,r={ticket:void 0,exchange:void 0,ifUnused:void 0,nowait:void 0};n=e.readUInt16BE(i);i+=2;r.ticket=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.exchange=n;n=!!(1&e[i]);r.ifUnused=n;n=!!(2&e[i]);r.nowait=n;return r}function encodeExchangeDelete(e,n){var t=0,r=null,o=0,a=0;r=n.exchange;if(void 0===r)throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var c=i.byteLength(r,"utf8");a+=c;var f=i.alloc(16+a);f[0]=1;f.writeUInt16BE(e,1);f.writeUInt32BE(2621460,7);t=11;r=n.ticket;if(void 0===r)r=0;else if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");f.writeUInt16BE(r,t);t+=2;r=n.exchange;void 0===r&&(r=void 0);f[t]=c;t++;f.write(r,t,"utf8");t+=c;r=n.ifUnused;void 0===r&&(r=!1);r&&(o+=1);r=n.nowait;void 0===r&&(r=!1);r&&(o+=2);f[t]=o;t++;f[t]=206;f.writeUInt32BE(t-7,3);return f}function decodeExchangeDeleteOk(e){var n={};return n}function encodeExchangeDeleteOk(e,n){var t=0,r=0,o=i.alloc(12+r);o[0]=1;o.writeUInt16BE(e,1);o.writeUInt32BE(2621461,7);t=11;o[t]=206;o.writeUInt32BE(t-7,3);return o}function decodeExchangeBind(e){var n,t,i=0,r={ticket:void 0,destination:void 0,source:void 0,routingKey:void 0,nowait:void 0,arguments:void 0};n=e.readUInt16BE(i);i+=2;r.ticket=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.destination=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.source=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.routingKey=n;n=!!(1&e[i]);r.nowait=n;i++;t=e.readUInt32BE(i);i+=4;n=c(e.slice(i,i+t));i+=t;r.arguments=n;return r}function encodeExchangeBind(e,n){var t,r=0,o=null,c=0,d=0,h=0;o=n.destination;if(void 0===o)throw new Error("Missing value for mandatory field 'destination'");if(!("string"==typeof o&&i.byteLength(o)<256))throw new TypeError("Field 'destination' is the wrong type; must be a string (up to 255 chars)");var s=i.byteLength(o,"utf8");d+=s;o=n.source;if(void 0===o)throw new Error("Missing value for mandatory field 'source'");if(!("string"==typeof o&&i.byteLength(o)<256))throw new TypeError("Field 'source' is the wrong type; must be a string (up to 255 chars)");var p=i.byteLength(o,"utf8");d+=p;o=n.routingKey;if(void 0===o)o="";else if(!("string"==typeof o&&i.byteLength(o)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var u=i.byteLength(o,"utf8");d+=u;o=n.arguments;if(void 0===o)o={};else if("object"!=typeof o)throw new TypeError("Field 'arguments' is the wrong type; must be an object");t=a(f,o,h);var v=f.slice(h,h+t);h+=t;d+=v.length;var l=i.alloc(18+d);l[0]=1;l.writeUInt16BE(e,1);l.writeUInt32BE(2621470,7);r=11;o=n.ticket;if(void 0===o)o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");l.writeUInt16BE(o,r);r+=2;o=n.destination;void 0===o&&(o=void 0);l[r]=s;r++;l.write(o,r,"utf8");r+=s;o=n.source;void 0===o&&(o=void 0);l[r]=p;r++;l.write(o,r,"utf8");r+=p;o=n.routingKey;void 0===o&&(o="");l[r]=u;r++;l.write(o,r,"utf8");r+=u;o=n.nowait;void 0===o&&(o=!1);o&&(c+=1);l[r]=c;r++;c=0;r+=v.copy(l,r);l[r]=206;l.writeUInt32BE(r-7,3);return l}function decodeExchangeBindOk(e){var n={};return n}function encodeExchangeBindOk(e,n){var t=0,r=0,o=i.alloc(12+r);o[0]=1;o.writeUInt16BE(e,1);o.writeUInt32BE(2621471,7);t=11;o[t]=206;o.writeUInt32BE(t-7,3);return o}function decodeExchangeUnbind(e){var n,t,i=0,r={ticket:void 0,destination:void 0,source:void 0,routingKey:void 0,nowait:void 0,arguments:void 0};n=e.readUInt16BE(i);i+=2;r.ticket=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.destination=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.source=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.routingKey=n;n=!!(1&e[i]);r.nowait=n;i++;t=e.readUInt32BE(i);i+=4;n=c(e.slice(i,i+t));i+=t;r.arguments=n;return r}function encodeExchangeUnbind(e,n){var t,r=0,o=null,c=0,d=0,h=0;o=n.destination;if(void 0===o)throw new Error("Missing value for mandatory field 'destination'");if(!("string"==typeof o&&i.byteLength(o)<256))throw new TypeError("Field 'destination' is the wrong type; must be a string (up to 255 chars)");var s=i.byteLength(o,"utf8");d+=s;o=n.source;if(void 0===o)throw new Error("Missing value for mandatory field 'source'");if(!("string"==typeof o&&i.byteLength(o)<256))throw new TypeError("Field 'source' is the wrong type; must be a string (up to 255 chars)");var p=i.byteLength(o,"utf8");d+=p;o=n.routingKey;if(void 0===o)o="";else if(!("string"==typeof o&&i.byteLength(o)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var u=i.byteLength(o,"utf8");d+=u;o=n.arguments;if(void 0===o)o={};else if("object"!=typeof o)throw new TypeError("Field 'arguments' is the wrong type; must be an object");t=a(f,o,h);var v=f.slice(h,h+t);h+=t;d+=v.length;var l=i.alloc(18+d);l[0]=1;l.writeUInt16BE(e,1);l.writeUInt32BE(2621480,7);r=11;o=n.ticket;if(void 0===o)o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");l.writeUInt16BE(o,r);r+=2;o=n.destination;void 0===o&&(o=void 0);l[r]=s;r++;l.write(o,r,"utf8");r+=s;o=n.source;void 0===o&&(o=void 0);l[r]=p;r++;l.write(o,r,"utf8");r+=p;o=n.routingKey;void 0===o&&(o="");l[r]=u;r++;l.write(o,r,"utf8");r+=u;o=n.nowait;void 0===o&&(o=!1);o&&(c+=1);l[r]=c;r++;c=0;r+=v.copy(l,r);l[r]=206;l.writeUInt32BE(r-7,3);return l}function decodeExchangeUnbindOk(e){var n={};return n}function encodeExchangeUnbindOk(e,n){var t=0,r=0,o=i.alloc(12+r);o[0]=1;o.writeUInt16BE(e,1);o.writeUInt32BE(2621491,7);t=11;o[t]=206;o.writeUInt32BE(t-7,3);return o}function decodeQueueDeclare(e){var n,t,i=0,r={ticket:void 0,queue:void 0,passive:void 0,durable:void 0,exclusive:void 0,autoDelete:void 0,nowait:void 0,arguments:void 0};n=e.readUInt16BE(i);i+=2;r.ticket=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.queue=n;n=!!(1&e[i]);r.passive=n;n=!!(2&e[i]);r.durable=n;n=!!(4&e[i]);r.exclusive=n;n=!!(8&e[i]);r.autoDelete=n;n=!!(16&e[i]);r.nowait=n;i++;t=e.readUInt32BE(i);i+=4;n=c(e.slice(i,i+t));i+=t;r.arguments=n;return r}function encodeQueueDeclare(e,n){var t,r=0,o=null,c=0,d=0,h=0;o=n.queue;if(void 0===o)o="";else if(!("string"==typeof o&&i.byteLength(o)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var s=i.byteLength(o,"utf8");d+=s;o=n.arguments;if(void 0===o)o={};else if("object"!=typeof o)throw new TypeError("Field 'arguments' is the wrong type; must be an object");t=a(f,o,h);var p=f.slice(h,h+t);h+=t;d+=p.length;var u=i.alloc(16+d);u[0]=1;u.writeUInt16BE(e,1);u.writeUInt32BE(3276810,7);r=11;o=n.ticket;if(void 0===o)o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");u.writeUInt16BE(o,r);r+=2;o=n.queue;void 0===o&&(o="");u[r]=s;r++;u.write(o,r,"utf8");r+=s;o=n.passive;void 0===o&&(o=!1);o&&(c+=1);o=n.durable;void 0===o&&(o=!1);o&&(c+=2);o=n.exclusive;void 0===o&&(o=!1);o&&(c+=4);o=n.autoDelete;void 0===o&&(o=!1);o&&(c+=8);o=n.nowait;void 0===o&&(o=!1);o&&(c+=16);u[r]=c;r++;c=0;r+=p.copy(u,r);u[r]=206;u.writeUInt32BE(r-7,3);return u}function decodeQueueDeclareOk(e){var n,t,i=0,r={queue:void 0,messageCount:void 0,consumerCount:void 0};t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.queue=n;n=e.readUInt32BE(i);i+=4;r.messageCount=n;n=e.readUInt32BE(i);i+=4;r.consumerCount=n;return r}function encodeQueueDeclareOk(e,n){var t=0,r=null,o=0;r=n.queue;if(void 0===r)throw new Error("Missing value for mandatory field 'queue'");if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var a=i.byteLength(r,"utf8");o+=a;var c=i.alloc(21+o);c[0]=1;c.writeUInt16BE(e,1);c.writeUInt32BE(3276811,7);t=11;r=n.queue;void 0===r&&(r=void 0);c[t]=a;t++;c.write(r,t,"utf8");t+=a;r=n.messageCount;if(void 0===r)throw new Error("Missing value for mandatory field 'messageCount'");if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'messageCount' is the wrong type; must be a number (but not NaN)");c.writeUInt32BE(r,t);t+=4;r=n.consumerCount;if(void 0===r)throw new Error("Missing value for mandatory field 'consumerCount'");if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'consumerCount' is the wrong type; must be a number (but not NaN)");c.writeUInt32BE(r,t);t+=4;c[t]=206;c.writeUInt32BE(t-7,3);return c}function decodeQueueBind(e){var n,t,i=0,r={ticket:void 0,queue:void 0,exchange:void 0,routingKey:void 0,nowait:void 0,arguments:void 0};n=e.readUInt16BE(i);i+=2;r.ticket=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.queue=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.exchange=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.routingKey=n;n=!!(1&e[i]);r.nowait=n;i++;t=e.readUInt32BE(i);i+=4;n=c(e.slice(i,i+t));i+=t;r.arguments=n;return r}function encodeQueueBind(e,n){var t,r=0,o=null,c=0,d=0,h=0;o=n.queue;if(void 0===o)o="";else if(!("string"==typeof o&&i.byteLength(o)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var s=i.byteLength(o,"utf8");d+=s;o=n.exchange;if(void 0===o)throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof o&&i.byteLength(o)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var p=i.byteLength(o,"utf8");d+=p;o=n.routingKey;if(void 0===o)o="";else if(!("string"==typeof o&&i.byteLength(o)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var u=i.byteLength(o,"utf8");d+=u;o=n.arguments;if(void 0===o)o={};else if("object"!=typeof o)throw new TypeError("Field 'arguments' is the wrong type; must be an object");t=a(f,o,h);var v=f.slice(h,h+t);h+=t;d+=v.length;var l=i.alloc(18+d);l[0]=1;l.writeUInt16BE(e,1);l.writeUInt32BE(3276820,7);r=11;o=n.ticket;if(void 0===o)o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");l.writeUInt16BE(o,r);r+=2;o=n.queue;void 0===o&&(o="");l[r]=s;r++;l.write(o,r,"utf8");r+=s;o=n.exchange;void 0===o&&(o=void 0);l[r]=p;r++;l.write(o,r,"utf8");r+=p;o=n.routingKey;void 0===o&&(o="");l[r]=u;r++;l.write(o,r,"utf8");r+=u;o=n.nowait;void 0===o&&(o=!1);o&&(c+=1);l[r]=c;r++;c=0;r+=v.copy(l,r);l[r]=206;l.writeUInt32BE(r-7,3);return l}function decodeQueueBindOk(e){var n={};return n}function encodeQueueBindOk(e,n){var t=0,r=0,o=i.alloc(12+r);o[0]=1;o.writeUInt16BE(e,1);o.writeUInt32BE(3276821,7);t=11;o[t]=206;o.writeUInt32BE(t-7,3);return o}function decodeQueuePurge(e){var n,t,i=0,r={ticket:void 0,queue:void 0,nowait:void 0};n=e.readUInt16BE(i);i+=2;r.ticket=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.queue=n;n=!!(1&e[i]);r.nowait=n;return r}function encodeQueuePurge(e,n){var t=0,r=null,o=0,a=0;r=n.queue;if(void 0===r)r="";else if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var c=i.byteLength(r,"utf8");a+=c;var f=i.alloc(16+a);f[0]=1;f.writeUInt16BE(e,1);f.writeUInt32BE(3276830,7);t=11;r=n.ticket;if(void 0===r)r=0;else if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");f.writeUInt16BE(r,t);t+=2;r=n.queue;void 0===r&&(r="");f[t]=c;t++;f.write(r,t,"utf8");t+=c;r=n.nowait;void 0===r&&(r=!1);r&&(o+=1);f[t]=o;t++;f[t]=206;f.writeUInt32BE(t-7,3);return f}function decodeQueuePurgeOk(e){var n,t=0,i={messageCount:void 0};n=e.readUInt32BE(t);t+=4;i.messageCount=n;return i}function encodeQueuePurgeOk(e,n){var t=0,r=null,o=0,a=i.alloc(16+o);a[0]=1;a.writeUInt16BE(e,1);a.writeUInt32BE(3276831,7);t=11;r=n.messageCount;if(void 0===r)throw new Error("Missing value for mandatory field 'messageCount'");if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'messageCount' is the wrong type; must be a number (but not NaN)");a.writeUInt32BE(r,t);t+=4;a[t]=206;a.writeUInt32BE(t-7,3);return a}function decodeQueueDelete(e){var n,t,i=0,r={ticket:void 0,queue:void 0,ifUnused:void 0,ifEmpty:void 0,nowait:void 0};n=e.readUInt16BE(i);i+=2;r.ticket=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.queue=n;n=!!(1&e[i]);r.ifUnused=n;n=!!(2&e[i]);r.ifEmpty=n;n=!!(4&e[i]);r.nowait=n;return r}function encodeQueueDelete(e,n){var t=0,r=null,o=0,a=0;r=n.queue;if(void 0===r)r="";else if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var c=i.byteLength(r,"utf8");a+=c;var f=i.alloc(16+a);f[0]=1;f.writeUInt16BE(e,1);f.writeUInt32BE(3276840,7);t=11;r=n.ticket;if(void 0===r)r=0;else if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");f.writeUInt16BE(r,t);t+=2;r=n.queue;void 0===r&&(r="");f[t]=c;t++;f.write(r,t,"utf8");t+=c;r=n.ifUnused;void 0===r&&(r=!1);r&&(o+=1);r=n.ifEmpty;void 0===r&&(r=!1);r&&(o+=2);r=n.nowait;void 0===r&&(r=!1);r&&(o+=4);f[t]=o;t++;f[t]=206;f.writeUInt32BE(t-7,3);return f}function decodeQueueDeleteOk(e){var n,t=0,i={messageCount:void 0};n=e.readUInt32BE(t);t+=4;i.messageCount=n;return i}function encodeQueueDeleteOk(e,n){var t=0,r=null,o=0,a=i.alloc(16+o);a[0]=1;a.writeUInt16BE(e,1);a.writeUInt32BE(3276841,7);t=11;r=n.messageCount;if(void 0===r)throw new Error("Missing value for mandatory field 'messageCount'");if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'messageCount' is the wrong type; must be a number (but not NaN)");a.writeUInt32BE(r,t);t+=4;a[t]=206;a.writeUInt32BE(t-7,3);return a}function decodeQueueUnbind(e){var n,t,i=0,r={ticket:void 0,queue:void 0,exchange:void 0,routingKey:void 0,arguments:void 0};n=e.readUInt16BE(i);i+=2;r.ticket=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.queue=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.exchange=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.routingKey=n;t=e.readUInt32BE(i);i+=4;n=c(e.slice(i,i+t));i+=t;r.arguments=n;return r}function encodeQueueUnbind(e,n){var t,r=0,o=null,c=0,d=0;o=n.queue;if(void 0===o)o="";else if(!("string"==typeof o&&i.byteLength(o)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var h=i.byteLength(o,"utf8");c+=h;o=n.exchange;if(void 0===o)throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof o&&i.byteLength(o)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var s=i.byteLength(o,"utf8");c+=s;o=n.routingKey;if(void 0===o)o="";else if(!("string"==typeof o&&i.byteLength(o)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var p=i.byteLength(o,"utf8");c+=p;o=n.arguments;if(void 0===o)o={};else if("object"!=typeof o)throw new TypeError("Field 'arguments' is the wrong type; must be an object");t=a(f,o,d);var u=f.slice(d,d+t);d+=t;c+=u.length;var v=i.alloc(17+c);v[0]=1;v.writeUInt16BE(e,1);v.writeUInt32BE(3276850,7);r=11;o=n.ticket;if(void 0===o)o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");v.writeUInt16BE(o,r);r+=2;o=n.queue;void 0===o&&(o="");v[r]=h;r++;v.write(o,r,"utf8");r+=h;o=n.exchange;void 0===o&&(o=void 0);v[r]=s;r++;v.write(o,r,"utf8");r+=s;o=n.routingKey;void 0===o&&(o="");v[r]=p;r++;v.write(o,r,"utf8");r+=p;r+=u.copy(v,r);v[r]=206;v.writeUInt32BE(r-7,3);return v}function decodeQueueUnbindOk(e){var n={};return n}function encodeQueueUnbindOk(e,n){var t=0,r=0,o=i.alloc(12+r);o[0]=1;o.writeUInt16BE(e,1);o.writeUInt32BE(3276851,7);t=11;o[t]=206;o.writeUInt32BE(t-7,3);return o}function decodeBasicQos(e){var n,t=0,i={prefetchSize:void 0,prefetchCount:void 0,global:void 0};n=e.readUInt32BE(t);t+=4;i.prefetchSize=n;n=e.readUInt16BE(t);t+=2;i.prefetchCount=n;n=!!(1&e[t]);i.global=n;return i}function encodeBasicQos(e,n){var t=0,r=null,o=0,a=0,c=i.alloc(19+a);c[0]=1;c.writeUInt16BE(e,1);c.writeUInt32BE(3932170,7);t=11;r=n.prefetchSize;if(void 0===r)r=0;else if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'prefetchSize' is the wrong type; must be a number (but not NaN)");c.writeUInt32BE(r,t);t+=4;r=n.prefetchCount;if(void 0===r)r=0;else if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'prefetchCount' is the wrong type; must be a number (but not NaN)");c.writeUInt16BE(r,t);t+=2;r=n.global;void 0===r&&(r=!1);r&&(o+=1);c[t]=o;t++;c[t]=206;c.writeUInt32BE(t-7,3);return c}function decodeBasicQosOk(e){var n={};return n}function encodeBasicQosOk(e,n){var t=0,r=0,o=i.alloc(12+r);o[0]=1;o.writeUInt16BE(e,1);o.writeUInt32BE(3932171,7);t=11;o[t]=206;o.writeUInt32BE(t-7,3);return o}function decodeBasicConsume(e){var n,t,i=0,r={ticket:void 0,queue:void 0,consumerTag:void 0,noLocal:void 0,noAck:void 0,exclusive:void 0,nowait:void 0,arguments:void 0};n=e.readUInt16BE(i);i+=2;r.ticket=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.queue=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.consumerTag=n;n=!!(1&e[i]);r.noLocal=n;n=!!(2&e[i]);r.noAck=n;n=!!(4&e[i]);r.exclusive=n;n=!!(8&e[i]);r.nowait=n;i++;t=e.readUInt32BE(i);i+=4;n=c(e.slice(i,i+t));i+=t;r.arguments=n;return r}function encodeBasicConsume(e,n){var t,r=0,o=null,c=0,d=0,h=0;o=n.queue;if(void 0===o)o="";else if(!("string"==typeof o&&i.byteLength(o)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var s=i.byteLength(o,"utf8");d+=s;o=n.consumerTag;if(void 0===o)o="";else if(!("string"==typeof o&&i.byteLength(o)<256))throw new TypeError("Field 'consumerTag' is the wrong type; must be a string (up to 255 chars)");var p=i.byteLength(o,"utf8");d+=p;o=n.arguments;if(void 0===o)o={};else if("object"!=typeof o)throw new TypeError("Field 'arguments' is the wrong type; must be an object");t=a(f,o,h);var u=f.slice(h,h+t);h+=t;d+=u.length;var v=i.alloc(17+d);v[0]=1;v.writeUInt16BE(e,1);v.writeUInt32BE(3932180,7);r=11;o=n.ticket;if(void 0===o)o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");v.writeUInt16BE(o,r);r+=2;o=n.queue;void 0===o&&(o="");v[r]=s;r++;v.write(o,r,"utf8");r+=s;o=n.consumerTag;void 0===o&&(o="");v[r]=p;r++;v.write(o,r,"utf8");r+=p;o=n.noLocal;void 0===o&&(o=!1);o&&(c+=1);o=n.noAck;void 0===o&&(o=!1);o&&(c+=2);o=n.exclusive;void 0===o&&(o=!1);o&&(c+=4);o=n.nowait;void 0===o&&(o=!1);o&&(c+=8);v[r]=c;r++;c=0;r+=u.copy(v,r);v[r]=206;v.writeUInt32BE(r-7,3);return v}function decodeBasicConsumeOk(e){var n,t,i=0,r={consumerTag:void 0};t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.consumerTag=n;return r}function encodeBasicConsumeOk(e,n){var t=0,r=null,o=0;r=n.consumerTag;if(void 0===r)throw new Error("Missing value for mandatory field 'consumerTag'");if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'consumerTag' is the wrong type; must be a string (up to 255 chars)");var a=i.byteLength(r,"utf8");o+=a;var c=i.alloc(13+o);c[0]=1;c.writeUInt16BE(e,1);c.writeUInt32BE(3932181,7);t=11;r=n.consumerTag;void 0===r&&(r=void 0);c[t]=a;t++;c.write(r,t,"utf8");t+=a;c[t]=206;c.writeUInt32BE(t-7,3);return c}function decodeBasicCancel(e){var n,t,i=0,r={consumerTag:void 0,nowait:void 0};t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.consumerTag=n;n=!!(1&e[i]);r.nowait=n;return r}function encodeBasicCancel(e,n){var t=0,r=null,o=0,a=0;r=n.consumerTag;if(void 0===r)throw new Error("Missing value for mandatory field 'consumerTag'");if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'consumerTag' is the wrong type; must be a string (up to 255 chars)");var c=i.byteLength(r,"utf8");a+=c;var f=i.alloc(14+a);f[0]=1;f.writeUInt16BE(e,1);f.writeUInt32BE(3932190,7);t=11;r=n.consumerTag;void 0===r&&(r=void 0);f[t]=c;t++;f.write(r,t,"utf8");t+=c;r=n.nowait;void 0===r&&(r=!1);r&&(o+=1);f[t]=o;t++;f[t]=206;f.writeUInt32BE(t-7,3);return f}function decodeBasicCancelOk(e){var n,t,i=0,r={consumerTag:void 0};t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.consumerTag=n;return r}function encodeBasicCancelOk(e,n){var t=0,r=null,o=0;r=n.consumerTag;if(void 0===r)throw new Error("Missing value for mandatory field 'consumerTag'");if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'consumerTag' is the wrong type; must be a string (up to 255 chars)");var a=i.byteLength(r,"utf8");o+=a;var c=i.alloc(13+o);c[0]=1;c.writeUInt16BE(e,1);c.writeUInt32BE(3932191,7);t=11;r=n.consumerTag;void 0===r&&(r=void 0);c[t]=a;t++;c.write(r,t,"utf8");t+=a;c[t]=206;c.writeUInt32BE(t-7,3);return c}function decodeBasicPublish(e){var n,t,i=0,r={ticket:void 0,exchange:void 0,routingKey:void 0,mandatory:void 0,immediate:void 0};n=e.readUInt16BE(i);i+=2;r.ticket=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.exchange=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.routingKey=n;n=!!(1&e[i]);r.mandatory=n;n=!!(2&e[i]);r.immediate=n;return r}function encodeBasicPublish(e,n){var t=0,r=null,o=0,a=0;r=n.exchange;if(void 0===r)r="";else if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var c=i.byteLength(r,"utf8");a+=c;r=n.routingKey;if(void 0===r)r="";else if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var f=i.byteLength(r,"utf8");a+=f;var d=i.alloc(17+a);d[0]=1;d.writeUInt16BE(e,1);d.writeUInt32BE(3932200,7);t=11;r=n.ticket;if(void 0===r)r=0;else if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");d.writeUInt16BE(r,t);t+=2;r=n.exchange;void 0===r&&(r="");d[t]=c;t++;d.write(r,t,"utf8");t+=c;r=n.routingKey;void 0===r&&(r="");d[t]=f;t++;d.write(r,t,"utf8");t+=f;r=n.mandatory;void 0===r&&(r=!1);r&&(o+=1);r=n.immediate;void 0===r&&(r=!1);r&&(o+=2);d[t]=o;t++;d[t]=206;d.writeUInt32BE(t-7,3);return d}function decodeBasicReturn(e){var n,t,i=0,r={replyCode:void 0,replyText:void 0,exchange:void 0,routingKey:void 0};n=e.readUInt16BE(i);i+=2;r.replyCode=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.replyText=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.exchange=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.routingKey=n;return r}function encodeBasicReturn(e,n){var t=0,r=null,o=0;r=n.replyText;if(void 0===r)r="";else if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'replyText' is the wrong type; must be a string (up to 255 chars)");var a=i.byteLength(r,"utf8");o+=a;r=n.exchange;if(void 0===r)throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var c=i.byteLength(r,"utf8");o+=c;r=n.routingKey;if(void 0===r)throw new Error("Missing value for mandatory field 'routingKey'");if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var f=i.byteLength(r,"utf8");o+=f;var d=i.alloc(17+o);d[0]=1;d.writeUInt16BE(e,1);d.writeUInt32BE(3932210,7);t=11;r=n.replyCode;if(void 0===r)throw new Error("Missing value for mandatory field 'replyCode'");if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'replyCode' is the wrong type; must be a number (but not NaN)");d.writeUInt16BE(r,t);t+=2;r=n.replyText;void 0===r&&(r="");d[t]=a;t++;d.write(r,t,"utf8");t+=a;r=n.exchange;void 0===r&&(r=void 0);d[t]=c;t++;d.write(r,t,"utf8");t+=c;r=n.routingKey;void 0===r&&(r=void 0);d[t]=f;t++;d.write(r,t,"utf8");t+=f;d[t]=206;d.writeUInt32BE(t-7,3);return d}function decodeBasicDeliver(e){var n,t,i=0,r={consumerTag:void 0,deliveryTag:void 0,redelivered:void 0,exchange:void 0,routingKey:void 0};t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.consumerTag=n;n=o.readUInt64BE(e,i);i+=8;r.deliveryTag=n;n=!!(1&e[i]);r.redelivered=n;i++;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.exchange=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.routingKey=n;return r}function encodeBasicDeliver(e,n){var t=0,r=null,a=0,c=0;r=n.consumerTag;if(void 0===r)throw new Error("Missing value for mandatory field 'consumerTag'");if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'consumerTag' is the wrong type; must be a string (up to 255 chars)");var f=i.byteLength(r,"utf8");c+=f;r=n.exchange;if(void 0===r)throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var d=i.byteLength(r,"utf8");c+=d;r=n.routingKey;if(void 0===r)throw new Error("Missing value for mandatory field 'routingKey'");if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var h=i.byteLength(r,"utf8");c+=h;var s=i.alloc(24+c);s[0]=1;s.writeUInt16BE(e,1);s.writeUInt32BE(3932220,7);t=11;r=n.consumerTag;void 0===r&&(r=void 0);s[t]=f;t++;s.write(r,t,"utf8");t+=f;r=n.deliveryTag;if(void 0===r)throw new Error("Missing value for mandatory field 'deliveryTag'");if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'deliveryTag' is the wrong type; must be a number (but not NaN)");o.writeUInt64BE(s,r,t);t+=8;r=n.redelivered;void 0===r&&(r=!1);r&&(a+=1);s[t]=a;t++;a=0;r=n.exchange;void 0===r&&(r=void 0);s[t]=d;t++;s.write(r,t,"utf8");t+=d;r=n.routingKey;void 0===r&&(r=void 0);s[t]=h;t++;s.write(r,t,"utf8");t+=h;s[t]=206;s.writeUInt32BE(t-7,3);return s}function decodeBasicGet(e){var n,t,i=0,r={ticket:void 0,queue:void 0,noAck:void 0};n=e.readUInt16BE(i);i+=2;r.ticket=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.queue=n;n=!!(1&e[i]);r.noAck=n;return r}function encodeBasicGet(e,n){var t=0,r=null,o=0,a=0;r=n.queue;if(void 0===r)r="";else if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var c=i.byteLength(r,"utf8");a+=c;var f=i.alloc(16+a);f[0]=1;f.writeUInt16BE(e,1);f.writeUInt32BE(3932230,7);t=11;r=n.ticket;if(void 0===r)r=0;else if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");f.writeUInt16BE(r,t);t+=2;r=n.queue;void 0===r&&(r="");f[t]=c;t++;f.write(r,t,"utf8");t+=c;r=n.noAck;void 0===r&&(r=!1);r&&(o+=1);f[t]=o;t++;f[t]=206;f.writeUInt32BE(t-7,3);return f}function decodeBasicGetOk(e){var n,t,i=0,r={deliveryTag:void 0,redelivered:void 0,exchange:void 0,routingKey:void 0,messageCount:void 0};n=o.readUInt64BE(e,i);i+=8;r.deliveryTag=n;n=!!(1&e[i]);r.redelivered=n;i++;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.exchange=n;t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.routingKey=n;n=e.readUInt32BE(i);i+=4;r.messageCount=n;return r}function encodeBasicGetOk(e,n){var t=0,r=null,a=0,c=0;r=n.exchange;if(void 0===r)throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var f=i.byteLength(r,"utf8");c+=f;r=n.routingKey;if(void 0===r)throw new Error("Missing value for mandatory field 'routingKey'");if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var d=i.byteLength(r,"utf8");c+=d;var h=i.alloc(27+c);h[0]=1;h.writeUInt16BE(e,1);h.writeUInt32BE(3932231,7);t=11;r=n.deliveryTag;if(void 0===r)throw new Error("Missing value for mandatory field 'deliveryTag'");if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'deliveryTag' is the wrong type; must be a number (but not NaN)");o.writeUInt64BE(h,r,t);t+=8;r=n.redelivered;void 0===r&&(r=!1);r&&(a+=1);h[t]=a;t++;a=0;r=n.exchange;void 0===r&&(r=void 0);h[t]=f;t++;h.write(r,t,"utf8");t+=f;r=n.routingKey;void 0===r&&(r=void 0);h[t]=d;t++;h.write(r,t,"utf8");t+=d;r=n.messageCount;if(void 0===r)throw new Error("Missing value for mandatory field 'messageCount'");if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'messageCount' is the wrong type; must be a number (but not NaN)");h.writeUInt32BE(r,t);t+=4;h[t]=206;h.writeUInt32BE(t-7,3);return h}function decodeBasicGetEmpty(e){var n,t,i=0,r={clusterId:void 0};t=e.readUInt8(i);i++;n=e.toString("utf8",i,i+t);i+=t;r.clusterId=n;return r}function encodeBasicGetEmpty(e,n){var t=0,r=null,o=0;r=n.clusterId;if(void 0===r)r="";else if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'clusterId' is the wrong type; must be a string (up to 255 chars)");var a=i.byteLength(r,"utf8");o+=a;var c=i.alloc(13+o);c[0]=1;c.writeUInt16BE(e,1);c.writeUInt32BE(3932232,7);t=11;r=n.clusterId;void 0===r&&(r="");c[t]=a;t++;c.write(r,t,"utf8");t+=a;c[t]=206;c.writeUInt32BE(t-7,3);return c}function decodeBasicAck(e){var n,t=0,i={deliveryTag:void 0,multiple:void 0};n=o.readUInt64BE(e,t);t+=8;i.deliveryTag=n;n=!!(1&e[t]);i.multiple=n;return i}function encodeBasicAck(e,n){var t=0,r=null,a=0,c=0,f=i.alloc(21+c);f[0]=1;f.writeUInt16BE(e,1);f.writeUInt32BE(3932240,7);t=11;r=n.deliveryTag;if(void 0===r)r=0;else if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'deliveryTag' is the wrong type; must be a number (but not NaN)");o.writeUInt64BE(f,r,t);t+=8;r=n.multiple;void 0===r&&(r=!1);r&&(a+=1);f[t]=a;t++;f[t]=206;f.writeUInt32BE(t-7,3);return f}function decodeBasicReject(e){var n,t=0,i={deliveryTag:void 0,requeue:void 0};n=o.readUInt64BE(e,t);t+=8;i.deliveryTag=n;n=!!(1&e[t]);i.requeue=n;return i}function encodeBasicReject(e,n){var t=0,r=null,a=0,c=0,f=i.alloc(21+c);f[0]=1;f.writeUInt16BE(e,1);f.writeUInt32BE(3932250,7);t=11;r=n.deliveryTag;if(void 0===r)throw new Error("Missing value for mandatory field 'deliveryTag'");if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'deliveryTag' is the wrong type; must be a number (but not NaN)");o.writeUInt64BE(f,r,t);t+=8;r=n.requeue;void 0===r&&(r=!0);r&&(a+=1);f[t]=a;t++;f[t]=206;f.writeUInt32BE(t-7,3);return f}function decodeBasicRecoverAsync(e){var n,t=0,i={requeue:void 0};n=!!(1&e[t]);i.requeue=n;return i}function encodeBasicRecoverAsync(e,n){var t=0,r=null,o=0,a=0,c=i.alloc(13+a);c[0]=1;c.writeUInt16BE(e,1);c.writeUInt32BE(3932260,7);t=11;r=n.requeue;void 0===r&&(r=!1);r&&(o+=1);c[t]=o;t++;c[t]=206;c.writeUInt32BE(t-7,3);return c}function decodeBasicRecover(e){var n,t=0,i={requeue:void 0};n=!!(1&e[t]);i.requeue=n;return i}function encodeBasicRecover(e,n){var t=0,r=null,o=0,a=0,c=i.alloc(13+a);c[0]=1;c.writeUInt16BE(e,1);c.writeUInt32BE(3932270,7);t=11;r=n.requeue;void 0===r&&(r=!1);r&&(o+=1);c[t]=o;t++;c[t]=206;c.writeUInt32BE(t-7,3);return c}function decodeBasicRecoverOk(e){var n={};return n}function encodeBasicRecoverOk(e,n){var t=0,r=0,o=i.alloc(12+r);o[0]=1;o.writeUInt16BE(e,1);o.writeUInt32BE(3932271,7);t=11;o[t]=206;o.writeUInt32BE(t-7,3);return o}function decodeBasicNack(e){var n,t=0,i={deliveryTag:void 0,multiple:void 0,requeue:void 0};n=o.readUInt64BE(e,t);t+=8;i.deliveryTag=n;n=!!(1&e[t]);i.multiple=n;n=!!(2&e[t]);i.requeue=n;return i}function encodeBasicNack(e,n){var t=0,r=null,a=0,c=0,f=i.alloc(21+c);f[0]=1;f.writeUInt16BE(e,1);f.writeUInt32BE(3932280,7);t=11;r=n.deliveryTag;if(void 0===r)r=0;else if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'deliveryTag' is the wrong type; must be a number (but not NaN)");o.writeUInt64BE(f,r,t);t+=8;r=n.multiple;void 0===r&&(r=!1);r&&(a+=1);r=n.requeue;void 0===r&&(r=!0);r&&(a+=2);f[t]=a;t++;f[t]=206;f.writeUInt32BE(t-7,3);return f}function decodeTxSelect(e){var n={};return n}function encodeTxSelect(e,n){var t=0,r=0,o=i.alloc(12+r);o[0]=1;o.writeUInt16BE(e,1);o.writeUInt32BE(5898250,7);t=11;o[t]=206;o.writeUInt32BE(t-7,3);return o}function decodeTxSelectOk(e){var n={};return n}function encodeTxSelectOk(e,n){var t=0,r=0,o=i.alloc(12+r);o[0]=1;o.writeUInt16BE(e,1);o.writeUInt32BE(5898251,7);t=11;o[t]=206;o.writeUInt32BE(t-7,3);return o}function decodeTxCommit(e){var n={};return n}function encodeTxCommit(e,n){var t=0,r=0,o=i.alloc(12+r);o[0]=1;o.writeUInt16BE(e,1);o.writeUInt32BE(5898260,7);t=11;o[t]=206;o.writeUInt32BE(t-7,3);return o}function decodeTxCommitOk(e){var n={};return n}function encodeTxCommitOk(e,n){var t=0,r=0,o=i.alloc(12+r);o[0]=1;o.writeUInt16BE(e,1);o.writeUInt32BE(5898261,7);t=11;o[t]=206;o.writeUInt32BE(t-7,3);return o}function decodeTxRollback(e){var n={};return n}function encodeTxRollback(e,n){var t=0,r=0,o=i.alloc(12+r);o[0]=1;o.writeUInt16BE(e,1);o.writeUInt32BE(5898270,7);t=11;o[t]=206;o.writeUInt32BE(t-7,3);return o}function decodeTxRollbackOk(e){var n={};return n}function encodeTxRollbackOk(e,n){var t=0,r=0,o=i.alloc(12+r);o[0]=1;o.writeUInt16BE(e,1);o.writeUInt32BE(5898271,7);t=11;o[t]=206;o.writeUInt32BE(t-7,3);return o}function decodeConfirmSelect(e){var n,t=0,i={nowait:void 0};n=!!(1&e[t]);i.nowait=n;return i}function encodeConfirmSelect(e,n){var t=0,r=null,o=0,a=0,c=i.alloc(13+a);c[0]=1;c.writeUInt16BE(e,1);c.writeUInt32BE(5570570,7);t=11;r=n.nowait;void 0===r&&(r=!1);r&&(o+=1);c[t]=o;t++;c[t]=206;c.writeUInt32BE(t-7,3);return c}function decodeConfirmSelectOk(e){var n={};return n}function encodeConfirmSelectOk(e,n){var t=0,r=0,o=i.alloc(12+r);o[0]=1;o.writeUInt16BE(e,1);o.writeUInt32BE(5570571,7);t=11;o[t]=206;o.writeUInt32BE(t-7,3);return o}function encodeBasicProperties(e,n,t){var r,c,d=0,h=0,s=0,p=0;r=t.contentType;if(void 0!=r){if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'contentType' is the wrong type; must be a string (up to 255 chars)");var u=i.byteLength(r,"utf8");p+=1;p+=u}r=t.contentEncoding;if(void 0!=r){if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'contentEncoding' is the wrong type; must be a string (up to 255 chars)");var v=i.byteLength(r,"utf8");p+=1;p+=v}r=t.headers;if(void 0!=r){if("object"!=typeof r)throw new TypeError("Field 'headers' is the wrong type; must be an object");c=a(f,r,s);var l=f.slice(s,s+c);s+=c;p+=l.length}r=t.deliveryMode;if(void 0!=r){if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'deliveryMode' is the wrong type; must be a number (but not NaN)");p+=1}r=t.priority;if(void 0!=r){if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'priority' is the wrong type; must be a number (but not NaN)");p+=1}r=t.correlationId;if(void 0!=r){if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'correlationId' is the wrong type; must be a string (up to 255 chars)");var g=i.byteLength(r,"utf8");p+=1;p+=g}r=t.replyTo;if(void 0!=r){if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'replyTo' is the wrong type; must be a string (up to 255 chars)");var y=i.byteLength(r,"utf8");p+=1;p+=y}r=t.expiration;if(void 0!=r){if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'expiration' is the wrong type; must be a string (up to 255 chars)");var m=i.byteLength(r,"utf8");p+=1;p+=m}r=t.messageId;if(void 0!=r){if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'messageId' is the wrong type; must be a string (up to 255 chars)");var w=i.byteLength(r,"utf8");p+=1;p+=w}r=t.timestamp;if(void 0!=r){if("number"!=typeof r||isNaN(r))throw new TypeError("Field 'timestamp' is the wrong type; must be a number (but not NaN)");p+=8}r=t.type;if(void 0!=r){if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'type' is the wrong type; must be a string (up to 255 chars)");var _=i.byteLength(r,"utf8");p+=1;p+=_}r=t.userId;if(void 0!=r){if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'userId' is the wrong type; must be a string (up to 255 chars)");var E=i.byteLength(r,"utf8");p+=1;p+=E}r=t.appId;if(void 0!=r){if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'appId' is the wrong type; must be a string (up to 255 chars)");var b=i.byteLength(r,"utf8");p+=1;p+=b}r=t.clusterId;if(void 0!=r){if(!("string"==typeof r&&i.byteLength(r)<256))throw new TypeError("Field 'clusterId' is the wrong type; must be a string (up to 255 chars)");var I=i.byteLength(r,"utf8");p+=1;p+=I}var C=i.alloc(22+p);C[0]=2;C.writeUInt16BE(e,1);C.writeUInt32BE(3932160,7);o.writeUInt64BE(C,n,11);h=0;d=21;r=t.contentType;if(void 0!=r){h+=32768;C[d]=u;d++;C.write(r,d,"utf8");d+=u}r=t.contentEncoding;if(void 0!=r){h+=16384;C[d]=v;d++;C.write(r,d,"utf8");d+=v}r=t.headers;if(void 0!=r){h+=8192;d+=l.copy(C,d)}r=t.deliveryMode;if(void 0!=r){h+=4096;C.writeUInt8(r,d);d++}r=t.priority;if(void 0!=r){h+=2048;C.writeUInt8(r,d);d++}r=t.correlationId;if(void 0!=r){h+=1024;C[d]=g;d++;C.write(r,d,"utf8");d+=g}r=t.replyTo;if(void 0!=r){h+=512;C[d]=y;d++;C.write(r,d,"utf8");d+=y}r=t.expiration;if(void 0!=r){h+=256;C[d]=m;d++;C.write(r,d,"utf8");d+=m}r=t.messageId;if(void 0!=r){h+=128;C[d]=w;d++;C.write(r,d,"utf8");d+=w}r=t.timestamp;if(void 0!=r){h+=64;o.writeUInt64BE(C,r,d);d+=8}r=t.type;if(void 0!=r){h+=32;C[d]=_;d++;C.write(r,d,"utf8");d+=_}r=t.userId;if(void 0!=r){h+=16;C[d]=E;d++;C.write(r,d,"utf8");d+=E}r=t.appId;if(void 0!=r){h+=8;C[d]=b;d++;C.write(r,d,"utf8");d+=b}r=t.clusterId;if(void 0!=r){h+=4;C[d]=I;d++;C.write(r,d,"utf8");d+=I}C[d]=206;C.writeUInt32BE(d-7,3);C.writeUInt16BE(h,19);return C.slice(0,d+1)}function decodeBasicProperties(e){var n,t,i,r=2;n=e.readUInt16BE(0);if(0===n)return{};var a={contentType:void 0,contentEncoding:void 0,headers:void 0,deliveryMode:void 0,priority:void 0,correlationId:void 0,replyTo:void 0,expiration:void 0,messageId:void 0,timestamp:void 0,type:void 0,userId:void 0,appId:void 0,clusterId:void 0};if(32768&n){i=e.readUInt8(r);r++;t=e.toString("utf8",r,r+i);r+=i;a.contentType=t}if(16384&n){i=e.readUInt8(r);r++;t=e.toString("utf8",r,r+i);r+=i;a.contentEncoding=t}if(8192&n){i=e.readUInt32BE(r);r+=4;t=c(e.slice(r,r+i));r+=i;a.headers=t}if(4096&n){t=e[r];r++;a.deliveryMode=t}if(2048&n){t=e[r];r++;a.priority=t}if(1024&n){i=e.readUInt8(r);r++;t=e.toString("utf8",r,r+i);r+=i;a.correlationId=t}if(512&n){i=e.readUInt8(r);r++;t=e.toString("utf8",r,r+i);r+=i;a.replyTo=t}if(256&n){i=e.readUInt8(r);r++;t=e.toString("utf8",r,r+i);r+=i;a.expiration=t}if(128&n){i=e.readUInt8(r);r++;t=e.toString("utf8",r,r+i);r+=i;a.messageId=t}if(64&n){t=o.readUInt64BE(e,r);r+=8;a.timestamp=t}if(32&n){i=e.readUInt8(r);r++;t=e.toString("utf8",r,r+i);r+=i;a.type=t}if(16&n){i=e.readUInt8(r);r++;t=e.toString("utf8",r,r+i);r+=i;a.userId=t}if(8&n){i=e.readUInt8(r);r++;t=e.toString("utf8",r,r+i);r+=i;a.appId=t}if(4&n){i=e.readUInt8(r);r++;t=e.toString("utf8",r,r+i);r+=i;a.clusterId=t}return a}var i=t(470).Buffer,r=t(89),o=t(473),a=r.encodeTable,c=r.decodeFields,f=i.alloc(16384),d=Object.freeze({});e.exports.constants={FRAME_METHOD:1,FRAME_HEADER:2,FRAME_BODY:3,FRAME_HEARTBEAT:8,FRAME_MIN_SIZE:4096,FRAME_END:206,REPLY_SUCCESS:200,CONTENT_TOO_LARGE:311,NO_ROUTE:312,NO_CONSUMERS:313,ACCESS_REFUSED:403,NOT_FOUND:404,RESOURCE_LOCKED:405,PRECONDITION_FAILED:406,CONNECTION_FORCED:320,INVALID_PATH:402,FRAME_ERROR:501,SYNTAX_ERROR:502,COMMAND_INVALID:503,CHANNEL_ERROR:504,UNEXPECTED_FRAME:505,RESOURCE_ERROR:506,NOT_ALLOWED:530,NOT_IMPLEMENTED:540,INTERNAL_ERROR:541};e.exports.constant_strs={1:"FRAME-METHOD",2:"FRAME-HEADER",3:"FRAME-BODY",8:"FRAME-HEARTBEAT",200:"REPLY-SUCCESS",206:"FRAME-END",311:"CONTENT-TOO-LARGE",312:"NO-ROUTE",313:"NO-CONSUMERS",320:"CONNECTION-FORCED",402:"INVALID-PATH",403:"ACCESS-REFUSED",404:"NOT-FOUND",405:"RESOURCE-LOCKED",406:"PRECONDITION-FAILED",501:"FRAME-ERROR",502:"SYNTAX-ERROR",503:"COMMAND-INVALID",504:"CHANNEL-ERROR",505:"UNEXPECTED-FRAME",506:"RESOURCE-ERROR",530:"NOT-ALLOWED",540:"NOT-IMPLEMENTED",541:"INTERNAL-ERROR",4096:"FRAME-MIN-SIZE"};e.exports.FRAME_OVERHEAD=8;e.exports.decode=function(e,n){switch(e){case 655370:return decodeConnectionStart(n);case 655371:return decodeConnectionStartOk(n);case 655380:return decodeConnectionSecure(n);case 655381:return decodeConnectionSecureOk(n);case 655390:return decodeConnectionTune(n);case 655391:return decodeConnectionTuneOk(n);case 655400:return decodeConnectionOpen(n);case 655401:return decodeConnectionOpenOk(n);case 655410:return decodeConnectionClose(n);case 655411:return decodeConnectionCloseOk(n);case 655420:return decodeConnectionBlocked(n);case 655421:return decodeConnectionUnblocked(n);case 1310730:return decodeChannelOpen(n);case 1310731:return decodeChannelOpenOk(n);case 1310740:return decodeChannelFlow(n);case 1310741:return decodeChannelFlowOk(n);case 1310760:return decodeChannelClose(n);case 1310761:return decodeChannelCloseOk(n);case 1966090:return decodeAccessRequest(n);case 1966091:return decodeAccessRequestOk(n);case 2621450:return decodeExchangeDeclare(n);case 2621451:return decodeExchangeDeclareOk(n);case 2621460:return decodeExchangeDelete(n);case 2621461:return decodeExchangeDeleteOk(n);case 2621470:return decodeExchangeBind(n);case 2621471:return decodeExchangeBindOk(n);case 2621480:return decodeExchangeUnbind(n);case 2621491:return decodeExchangeUnbindOk(n);case 3276810:return decodeQueueDeclare(n);case 3276811:return decodeQueueDeclareOk(n);case 3276820:return decodeQueueBind(n);case 3276821:return decodeQueueBindOk(n);case 3276830:return decodeQueuePurge(n);case 3276831:return decodeQueuePurgeOk(n);case 3276840:return decodeQueueDelete(n);case 3276841:return decodeQueueDeleteOk(n);case 3276850:return decodeQueueUnbind(n);case 3276851:return decodeQueueUnbindOk(n);case 3932170:return decodeBasicQos(n);case 3932171:return decodeBasicQosOk(n);case 3932180:return decodeBasicConsume(n);case 3932181:return decodeBasicConsumeOk(n);case 3932190:return decodeBasicCancel(n);case 3932191:return decodeBasicCancelOk(n);case 3932200:return decodeBasicPublish(n);case 3932210:return decodeBasicReturn(n);case 3932220:return decodeBasicDeliver(n);case 3932230:return decodeBasicGet(n);case 3932231:return decodeBasicGetOk(n);case 3932232:return decodeBasicGetEmpty(n);case 3932240:return decodeBasicAck(n);case 3932250:return decodeBasicReject(n);case 3932260:return decodeBasicRecoverAsync(n);case 3932270:return decodeBasicRecover(n);case 3932271:return decodeBasicRecoverOk(n);case 3932280:return decodeBasicNack(n);case 5898250:return decodeTxSelect(n);case 5898251:return decodeTxSelectOk(n);case 5898260:return decodeTxCommit(n);case 5898261:return decodeTxCommitOk(n);case 5898270:return decodeTxRollback(n);case 5898271:return decodeTxRollbackOk(n);case 5570570:return decodeConfirmSelect(n);case 5570571:return decodeConfirmSelectOk(n);case 60:return decodeBasicProperties(n);default:throw new Error("Unknown class/method ID")}};e.exports.encodeMethod=function(e,n,t){switch(e){case 655370:return encodeConnectionStart(n,t);case 655371:return encodeConnectionStartOk(n,t);case 655380:return encodeConnectionSecure(n,t);case 655381:return encodeConnectionSecureOk(n,t);case 655390:return encodeConnectionTune(n,t);case 655391:return encodeConnectionTuneOk(n,t);case 655400:return encodeConnectionOpen(n,t);case 655401:return encodeConnectionOpenOk(n,t);case 655410:return encodeConnectionClose(n,t);case 655411:return encodeConnectionCloseOk(n,t);case 655420:return encodeConnectionBlocked(n,t);case 655421:return encodeConnectionUnblocked(n,t);case 1310730:return encodeChannelOpen(n,t);case 1310731:return encodeChannelOpenOk(n,t);case 1310740:return encodeChannelFlow(n,t);case 1310741:return encodeChannelFlowOk(n,t);case 1310760:return encodeChannelClose(n,t);case 1310761:return encodeChannelCloseOk(n,t);case 1966090:return encodeAccessRequest(n,t);case 1966091:return encodeAccessRequestOk(n,t);case 2621450:return encodeExchangeDeclare(n,t);case 2621451:return encodeExchangeDeclareOk(n,t);case 2621460:return encodeExchangeDelete(n,t);case 2621461:return encodeExchangeDeleteOk(n,t);case 2621470:return encodeExchangeBind(n,t);case 2621471:return encodeExchangeBindOk(n,t);case 2621480:return encodeExchangeUnbind(n,t);case 2621491:return encodeExchangeUnbindOk(n,t);case 3276810:return encodeQueueDeclare(n,t);case 3276811:return encodeQueueDeclareOk(n,t);case 3276820:return encodeQueueBind(n,t);case 3276821:return encodeQueueBindOk(n,t);case 3276830:return encodeQueuePurge(n,t);case 3276831:return encodeQueuePurgeOk(n,t);case 3276840:return encodeQueueDelete(n,t);case 3276841:return encodeQueueDeleteOk(n,t);case 3276850:return encodeQueueUnbind(n,t);case 3276851:return encodeQueueUnbindOk(n,t);case 3932170:return encodeBasicQos(n,t);case 3932171:return encodeBasicQosOk(n,t);case 3932180:return encodeBasicConsume(n,t);case 3932181:return encodeBasicConsumeOk(n,t);case 3932190:return encodeBasicCancel(n,t);case 3932191:return encodeBasicCancelOk(n,t);case 3932200:return encodeBasicPublish(n,t);case 3932210:return encodeBasicReturn(n,t);case 3932220:return encodeBasicDeliver(n,t);case 3932230:return encodeBasicGet(n,t);case 3932231:return encodeBasicGetOk(n,t);case 3932232:return encodeBasicGetEmpty(n,t);case 3932240:return encodeBasicAck(n,t);case 3932250:return encodeBasicReject(n,t);case 3932260:return encodeBasicRecoverAsync(n,t);case 3932270:return encodeBasicRecover(n,t);case 3932271:return encodeBasicRecoverOk(n,t);case 3932280:return encodeBasicNack(n,t);case 5898250:return encodeTxSelect(n,t);case 5898251:return encodeTxSelectOk(n,t);case 5898260:return encodeTxCommit(n,t);case 5898261:return encodeTxCommitOk(n,t);case 5898270:return encodeTxRollback(n,t);case 5898271:return encodeTxRollbackOk(n,t);case 5570570:return encodeConfirmSelect(n,t);case 5570571:return encodeConfirmSelectOk(n,t);default:throw new Error("Unknown class/method ID")}};e.exports.encodeProperties=function(e,n,t,i){switch(e){case 60:return encodeBasicProperties(n,t,i);default:throw new Error("Unknown class/properties ID")}};e.exports.info=function(e){switch(e){case 655370:return h;case 655371:return s;case 655380:return p;case 655381:return u;case 655390:return v;case 655391:return l;case 655400:return g;case 655401:return y;case 655410:return m;case 655411:return w;case 655420:return _;case 655421:return E;case 1310730:return b;case 1310731:return I;case 1310740:return C;case 1310741:return k;case 1310760:return x;case 1310761:return B;case 1966090:return U;case 1966091:return T;case 2621450:return S;case 2621451:return O;case 2621460:return A;case 2621461:return F;case 2621470:return R;case 2621471:return L;case 2621480:return P;case 2621491:return M;case 3276810:return N;case 3276811:return D;case 3276820:return j;case 3276821:return q;case 3276830:return Q;case 3276831:return z;case 3276840:return $;case 3276841:return H;case 3276850:return W;case 3276851:return V;case 3932170:return K;case 3932171:return X;case 3932180:return J;case 3932181:return Z;case 3932190:return Y;case 3932191:return G;case 3932200:return ee;case 3932210:return ne;case 3932220:return te;case 3932230:return ie;case 3932231:return re;case 3932232:return oe;case 3932240:return ae;case 3932250:return ce;case 3932260:return fe;case 3932270:return de;case 3932271:return he;case 3932280:return se;case 5898250:return pe;case 5898251:return ue;case 5898260:return ve;case 5898261:return le;case 5898270:return ge;case 5898271:return ye;case 5570570:return me;case 5570571:return we;case 60:return _e;default:throw new Error("Unknown class/method ID")}};e.exports.ConnectionStart=655370;var h=e.exports.methodInfoConnectionStart={id:655370,classId:10,methodId:10,name:"ConnectionStart",args:[{type:"octet",name:"versionMajor",default:0},{type:"octet",name:"versionMinor",default:9},{type:"table",name:"serverProperties"},{type:"longstr",name:"mechanisms",default:"PLAIN"},{type:"longstr",name:"locales",default:"en_US"}]};e.exports.ConnectionStartOk=655371;var s=e.exports.methodInfoConnectionStartOk={id:655371,classId:10,methodId:11,name:"ConnectionStartOk",args:[{type:"table",name:"clientProperties"},{type:"shortstr",name:"mechanism",default:"PLAIN"},{type:"longstr",name:"response"},{type:"shortstr",name:"locale",default:"en_US"}]};e.exports.ConnectionSecure=655380;var p=e.exports.methodInfoConnectionSecure={id:655380,classId:10,methodId:20,name:"ConnectionSecure",args:[{type:"longstr",name:"challenge"}]};e.exports.ConnectionSecureOk=655381;var u=e.exports.methodInfoConnectionSecureOk={id:655381,classId:10,methodId:21,name:"ConnectionSecureOk",args:[{type:"longstr",name:"response"}]};e.exports.ConnectionTune=655390;var v=e.exports.methodInfoConnectionTune={id:655390,classId:10,methodId:30,name:"ConnectionTune",args:[{type:"short",name:"channelMax",default:0},{type:"long",name:"frameMax",default:0},{type:"short",name:"heartbeat",default:0}]};e.exports.ConnectionTuneOk=655391;var l=e.exports.methodInfoConnectionTuneOk={id:655391,classId:10,methodId:31,name:"ConnectionTuneOk",args:[{type:"short",name:"channelMax",default:0},{type:"long",name:"frameMax",default:0},{type:"short",name:"heartbeat",default:0}]};e.exports.ConnectionOpen=655400;var g=e.exports.methodInfoConnectionOpen={id:655400,classId:10,methodId:40,name:"ConnectionOpen",args:[{type:"shortstr",name:"virtualHost",default:"/"},{type:"shortstr",name:"capabilities",default:""},{type:"bit",name:"insist",default:!1}]};e.exports.ConnectionOpenOk=655401;var y=e.exports.methodInfoConnectionOpenOk={id:655401,classId:10,methodId:41,name:"ConnectionOpenOk",args:[{type:"shortstr",name:"knownHosts",default:""}]};e.exports.ConnectionClose=655410;var m=e.exports.methodInfoConnectionClose={id:655410,classId:10,methodId:50,name:"ConnectionClose",args:[{type:"short",name:"replyCode"},{type:"shortstr",name:"replyText",default:""},{type:"short",name:"classId"},{type:"short",name:"methodId"}]};e.exports.ConnectionCloseOk=655411;var w=e.exports.methodInfoConnectionCloseOk={id:655411,classId:10,methodId:51,name:"ConnectionCloseOk",args:[]};e.exports.ConnectionBlocked=655420;var _=e.exports.methodInfoConnectionBlocked={id:655420,classId:10,methodId:60,name:"ConnectionBlocked",args:[{type:"shortstr",name:"reason",default:""}]};e.exports.ConnectionUnblocked=655421;var E=e.exports.methodInfoConnectionUnblocked={id:655421,classId:10,methodId:61,name:"ConnectionUnblocked",args:[]};e.exports.ChannelOpen=1310730;var b=e.exports.methodInfoChannelOpen={id:1310730,classId:20,methodId:10,name:"ChannelOpen",args:[{type:"shortstr",name:"outOfBand",default:""}]};e.exports.ChannelOpenOk=1310731;var I=e.exports.methodInfoChannelOpenOk={id:1310731,classId:20,methodId:11,name:"ChannelOpenOk",args:[{type:"longstr",name:"channelId",default:""}]};e.exports.ChannelFlow=1310740;var C=e.exports.methodInfoChannelFlow={id:1310740,classId:20,methodId:20,name:"ChannelFlow",args:[{type:"bit",name:"active"}]};e.exports.ChannelFlowOk=1310741;var k=e.exports.methodInfoChannelFlowOk={id:1310741,classId:20,methodId:21,name:"ChannelFlowOk",args:[{type:"bit",name:"active"}]};e.exports.ChannelClose=1310760;var x=e.exports.methodInfoChannelClose={id:1310760,classId:20,methodId:40,name:"ChannelClose",args:[{type:"short",name:"replyCode"},{type:"shortstr",name:"replyText",default:""},{type:"short",name:"classId"},{type:"short",name:"methodId"}]};e.exports.ChannelCloseOk=1310761;var B=e.exports.methodInfoChannelCloseOk={id:1310761,classId:20,methodId:41,name:"ChannelCloseOk",args:[]};e.exports.AccessRequest=1966090;var U=e.exports.methodInfoAccessRequest={id:1966090,classId:30,methodId:10,name:"AccessRequest",args:[{type:"shortstr",name:"realm",default:"/data"},{type:"bit",name:"exclusive",default:!1},{type:"bit",name:"passive",default:!0},{type:"bit",name:"active",default:!0},{type:"bit",name:"write",default:!0},{type:"bit",name:"read",default:!0}]};e.exports.AccessRequestOk=1966091;var T=e.exports.methodInfoAccessRequestOk={id:1966091,classId:30,methodId:11,name:"AccessRequestOk",args:[{type:"short",name:"ticket",default:1}]};e.exports.ExchangeDeclare=2621450;var S=e.exports.methodInfoExchangeDeclare={id:2621450,classId:40,methodId:10,name:"ExchangeDeclare",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"type",default:"direct"},{type:"bit",name:"passive",default:!1},{type:"bit",name:"durable",default:!1},{type:"bit",name:"autoDelete",default:!1},{type:"bit",name:"internal",default:!1},{type:"bit",name:"nowait",default:!1},{type:"table",name:"arguments",default:{}}]};e.exports.ExchangeDeclareOk=2621451;var O=e.exports.methodInfoExchangeDeclareOk={id:2621451,classId:40,methodId:11,name:"ExchangeDeclareOk",args:[]};e.exports.ExchangeDelete=2621460;var A=e.exports.methodInfoExchangeDelete={id:2621460,classId:40,methodId:20,name:"ExchangeDelete",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"exchange"},{type:"bit",name:"ifUnused",default:!1},{type:"bit",name:"nowait",default:!1}]};e.exports.ExchangeDeleteOk=2621461;var F=e.exports.methodInfoExchangeDeleteOk={id:2621461,classId:40,methodId:21,name:"ExchangeDeleteOk",args:[]};e.exports.ExchangeBind=2621470;var R=e.exports.methodInfoExchangeBind={id:2621470,classId:40,methodId:30,name:"ExchangeBind",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"destination"},{type:"shortstr",name:"source"},{type:"shortstr",name:"routingKey",default:""},{type:"bit",name:"nowait",default:!1},{type:"table",name:"arguments",default:{}}]};e.exports.ExchangeBindOk=2621471;var L=e.exports.methodInfoExchangeBindOk={id:2621471,classId:40,methodId:31,name:"ExchangeBindOk",args:[]};e.exports.ExchangeUnbind=2621480;var P=e.exports.methodInfoExchangeUnbind={id:2621480,classId:40,methodId:40,name:"ExchangeUnbind",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"destination"},{type:"shortstr",name:"source"},{type:"shortstr",name:"routingKey",default:""},{type:"bit",name:"nowait",default:!1},{type:"table",name:"arguments",default:{}}]};e.exports.ExchangeUnbindOk=2621491;var M=e.exports.methodInfoExchangeUnbindOk={id:2621491,classId:40,methodId:51,name:"ExchangeUnbindOk",args:[]};e.exports.QueueDeclare=3276810;var N=e.exports.methodInfoQueueDeclare={id:3276810,classId:50,methodId:10,name:"QueueDeclare",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"queue",default:""},{type:"bit",name:"passive",default:!1},{type:"bit",name:"durable",default:!1},{type:"bit",name:"exclusive",default:!1},{type:"bit",name:"autoDelete",default:!1},{type:"bit",name:"nowait",default:!1},{type:"table",name:"arguments",default:{}}]};e.exports.QueueDeclareOk=3276811;var D=e.exports.methodInfoQueueDeclareOk={id:3276811,classId:50,methodId:11,name:"QueueDeclareOk",args:[{type:"shortstr",name:"queue"},{type:"long",name:"messageCount"},{type:"long",name:"consumerCount"}]};e.exports.QueueBind=3276820;var j=e.exports.methodInfoQueueBind={id:3276820,classId:50,methodId:20,name:"QueueBind",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"queue",default:""},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"routingKey",default:""},{type:"bit",name:"nowait",default:!1},{type:"table",name:"arguments",default:{}}]};e.exports.QueueBindOk=3276821;var q=e.exports.methodInfoQueueBindOk={id:3276821,classId:50,methodId:21,name:"QueueBindOk",args:[]};e.exports.QueuePurge=3276830;var Q=e.exports.methodInfoQueuePurge={id:3276830,classId:50,methodId:30,name:"QueuePurge",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"queue",default:""},{type:"bit",name:"nowait",default:!1}]};e.exports.QueuePurgeOk=3276831;var z=e.exports.methodInfoQueuePurgeOk={id:3276831,classId:50,methodId:31,name:"QueuePurgeOk",args:[{type:"long",name:"messageCount"}]};e.exports.QueueDelete=3276840;var $=e.exports.methodInfoQueueDelete={id:3276840,classId:50,methodId:40,name:"QueueDelete",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"queue",default:""},{type:"bit",name:"ifUnused",default:!1},{type:"bit",name:"ifEmpty",default:!1},{type:"bit",name:"nowait",default:!1}]};e.exports.QueueDeleteOk=3276841;var H=e.exports.methodInfoQueueDeleteOk={id:3276841,classId:50,methodId:41,name:"QueueDeleteOk",args:[{type:"long",name:"messageCount"}]};e.exports.QueueUnbind=3276850;var W=e.exports.methodInfoQueueUnbind={id:3276850,classId:50,methodId:50,name:"QueueUnbind",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"queue",default:""},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"routingKey",default:""},{type:"table",name:"arguments",default:{}}]};e.exports.QueueUnbindOk=3276851;var V=e.exports.methodInfoQueueUnbindOk={id:3276851,classId:50,methodId:51,name:"QueueUnbindOk",args:[]};e.exports.BasicQos=3932170;var K=e.exports.methodInfoBasicQos={id:3932170,classId:60,methodId:10,name:"BasicQos",args:[{type:"long",name:"prefetchSize",default:0},{type:"short",name:"prefetchCount",default:0},{type:"bit",name:"global",default:!1}]};e.exports.BasicQosOk=3932171;var X=e.exports.methodInfoBasicQosOk={id:3932171,classId:60,methodId:11,name:"BasicQosOk",args:[]};e.exports.BasicConsume=3932180;var J=e.exports.methodInfoBasicConsume={id:3932180,classId:60,methodId:20,name:"BasicConsume",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"queue",default:""},{type:"shortstr",name:"consumerTag",default:""},{type:"bit",name:"noLocal",default:!1},{type:"bit",name:"noAck",default:!1},{type:"bit",name:"exclusive",default:!1},{type:"bit",name:"nowait",default:!1},{type:"table",name:"arguments",default:{}}]};e.exports.BasicConsumeOk=3932181;var Z=e.exports.methodInfoBasicConsumeOk={id:3932181,classId:60,methodId:21,name:"BasicConsumeOk",args:[{type:"shortstr",name:"consumerTag"}]};e.exports.BasicCancel=3932190;var Y=e.exports.methodInfoBasicCancel={id:3932190,classId:60,methodId:30,name:"BasicCancel",args:[{type:"shortstr",name:"consumerTag"},{type:"bit",name:"nowait",default:!1}]};e.exports.BasicCancelOk=3932191;var G=e.exports.methodInfoBasicCancelOk={id:3932191,classId:60,methodId:31,name:"BasicCancelOk",args:[{type:"shortstr",name:"consumerTag"}]};e.exports.BasicPublish=3932200;var ee=e.exports.methodInfoBasicPublish={id:3932200,classId:60,methodId:40,name:"BasicPublish",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"exchange",default:""},{type:"shortstr",name:"routingKey",default:""},{type:"bit",name:"mandatory",default:!1},{type:"bit",name:"immediate",default:!1}]};e.exports.BasicReturn=3932210;var ne=e.exports.methodInfoBasicReturn={id:3932210,classId:60,methodId:50,name:"BasicReturn",args:[{type:"short",name:"replyCode"},{type:"shortstr",name:"replyText",default:""},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"routingKey"}]};e.exports.BasicDeliver=3932220;var te=e.exports.methodInfoBasicDeliver={id:3932220,classId:60,methodId:60,name:"BasicDeliver",args:[{type:"shortstr",name:"consumerTag"},{type:"longlong",name:"deliveryTag"},{type:"bit",name:"redelivered",default:!1},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"routingKey"}]};e.exports.BasicGet=3932230;var ie=e.exports.methodInfoBasicGet={id:3932230,classId:60,methodId:70,name:"BasicGet",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"queue",default:""},{type:"bit",name:"noAck",default:!1}]};e.exports.BasicGetOk=3932231;var re=e.exports.methodInfoBasicGetOk={id:3932231,classId:60,methodId:71,name:"BasicGetOk",args:[{type:"longlong",name:"deliveryTag"},{type:"bit",name:"redelivered",default:!1},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"routingKey"},{type:"long",name:"messageCount"}]};e.exports.BasicGetEmpty=3932232;var oe=e.exports.methodInfoBasicGetEmpty={id:3932232,classId:60,methodId:72,name:"BasicGetEmpty",args:[{type:"shortstr",name:"clusterId",default:""}]};e.exports.BasicAck=3932240;var ae=e.exports.methodInfoBasicAck={id:3932240,classId:60,methodId:80,name:"BasicAck",args:[{type:"longlong",name:"deliveryTag",default:0},{type:"bit",name:"multiple",default:!1}]};e.exports.BasicReject=3932250;var ce=e.exports.methodInfoBasicReject={id:3932250,classId:60,methodId:90,name:"BasicReject",args:[{type:"longlong",name:"deliveryTag"},{type:"bit",name:"requeue",default:!0}]};e.exports.BasicRecoverAsync=3932260;var fe=e.exports.methodInfoBasicRecoverAsync={id:3932260,classId:60,methodId:100,name:"BasicRecoverAsync",args:[{type:"bit",name:"requeue",default:!1}]};e.exports.BasicRecover=3932270;var de=e.exports.methodInfoBasicRecover={id:3932270,classId:60,methodId:110,name:"BasicRecover",args:[{type:"bit",name:"requeue",default:!1}]};e.exports.BasicRecoverOk=3932271;var he=e.exports.methodInfoBasicRecoverOk={id:3932271,classId:60,methodId:111,name:"BasicRecoverOk",args:[]};e.exports.BasicNack=3932280;var se=e.exports.methodInfoBasicNack={id:3932280,classId:60,methodId:120,name:"BasicNack",args:[{type:"longlong",name:"deliveryTag",default:0},{type:"bit",name:"multiple",default:!1},{type:"bit",name:"requeue",default:!0}]};e.exports.TxSelect=5898250;var pe=e.exports.methodInfoTxSelect={id:5898250,classId:90,methodId:10,name:"TxSelect",args:[]};e.exports.TxSelectOk=5898251;var ue=e.exports.methodInfoTxSelectOk={id:5898251,classId:90,methodId:11,name:"TxSelectOk",args:[]};e.exports.TxCommit=5898260;var ve=e.exports.methodInfoTxCommit={id:5898260,classId:90,methodId:20,name:"TxCommit",args:[]};e.exports.TxCommitOk=5898261;var le=e.exports.methodInfoTxCommitOk={id:5898261,classId:90,methodId:21,name:"TxCommitOk",args:[]};e.exports.TxRollback=5898270;var ge=e.exports.methodInfoTxRollback={id:5898270,classId:90,methodId:30,name:"TxRollback",args:[]};e.exports.TxRollbackOk=5898271;var ye=e.exports.methodInfoTxRollbackOk={id:5898271,classId:90,methodId:31,name:"TxRollbackOk",args:[]};e.exports.ConfirmSelect=5570570;var me=e.exports.methodInfoConfirmSelect={id:5570570,classId:85,methodId:10,name:"ConfirmSelect",args:[{type:"bit",name:"nowait",default:!1}]};e.exports.ConfirmSelectOk=5570571;var we=e.exports.methodInfoConfirmSelectOk={id:5570571,classId:85,methodId:11,name:"ConfirmSelectOk",args:[]};e.exports.BasicProperties=60;var _e=e.exports.propertiesInfoBasicProperties={id:60,name:"BasicProperties",args:[{type:"shortstr",name:"contentType"},{type:"shortstr",name:"contentEncoding"},{type:"table",name:"headers"},{type:"octet",name:"deliveryMode"},{type:"octet",name:"priority"},{type:"shortstr",name:"correlationId"},{type:"shortstr",name:"replyTo"},{type:"shortstr",name:"expiration"},{type:"shortstr",name:"messageId"},{type:"timestamp",name:"timestamp"},{type:"shortstr",name:"type"},{type:"shortstr",name:"userId"},{type:"shortstr",name:"appId"},{type:"shortstr",name:"clusterId"}]}},867:function(e){e.exports=require("tty")},870:function(e,n,t){"use strict";e.exports=function(e,n,i){var r=e.PromiseInspection;var o=t(302);function SettledPromiseArray(e){this.constructor$(e)}o.inherits(SettledPromiseArray,n);SettledPromiseArray.prototype._promiseResolved=function(e,n){this._values[e]=n;var t=++this._totalResolved;if(t>=this._length){this._resolve(this._values);return true}return false};SettledPromiseArray.prototype._promiseFulfilled=function(e,n){var t=new r;t._bitField=33554432;t._settledValueField=e;return this._promiseResolved(n,t)};SettledPromiseArray.prototype._promiseRejected=function(e,n){var t=new r;t._bitField=16777216;t._settledValueField=e;return this._promiseResolved(n,t)};e.settle=function(e){i.deprecated(".settle()",".reflect()");return new SettledPromiseArray(e).promise()};e.allSettled=function(e){return new SettledPromiseArray(e).promise()};e.prototype.settle=function(){return e.settle(this)}}},897:function(e,n,t){"use strict";e.exports=function(e,n,i,r,o,a){var c=t(302);var f=t(186).TypeError;var d=t(302).inherits;var h=c.errorObj;var s=c.tryCatch;var p={};function thrower(e){setTimeout(function(){throw e},0)}function castPreservingDisposable(e){var n=i(e);if(n!==e&&typeof e._isDisposable==="function"&&typeof e._getDisposer==="function"&&e._isDisposable()){n._setDisposable(e._getDisposer())}return n}function dispose(n,t){var r=0;var a=n.length;var c=new e(o);function iterator(){if(r>=a)return c._fulfill();var o=castPreservingDisposable(n[r++]);if(o instanceof e&&o._isDisposable()){try{o=i(o._getDisposer().tryDispose(t),n.promise)}catch(e){return thrower(e)}if(o instanceof e){return o._then(iterator,thrower,null,null,null)}}iterator()}iterator();return c}function Disposer(e,n,t){this._data=e;this._promise=n;this._context=t}Disposer.prototype.data=function(){return this._data};Disposer.prototype.promise=function(){return this._promise};Disposer.prototype.resource=function(){if(this.promise().isFulfilled()){return this.promise().value()}return p};Disposer.prototype.tryDispose=function(e){var n=this.resource();var t=this._context;if(t!==undefined)t._pushContext();var i=n!==p?this.doDispose(n,e):null;if(t!==undefined)t._popContext();this._promise._unsetDisposable();this._data=null;return i};Disposer.isDisposer=function(e){return e!=null&&typeof e.resource==="function"&&typeof e.tryDispose==="function"};function FunctionDisposer(e,n,t){this.constructor$(e,n,t)}d(FunctionDisposer,Disposer);FunctionDisposer.prototype.doDispose=function(e,n){var t=this.data();return t.call(e,e,n)};function maybeUnwrapDisposer(e){if(Disposer.isDisposer(e)){this.resources[this.index]._setDisposable(e);return e.promise()}return e}function ResourceList(e){this.length=e;this.promise=null;this[e-1]=null}ResourceList.prototype._resultCancelled=function(){var n=this.length;for(var t=0;t<n;++t){var i=this[t];if(i instanceof e){i.cancel()}}};e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var r=arguments[t-1];if(typeof r!=="function"){return n("expecting a function but got "+c.classString(r))}var o;var f=true;if(t===2&&Array.isArray(arguments[0])){o=arguments[0];t=o.length;f=false}else{o=arguments;t--}var d=new ResourceList(t);for(var p=0;p<t;++p){var u=o[p];if(Disposer.isDisposer(u)){var v=u;u=u.promise();u._setDisposable(v)}else{var l=i(u);if(l instanceof e){u=l._then(maybeUnwrapDisposer,null,null,{resources:d,index:p},undefined)}}d[p]=u}var g=new Array(d.length);for(var p=0;p<g.length;++p){g[p]=e.resolve(d[p]).reflect()}var y=e.all(g).then(function(e){for(var n=0;n<e.length;++n){var t=e[n];if(t.isRejected()){h.e=t.error();return h}else if(!t.isFulfilled()){y.cancel();return}e[n]=t.value()}m._pushContext();r=s(r);var i=f?r.apply(undefined,e):r(e);var o=m._popContext();a.checkForgottenReturns(i,o,"Promise.using",m);return i});var m=y.lastly(function(){var n=new e.PromiseInspection(y);return dispose(d,n)});d.promise=m;m._setOnCancel(d);return m};e.prototype._setDisposable=function(e){this._bitField=this._bitField|131072;this._disposer=e};e.prototype._isDisposable=function(){return(this._bitField&131072)>0};e.prototype._getDisposer=function(){return this._disposer};e.prototype._unsetDisposable=function(){this._bitField=this._bitField&~131072;this._disposer=undefined};e.prototype.disposer=function(e){if(typeof e==="function"){return new FunctionDisposer(e,this,r())}throw new f}}},906:function(e,n,t){"use strict";e.exports=function(e){var n=t(302);var i=t(846).keys;var r=n.tryCatch;var o=n.errorObj;function catchFilter(t,a,c){return function(f){var d=c._boundValue();e:for(var h=0;h<t.length;++h){var s=t[h];if(s===Error||s!=null&&s.prototype instanceof Error){if(f instanceof s){return r(a).call(d,f)}}else if(typeof s==="function"){var p=r(s).call(d,f);if(p===o){return p}else if(p){return r(a).call(d,f)}}else if(n.isObject(f)){var u=i(s);for(var v=0;v<u.length;++v){var l=u[v];if(s[l]!=f[l]){continue e}}return r(a).call(d,f)}}return e}}return catchFilter}},927:function(e){"use strict";function setIfDefined(e,n,t){if(t!=undefined)e[n]=t}var n=Object.freeze({});var t={};t.assertQueue=function(e,t){e=e||"";t=t||n;var i=Object.create(t.arguments||null);setIfDefined(i,"x-expires",t.expires);setIfDefined(i,"x-message-ttl",t.messageTtl);setIfDefined(i,"x-dead-letter-exchange",t.deadLetterExchange);setIfDefined(i,"x-dead-letter-routing-key",t.deadLetterRoutingKey);setIfDefined(i,"x-max-length",t.maxLength);setIfDefined(i,"x-max-priority",t.maxPriority);setIfDefined(i,"x-overflow",t.overflow);setIfDefined(i,"x-queue-mode",t.queueMode);return{queue:e,exclusive:!!t.exclusive,durable:t.durable===undefined?true:t.durable,autoDelete:!!t.autoDelete,arguments:i,passive:false,ticket:0,nowait:false}};t.checkQueue=function(e){return{queue:e,passive:true,nowait:false,durable:true,autoDelete:false,exclusive:false,ticket:0}};t.deleteQueue=function(e,t){t=t||n;return{queue:e,ifUnused:!!t.ifUnused,ifEmpty:!!t.ifEmpty,ticket:0,nowait:false}};t.purgeQueue=function(e){return{queue:e,ticket:0,nowait:false}};t.bindQueue=function(e,n,t,i){return{queue:e,exchange:n,routingKey:t,arguments:i,ticket:0,nowait:false}};t.unbindQueue=function(e,n,t,i){return{queue:e,exchange:n,routingKey:t,arguments:i,ticket:0,nowait:false}};t.assertExchange=function(e,t,i){i=i||n;var r=Object.create(i.arguments||null);setIfDefined(r,"alternate-exchange",i.alternateExchange);return{exchange:e,ticket:0,type:t,passive:false,durable:i.durable===undefined?true:i.durable,autoDelete:!!i.autoDelete,internal:!!i.internal,nowait:false,arguments:r}};t.checkExchange=function(e){return{exchange:e,passive:true,nowait:false,durable:true,internal:false,type:"",autoDelete:false,ticket:0}};t.deleteExchange=function(e,t){t=t||n;return{exchange:e,ifUnused:!!t.ifUnused,ticket:0,nowait:false}};t.bindExchange=function(e,n,t,i){return{source:n,destination:e,routingKey:t,arguments:i,ticket:0,nowait:false}};t.unbindExchange=function(e,n,t,i){return{source:n,destination:e,routingKey:t,arguments:i,ticket:0,nowait:false}};t.publish=function(e,t,i){i=i||n;function convertCC(e){if(e===undefined){return undefined}else if(Array.isArray(e)){return e.map(String)}else return[String(e)]}var r=Object.create(i.headers||null);setIfDefined(r,"CC",convertCC(i.CC));setIfDefined(r,"BCC",convertCC(i.BCC));var o;if(i.persistent!==undefined)o=i.persistent?2:1;else if(typeof i.deliveryMode==="number")o=i.deliveryMode;else if(i.deliveryMode)o=2;var a=i.expiration;if(a!==undefined)a=a.toString();return{exchange:e,routingKey:t,mandatory:!!i.mandatory,immediate:false,ticket:undefined,contentType:i.contentType,contentEncoding:i.contentEncoding,headers:r,deliveryMode:o,priority:i.priority,correlationId:i.correlationId,replyTo:i.replyTo,expiration:a,messageId:i.messageId,timestamp:i.timestamp,type:i.type,userId:i.userId,appId:i.appId,clusterId:undefined}};t.consume=function(e,t){t=t||n;var i=Object.create(t.arguments||null);setIfDefined(i,"x-priority",t.priority);return{ticket:0,queue:e,consumerTag:t.consumerTag||"",noLocal:!!t.noLocal,noAck:!!t.noAck,exclusive:!!t.exclusive,nowait:false,arguments:i}};t.cancel=function(e){return{consumerTag:e,nowait:false}};t.get=function(e,t){t=t||n;return{ticket:0,queue:e,noAck:!!t.noAck}};t.ack=function(e,n){return{deliveryTag:e,multiple:!!n}};t.nack=function(e,n,t){return{deliveryTag:e,multiple:!!n,requeue:t===undefined?true:t}};t.reject=function(e,n){return{deliveryTag:e,requeue:n===undefined?true:n}};t.prefetch=function(e,n){return{prefetchCount:e||0,prefetchSize:0,global:!!n}};t.recover=function(){return{requeue:true}};e.exports=Object.freeze(t)},957:function(e){"use strict";e.exports=function(e,n,t,i){var r=false;var o=function(e,n){this._reject(n)};var a=function(e,n){n.promiseRejectionQueued=true;n.bindingPromise._then(o,o,null,this,e)};var c=function(e,n){if((this._bitField&50397184)===0){this._resolveCallback(n.target)}};var f=function(e,n){if(!n.promiseRejectionQueued)this._reject(e)};e.prototype.bind=function(o){if(!r){r=true;e.prototype._propagateFrom=i.propagateFromFunction();e.prototype._boundValue=i.boundValueFunction()}var d=t(o);var h=new e(n);h._propagateFrom(this,1);var s=this._target();h._setBoundTo(d);if(d instanceof e){var p={promiseRejectionQueued:false,promise:h,target:s,bindingPromise:d};s._then(n,a,undefined,h,p);d._then(c,f,undefined,h,p);h._setOnCancel(d)}else{h._resolveCallback(s)}return h};e.prototype._setBoundTo=function(e){if(e!==undefined){this._bitField=this._bitField|2097152;this._boundTo=e}else{this._bitField=this._bitField&~2097152}};e.prototype._isBound=function(){return(this._bitField&2097152)===2097152};e.bind=function(n,t){return e.resolve(t).bind(n)}}},961:function(e){"use strict";e.exports=function(e){var n=false;var t=[];e.prototype._promiseCreated=function(){};e.prototype._pushContext=function(){};e.prototype._popContext=function(){return null};e._peekContext=e.prototype._peekContext=function(){};function Context(){this._trace=new Context.CapturedTrace(peekContext())}Context.prototype._pushContext=function(){if(this._trace!==undefined){this._trace._promiseCreated=null;t.push(this._trace)}};Context.prototype._popContext=function(){if(this._trace!==undefined){var e=t.pop();var n=e._promiseCreated;e._promiseCreated=null;return n}return null};function createContext(){if(n)return new Context}function peekContext(){var e=t.length-1;if(e>=0){return t[e]}return undefined}Context.CapturedTrace=null;Context.create=createContext;Context.deactivateLongStackTraces=function(){};Context.activateLongStackTraces=function(){var t=e.prototype._pushContext;var i=e.prototype._popContext;var r=e._peekContext;var o=e.prototype._peekContext;var a=e.prototype._promiseCreated;Context.deactivateLongStackTraces=function(){e.prototype._pushContext=t;e.prototype._popContext=i;e._peekContext=r;e.prototype._peekContext=o;e.prototype._promiseCreated=a;n=false};n=true;e.prototype._pushContext=Context.prototype._pushContext;e.prototype._popContext=Context.prototype._popContext;e._peekContext=e.prototype._peekContext=peekContext;e.prototype._promiseCreated=function(){var e=this._peekContext();if(e&&e._promiseCreated==null)e._promiseCreated=this}};return Context}},976:function(e){e.exports=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"}}});